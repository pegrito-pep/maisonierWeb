{"version":3,"sources":["webpack:///./src/views/gestion-immobiliere/depenses/DepenseForm.vue?d3e2","webpack:///./src/plugins/notif.js","webpack:///./src/components/_patrimoine/FormBatiment.vue?6172","webpack:///src/components/_patrimoine/FormBatiment.vue","webpack:///./src/components/_patrimoine/FormBatiment.vue?e4db","webpack:///./src/components/_patrimoine/FormBatiment.vue","webpack:///./src/views/gestion-immobiliere/depenses/Depense.vue?b48a","webpack:///src/views/gestion-immobiliere/depenses/Depense.vue","webpack:///./src/views/gestion-immobiliere/depenses/Depense.vue?5f65","webpack:///./src/views/gestion-immobiliere/depenses/Depense.vue","webpack:///./src/components/_patrimoine/Batiment.vue?fce1","webpack:///src/components/_patrimoine/Batiment.vue","webpack:///./src/components/_patrimoine/Batiment.vue?619b","webpack:///./src/components/_patrimoine/Batiment.vue","webpack:///./src/views/gestion-immobiliere/depenses/DepenseForm.vue?43d6","webpack:///src/views/gestion-immobiliere/depenses/DepenseForm.vue","webpack:///./src/views/gestion-immobiliere/depenses/DepenseForm.vue?6dc7","webpack:///./src/views/gestion-immobiliere/depenses/DepenseForm.vue","webpack:///./src/components/parts/SearchForm.vue?a393","webpack:///src/components/parts/SearchForm.vue","webpack:///./src/components/parts/SearchForm.vue?d005","webpack:///./src/components/parts/SearchForm.vue"],"names":["success","message","callback","this","make","type","bgcolor","error","config","notif","Object","assign","msg","timeout","render","_vm","_h","$createElement","_c","_self","attrs","showOverlay","staticClass","style","cite","repeaterId","staticStyle","model","value","$$v","nom","expression","ref","$getBase64","photo","batiment","$set","_e","cites","idCite","scopedSlots","_u","key","fn","nomCite","refCite","_v","_s","directives","name","rawName","selected_index_cite","_l","i","image","submitted","on","submitForm","staticRenderFns","php","data","watch","slideCites","setSlide_cite","props","action","String","default","computed","empty","uniqid","filter","elt","getCites","makeRepeater","methods","storage","get","axios","then","response","result","set","unshift","nomBatiment","refBatiment","setTimeout","$","repeater","isFirstItemUndeletable","index","length","$refs","citeCarousel","setSlide","App","batiments","post","alertError","repeaterVal","group","console","log","$emit","notifySuccess","catch","notifyError","put","idBatiment","component","depense","ucfirst","motif","toLowerCase","modifiers","montant","$dayjs","dateDepense","format","source","_m","logement","refLogement","observation","isSub","$event","preventDefault","showDetails","apply","arguments","accessTo","remove","required","Boolean","Number","day","$date","createdAt","modal","$router","push","query","target","idDepense","confirm","delete","dayjs","diff","showOverlayP","onrecuLoad","ariaDescribedby","options","disableState","setAction","commandeAction","class","disabled","id","logements","provenance","submitModal","text","date","responsable","obs","showSelectCite","showSelectBatiment","showSelectLogement","sendForm","components","DatePicker","e","fileDepense","getBase64","bvModalEvt","idLogement","resetModal","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","placeholder","val","mounted","JSON","parse","stringify"],"mappings":"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","file":"js/chunk-06775db1.721316a7.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepenseForm.vue?vue&type=style&index=0&id=47a744a2&scoped=true&lang=css&\"","export default {\r\n\tsuccess: function (message, callback) {\r\n\t\tthis.make(message, {\r\n\t\t\ttype: 'success',\r\n\t\t\tbgcolor: '#5bd747'\r\n\t\t}, callback)\r\n\t},\r\n\r\n\terror: function (message, callback) {\r\n\t\tthis.make(message, {\r\n\t\t\ttype: 'error'\r\n\t\t}, callback)\r\n\t},\r\n\r\n\tmake: function (message, config, callback) {\r\n\t\tnotif(Object.assign({}, {\r\n\t\t\ttype: \"info\",\r\n\t\t\tmsg: message,\r\n\t\t\ttimeout: 3000,\r\n\t\t\tcallback\r\n\t\t}, config))\r\n\t}\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[_c('div',{staticClass:\"d-flex flex-column justify-content-between h-100\"},[_c('div',{style:(_vm.cite != null ? 'height: 73.5vh;' : ''),attrs:{\"id\":_vm.repeaterId}},[_c('div',{staticClass:\"d-flex flex-column justify-content-between\",staticStyle:{\"height\":\"95%\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\"}},[_c('div',{attrs:{\"data-repeater-list\":\"group\"}},[_c('b-row',{attrs:{\"data-repeater-item\":\"\"}},[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Nom du batiment\"}},[_c('b-form-input',{attrs:{\"name\":\"nom\",\"placeholder\":\"Ex: Batiment A\",\"trim\":\"\"},model:{value:(_vm.nom),callback:function ($$v) {_vm.nom=$$v},expression:\"nom\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Reference\"}},[_c('b-form-input',{attrs:{\"name\":\"ref\",\"placeholder\":\"Ex: B1\",\"trim\":\"\"},model:{value:(_vm.ref),callback:function ($$v) {_vm.ref=$$v},expression:\"ref\"}})],1),(_vm.cite == null)?_c('b-form-group',{attrs:{\"label\":\"Photo\"}},[_c('img-inputer',{attrs:{\"img-src\":_vm.$getBase64(_vm.photo.batiment, false),\"placeholder\":\"Ajouter la photo du batiment\",\"theme\":\"light\",\"size\":\"xl\",\"bottom-text\":\"déposez le fichier ici ou cliquez pour modifier\",\"icon\":\"img\"},model:{value:(_vm.photo.batiment),callback:function ($$v) {_vm.$set(_vm.photo, \"batiment\", $$v)},expression:\"photo.batiment\"}})],1):_vm._e()],1),_c('b-col',[(_vm.cite != null)?_c('b-form-group',{attrs:{\"label\":\"Photo\"}},[_c('img-inputer',{attrs:{\"name\":\"test\",\"placeholder\":\"Ajouter la photo du batiment\",\"theme\":\"light\",\"size\":\"xl\",\"bottom-text\":\"déposez le fichier ici ou cliquez pour modifier\",\"icon\":\"img\"}})],1):_c('div',[_c('b-form-group',{attrs:{\"label\":\"Cité\"}},[_c('v-select',{staticClass:\"py-1\",attrs:{\"options\":_vm.cites,\"reduce\":function (cite) { return cite.idCite; },\"label\":\"nomCite\"},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar nomCite = ref.nomCite;\nvar refCite = ref.refCite;\nvar idCite = ref.idCite;\nreturn [_vm._v(\" \"+_vm._s(nomCite)+\" \"),_c('br'),_c('span',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(idCite != -1 ? 'Reference: ' : '')+_vm._s(refCite))]),(idCite == -1)?_c('hr',{staticClass:\"m-0 bg-danger\",staticStyle:{\"border-width\":\"1.5px\"}}):_vm._e()]}}]),model:{value:(_vm.idCite),callback:function ($$v) {_vm.idCite=$$v},expression:\"idCite\"}})],1),_c('b-carousel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.idCite != -1),expression:\"idCite != -1\"}],ref:\"citeCarousel\",attrs:{\"interval\":0,\"controls\":\"\"},model:{value:(_vm.selected_index_cite),callback:function ($$v) {_vm.selected_index_cite=$$v},expression:\"selected_index_cite\"}},_vm._l((_vm.slideCites),function(cite,i){return _c('b-carousel-slide',{key:i,staticClass:\"fluid w-100 responsive border\",staticStyle:{\"height\":\"20em\"},attrs:{\"img-src\":cite.image || '/img/bgCity.jpg'}})}),1),(_vm.idCite == -1)?_c('div',[_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Nom de la cité\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: Cité de la joie\",\"trim\":\"\"},model:{value:(_vm.nomCite),callback:function ($$v) {_vm.nomCite=$$v},expression:\"nomCite\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Reférence de la cité\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: CDJ\",\"trim\":\"\"},model:{value:(_vm.refCite),callback:function ($$v) {_vm.refCite=$$v},expression:\"refCite\"}})],1)],1)],1),_c('b-form-group',{attrs:{\"label\":\"Photo\"}},[_c('img-inputer',{attrs:{\"img-src\":_vm.$getBase64(_vm.photo.cite, false),\"placeholder\":\"Ajouter la photo de la cité\",\"theme\":\"light\",\"size\":\"xl\",\"bottom-text\":\"déposez le fichier ici ou cliquez pour modifier\",\"icon\":\"img\"},model:{value:(_vm.photo.cite),callback:function ($$v) {_vm.$set(_vm.photo, \"cite\", $$v)},expression:\"photo.cite\"}})],1)],1):_vm._e()],1)],1),(_vm.cite != null)?_c('b-col',{staticClass:\"m-0 p-0 mr-2\",attrs:{\"cols\":\"1\"}},[_c('b-form-group',{attrs:{\"label\":\"Action\"}},[_c('b-button',{attrs:{\"data-repeater-delete\":\"\",\"variant\":\"outline-danger\"}},[_c('i',{staticClass:\"fa fa-times\"})])],1)],1):_vm._e()],1)],1)]),_c('div',{staticClass:\"w-100 d-flex justify-content-end align-items-center mt-4\"},[(null != _vm.cite)?_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"data-repeater-create\":\"\"}},[_vm._v(\"Ajouter un élément\")]):_vm._e(),_c('b-button',{staticClass:\"ml-2\",attrs:{\"variant\":\"danger\",\"disabled\":_vm.submitted},on:{\"click\":_vm.submitForm}},[_vm._v(\"Valider \"),(_vm.submitted)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e()],1)],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-overlay :show=\"showOverlay\" rounded=\"sm\"><div class=\"d-flex flex-column justify-content-between h-100\">\r\n        <div :id=\"repeaterId\"  :style=\"cite != null ? 'height: 73.5vh;' : ''\">\r\n            <div class=\"d-flex flex-column justify-content-between\" style=\"height: 95%; overflow-y: auto; overflow-x: hidden\"><div data-repeater-list=\"group\">\r\n                <b-row data-repeater-item>\r\n                    <b-col>\r\n                        <b-form-group label=\"Nom du batiment\">\r\n                            <b-form-input name=\"nom\" v-model=\"nom\" placeholder=\"Ex: Batiment A\" trim></b-form-input>\r\n                        </b-form-group>\r\n                        <b-form-group label=\"Reference\">\r\n                            <b-form-input name=\"ref\" v-model=\"ref\" placeholder=\"Ex: B1\" trim></b-form-input>\r\n                        </b-form-group>\r\n                        <b-form-group v-if=\"cite == null\" label=\"Photo\">\r\n                            <img-inputer v-model=\"photo.batiment\" :img-src=\"$getBase64(photo.batiment, false)\" placeholder=\"Ajouter la photo du batiment\" theme=\"light\" size=\"xl\" bottom-text=\"déposez le fichier ici ou cliquez pour modifier\" icon=\"img\" />\r\n                        </b-form-group>\r\n                    </b-col> \r\n\r\n                    <b-col>\r\n                        <b-form-group v-if=\"cite != null\" label=\"Photo\">\r\n                             <img-inputer name=\"test\" placeholder=\"Ajouter la photo du batiment\" theme=\"light\" size=\"xl\" bottom-text=\"déposez le fichier ici ou cliquez pour modifier\" icon=\"img\" />\r\n                        </b-form-group>\r\n                        <div v-else>\r\n                            <b-form-group label=\"Cité\">\r\n                                <v-select class=\"py-1\" :options=\"cites\" v-model=\"idCite\" :reduce=\"cite => cite.idCite\" label=\"nomCite\">\r\n                                    <template #option=\"{ nomCite, refCite, idCite }\">\r\n                                        {{ nomCite }}\r\n                                        <br />\r\n                                        <span class=\"text-muted\"> {{ idCite != -1 ? 'Reference: ' : ''}}{{ refCite }}</span>\r\n                                        <hr class=\"m-0 bg-danger\" v-if=\"idCite == -1\" style=\"border-width: 1.5px\">\r\n                                    </template>\r\n                                </v-select>\r\n                            </b-form-group>\r\n                            <b-carousel v-show=\"idCite != -1\" :interval=\"0\" controls v-model=\"selected_index_cite\" ref=\"citeCarousel\">\r\n                                <b-carousel-slide style=\"height: 20em\" v-for=\"(cite, i) in slideCites\" :key=\"i\" :img-src=\"cite.image || '/img/bgCity.jpg'\" class=\"fluid w-100 responsive border\"/>\r\n                            </b-carousel>\r\n                            <div v-if=\"idCite == -1\">\r\n                                <b-row>\r\n                                    <b-col><b-form-group label=\"Nom de la cité\">\r\n                                        <b-form-input v-model=\"nomCite\" placeholder=\"Ex: Cité de la joie\" trim />\r\n                                    </b-form-group></b-col>\r\n                                    <b-col><b-form-group label=\"Reférence de la cité\">\r\n                                        <b-form-input v-model=\"refCite\" placeholder=\"Ex: CDJ\" trim />\r\n                                    </b-form-group></b-col>\r\n                                </b-row>\r\n                                <b-form-group label=\"Photo\">\r\n                                    <img-inputer v-model=\"photo.cite\" :img-src=\"$getBase64(photo.cite, false)\" placeholder=\"Ajouter la photo de la cité\" theme=\"light\" size=\"xl\" bottom-text=\"déposez le fichier ici ou cliquez pour modifier\" icon=\"img\" />\r\n                                </b-form-group>\r\n                            </div>\r\n                        </div>\r\n                    </b-col>\r\n                    <b-col cols=\"1\" class=\"m-0 p-0 mr-2\" v-if=\"cite != null\"><b-form-group label=\"Action\">\r\n                        <b-button data-repeater-delete variant=\"outline-danger\"><i class=\"fa fa-times\"></i></b-button>\r\n                    </b-form-group></b-col>   \r\n                </b-row>   \r\n            </div></div>\r\n\r\n            <div class=\"w-100 d-flex justify-content-end align-items-center mt-4\">\r\n                <b-button v-if=\"null != cite\" variant=\"outline-primary\" data-repeater-create>Ajouter un élément</b-button>\r\n                <b-button variant=\"danger\" @click=\"submitForm\" class=\"ml-2\" :disabled=\"submitted\">Valider <b-spinner v-if=\"submitted\" small /></b-button>    \r\n            </div>\r\n        </div> \r\n    </div></b-overlay>\r\n</template>\r\n\r\n<script>\r\nconst php = require('phpjs')\r\n\r\nexport default {\r\n    data: () => ({\r\n        submitted: false,\r\n        showOverlay: true,\r\n\r\n        cites: [],\r\n        idCite: -1,\r\n        nom: null,\r\n        ref: null,\r\n        nomCite: null,\r\n        refCite: null,\r\n        photo: { batiment: null, cite: null },\r\n        selected_index_cite: null\r\n    }),\r\n    watch: {\r\n        selected_index_cite(value) {\r\n            this.idCite = this.slideCites[value].idCite\r\n        },\r\n        idCite(value) {\r\n            this.setSlide_cite(value)\r\n        }\r\n    },\r\n    props: {\r\n        action: {type: String, default: 'add'},\r\n        batiment: {type: Object, default: null},\r\n        cite: {type: Object, default: null},\r\n    },\r\n    computed: {\r\n        repeaterId() {\r\n            return `repeat-added-batiment-form-${php.empty(this.cite) ? php.uniqid() : this.cite.idCite}`\r\n        },\r\n        slideCites() {\r\n            return this.cites.filter(elt => elt.idCite != -1)\r\n        }\r\n    },\r\n    created() {\r\n        this.getCites()\r\n    },\r\n    mounted() {\r\n        if (!php.empty(this.cite)) {\r\n            this.makeRepeater()\r\n            this.idCite = this.cite.idCite\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        async getCites() {\r\n            let cites = storage.get('cites')\r\n            if (php.empty(cites)) {\r\n                cites = await axios.get('cites').then(response => response.result || [])\r\n                storage.set('cites', cites, 10)\r\n            }\r\n            this.cites = cites || []\r\n            \r\n            if (!php.empty(this.batiment)) {\r\n                this.nom = this.batiment.nomBatiment\r\n                this.ref = this.batiment.refBatiment\r\n                this.photo.batiment = this.batiment.image\r\n                this.idCite = this.batiment.idCite\r\n            }\r\n            else {\r\n                this.cites.unshift({\r\n                    nomCite: 'Créer une nouvelle cité', refCite: 'Ajout d\\'une cité inexistante', idCite: -1\r\n                })\r\n            }\r\n            this.showOverlay = false\r\n        },\r\n\r\n        makeRepeater() {\r\n            setTimeout(() => {\r\n                $(`#${this.repeaterId}`).repeater({ isFirstItemUndeletable: true  })\r\n            }, 500);\r\n        },\r\n\r\n        /**\r\n        * Set l'image du carousel lorsqu'on change le logement\r\n        */\r\n        setSlide_cite(value) {\r\n            for (let index = 0; index < this.slideCites.length; index++) {\r\n                if (this.slideCites[index].idCite == value && !php.empty(this.$refs.citeCarousel)) {\r\n                    this.$refs.citeCarousel.setSlide(index);\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Validation du formulaire d'ajout/modification du batiment\r\n         */\r\n        async submitForm() {\r\n\r\n            if (php.empty(this.nom) || php.empty(this.ref) || php.empty(this.idCite)) {\r\n                return App.error('Veuillez remplir le nom et la reference du batiment')\r\n            }\r\n            \r\n            if (this.idCite == -1 && (php.empty(this.nomCite) || php.empty(this.refCite))) {\r\n                return App.error('Veuillez entrer le nom et la reference de la cité')\r\n            }\r\n\r\n            this.submitted = true \r\n\r\n            let data = {\r\n                nom: this.nom, \r\n                idCite: this.idCite, \r\n                ref: this.ref, \r\n                photo: await this.$getBase64(this.photo.batiment),\r\n                batiments: []\r\n            }\r\n\r\n            if (this.action == 'add') {\r\n                if (data.idCite == -1) {\r\n                    try {\r\n                        let response = await axios.post('cites', { nom: this.nomCite, ref: this.refCite, photo: await this.$getBase64(this.photo.cite) })\r\n                        data.idCite = response.result.idCite\r\n                    } catch (error) {\r\n                        return App.alertError(error.message)\r\n                    }\r\n                }\r\n                if (!php.empty(this.cite)) {\r\n                    let batiments = $(`#${this.repeaterId}`).repeaterVal().group\r\n\r\n                    console.log(batiments);\r\n                    //return;\r\n\r\n                    if (php.empty(batiments[0].nom) || php.empty(batiments[0].ref)) {\r\n                        return App.error('Vous devez remplir au moins les informations du premier batiment')\r\n                    }\r\n                    data.batiments = batiments\r\n                }\r\n                \r\n                axios.post('batiments', data).then(response => {\r\n                    this.$emit('batimentAdded', response.result)\r\n                    this.submitted = false\r\n                    return App.notifySuccess(response.message)\r\n                }).catch(error => {\r\n                    this.submitted = false\r\n                    return App.notifyError(error.message)\r\n                })\r\n            }\r\n\r\n            if (this.action == 'edit' && !php.empty(this.batiment)) {\r\n                axios.put(`batiments/${this.batiment.idBatiment}`, data).then(response => {\r\n                    this.$emit('batimentUpdated', {...data, idBatiment: this.batiment.idBatiment})\r\n                    this.submitted = false\r\n                    return App.notifySuccess(response.message)\r\n                }).catch(error => {\r\n                    this.submitted = false\r\n                    return App.notifyError(error.message)\r\n                })\r\n            }\r\n   \r\n        },\r\n        \r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormBatiment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormBatiment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormBatiment.vue?vue&type=template&id=0a6cbf6c&\"\nimport script from \"./FormBatiment.vue?vue&type=script&lang=js&\"\nexport * from \"./FormBatiment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card d-flex flex-row justify-justify-content-start align-items-start\"},[_c('a',{staticClass:\"d-flex card-img\",attrs:{\"href\":\"#editLayoutItem\",\"data-toggle\":\"modal\",\"data-target\":\"#editLayoutItem\"}},[_c('img',{staticClass:\"list-thumbnail responsive border-0\",staticStyle:{\"height\":\"10em\"},attrs:{\"src\":_vm.depense.photo || '/img/depenseImage.jpg',\"alt\":\"\"}})]),_c('div',{staticClass:\"d-flex flex-grow-1 min-width-zero card-content\"},[_c('div',{staticClass:\"card-body align-self-center d-flex flex-column justify-content-between min-width-zero align-items-md-center\"},[_c('div',{staticClass:\"list-item-heading mb-1 truncate w-100 w-xs-100\",attrs:{\"href\":\"#editLayoutItem\",\"data-toggle\":\"modal\",\"data-target\":\"#editLayoutItem\"}},[_c('h5',{staticClass:\"text-red\"},[_vm._v(_vm._s(_vm.php.ucfirst(_vm.depense.motif.toLowerCase())))]),_c('div',{staticClass:\"d-flex\"},[_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.bottom\",value:('Montant de la dépense'),expression:\"'Montant de la dépense'\",modifiers:{\"bottom\":true}}],staticClass:\"text-muted small date mr-3\"},[_c('i',{staticClass:\"fa fa-dollar-sign\"}),_vm._v(\" \"+_vm._s(_vm.depense.montant)+\" F\")]),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.bottom\",value:('Date de l\\'opération'),expression:\"'Date de l\\\\'opération'\",modifiers:{\"bottom\":true}}],staticClass:\"text-muted small date ml-3\"},[_c('i',{staticClass:\"far fa-calendar-alt\"}),_vm._v(\" \"+_vm._s(_vm.$dayjs(_vm.depense.dateDepense).format('DD MMMM YYYY'))+\" \")])]),_c('div',{staticClass:\"w-100\"},[(_vm.depense.etatDepense)?_c('span',{staticClass:\"badge badge-pill badge-success\"}):_c('span',{staticClass:\"badge badge-danger small\"},[_vm._v(\"Non traitée\")])])]),_c('div',{staticClass:\"card-content w-100\"},[_c('hr'),(_vm.source==0)?_c('div',[(_vm.depense.cite !==null)?_c('div',{staticClass:\"text-muted w-100 my-1\"},[_vm._m(0),_c('span',[_vm._v(\"Cité :\"+_vm._s(_vm.depense.cite.nomCite)+\" \")])]):_vm._e(),(_vm.depense.batiment !==null)?_c('div',{staticClass:\"text-muted w-100 my-1\"},[_vm._m(1),_c('span',[_vm._v(\"Batiment :\"+_vm._s(_vm.depense.batiment.nomBatiment)+\" \")])]):_vm._e(),(_vm.depense.logement !==null)?_c('div',{staticClass:\"text-muted w-100 my-1\"},[_vm._m(2),_c('span',[_vm._v(\"Logement :\"+_vm._s(_vm.depense.logement.refLogement)+\" \")])]):_vm._e()]):_vm._e(),(_vm.depense.observation)?_c('div',{staticClass:\"jumbotron pt-5 pb-5 px-3 my-0\"},[_c('p',{staticClass:\"text-muted text-small\"},[_vm._v(_vm._s(_vm.depense.observation))])]):_vm._e()])]),_c('div',{staticClass:\"list-actions\"},[(!_vm.isSub)?_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.showDetails.apply(null, arguments)}}},[_c('i',{staticClass:\"ik ik-eye\"})]):_vm._e(),(_vm.isSub)?_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.accessTo.apply(null, arguments)}}},[_c('i',{staticClass:\"ik ik-link\"})]):_vm._e(),(!_vm.isSub)?_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('makeUpdate', _vm.depense)}}},[_c('i',{staticClass:\"ik ik-edit-2\"})]):_vm._e(),_c('a',{staticClass:\"list-delete\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.remove.apply(null, arguments)}}},[_c('i',{staticClass:\"ik ik-trash-2\"})])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"d-inline-block w-10 text-center\"},[_c('i',{staticClass:\"fas fa-city\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"d-inline-block w-10 text-center\"},[_c('i',{staticClass:\"fa fa-building\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"d-inline-block w-10 text-center\"},[_c('i',{staticClass:\"fas fa-home\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"card d-flex flex-row justify-justify-content-start align-items-start\">\r\n\t\t<a class=\"d-flex card-img\" href=\"#editLayoutItem\" data-toggle=\"modal\" data-target=\"#editLayoutItem\">\r\n\t\t\t<img :src=\"depense.photo || '/img/depenseImage.jpg'\" alt=\"\" style=\"height: 10em\" class=\"list-thumbnail responsive border-0\">\r\n\t\t</a>\r\n\t\t<div class=\"d-flex flex-grow-1 min-width-zero card-content\">\r\n            <div class=\"card-body align-self-center d-flex flex-column justify-content-between min-width-zero align-items-md-center\">\r\n                <div class=\"list-item-heading mb-1 truncate w-100 w-xs-100\" href=\"#editLayoutItem\" data-toggle=\"modal\" data-target=\"#editLayoutItem\">\r\n                    <h5 class=\"text-red\">{{ php.ucfirst(depense.motif.toLowerCase()) }}</h5>\r\n                    <div class=\"d-flex\">\r\n                        <span class=\"text-muted small date mr-3\" v-b-tooltip.bottom=\"'Montant de la dépense'\"><i class=\"fa fa-dollar-sign\"></i> {{ depense.montant }} F</span>\r\n                        <span class=\"text-muted small date ml-3\" v-b-tooltip.bottom=\"'Date de l\\'opération'\"><i class=\"far fa-calendar-alt\"></i> {{ $dayjs(depense.dateDepense).format('DD MMMM YYYY') }} </span>\r\n                    </div>\r\n                    <div class=\"w-100\">\r\n                        <span v-if=\"depense.etatDepense\" class=\"badge badge-pill badge-success\"></span>\r\n                        <span v-else class=\"badge badge-danger small\">Non traitée</span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-content w-100\">\r\n                    <hr>\r\n                    <div v-if=\"source==0\">\r\n                        <div v-if=\"depense.cite !==null\" class=\"text-muted w-100 my-1\">\r\n                            <span class=\"d-inline-block w-10 text-center\"><i class=\"fas fa-city\"></i></span>\r\n                            <span>Cité  :{{ depense.cite.nomCite }} </span>\r\n                        </div>\r\n                        <div v-if=\"depense.batiment !==null\" class=\"text-muted w-100 my-1\">\r\n                            <span class=\"d-inline-block w-10 text-center\"><i class=\"fa fa-building\"></i></span>\r\n                            <span>Batiment  :{{ depense.batiment.nomBatiment }} </span>\r\n                        </div>\r\n                        <div v-if=\"depense.logement !==null\" class=\"text-muted w-100 my-1\">\r\n                            <span class=\"d-inline-block w-10 text-center\"><i class=\"fas fa-home\"></i></span>\r\n                            <span>Logement  :{{ depense.logement.refLogement }} </span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"jumbotron pt-5 pb-5 px-3 my-0\" v-if=\"depense.observation\"><p class=\"text-muted text-small\">{{ depense.observation }}</p></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"list-actions\">\r\n                <a href=\"#\" @click.prevent=\"showDetails\" v-if=\"!isSub\"><i class=\"ik ik-eye\"></i></a>\r\n                <a href=\"#\" @click.prevent=\"accessTo\" v-if=\"isSub\"><i class=\"ik ik-link\"></i></a>\r\n                <a href=\"#\" @click.prevent=\"$emit('makeUpdate', depense)\" v-if=\"!isSub\" ><i class=\"ik ik-edit-2\"></i></a>\r\n                <a href=\"#\" @click.prevent=\"remove\" class=\"list-delete\"><i class=\"ik ik-trash-2\"></i></a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nconst php = require('phpjs')\r\nexport default {\r\n    props: {\r\n        depense: { type: Object, required: true },\r\n        isSub: {type: Boolean, default: false},\r\n        source:{type:Number, default:0}\r\n    },\r\n    computed: {\r\n        dateCreation() {\r\n            const day = this.$date(this.depense.createdAt)\r\n            return `Crée le ${day.format(\"dddd, DD MMMM YYYY\")} à ${day.format(\"HH:mm\")}`\r\n        },\r\n        php() {\r\n            return php;\r\n        }\r\n\r\n    },\r\n    methods: {\r\n        /**\r\n         * Affiche la modale avec les details de l'element\r\n         */\r\n        showDetails() {\r\n            if (this.isSub) {\r\n                return false\r\n            }\r\n            this.$emit('showDetails', this.depense)\r\n        },\r\n        /**\r\n         * Acces rapide aux details de l'element\r\n         */\r\n        accessTo() {\r\n            $('#editLayoutItem').modal('hide')\r\n            this.$router.push({name: 'depenses', query: {target: this.depense.idDepense}})\r\n        },\r\n        /**\r\n         * Suppression d'une dépense\r\n         */\r\n        remove() {\r\n            App.confirm(`Voullez vous vraiment supprimer la dépense \" <b>${this.depense.motif}</b> \" ?`, { confirm: () => {\r\n                axios.delete(`depenses/${this.depense.idDepense}`).then(response => {\r\n                    if (!response.success) {\r\n                        return App.notifyError(response.message)\r\n                    }\r\n                    this.$emit('deleted', this.depense.idDepense)\r\n                    return App.notifySuccess(response.message)\r\n                })\r\n            }})\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Depense.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Depense.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Depense.vue?vue&type=template&id=50e942d0&\"\nimport script from \"./Depense.vue?vue&type=script&lang=js&\"\nexport * from \"./Depense.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shadow list-item list-item-grid\"},[_c('div',{staticClass:\"card d-flex flex-row mb-3\"},[_c('a',{staticClass:\"d-flex card-img\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.showDetails.apply(null, arguments)}}},[_c('img',{staticClass:\"list-thumbnail responsive border-0\",staticStyle:{\"height\":\"10em\"},attrs:{\"src\":_vm.batiment.image || '/img/batiment.jpg',\"alt\":\"\"}}),(_vm.isNew)?_c('span',{staticClass:\"badge badge-pill badge-primary position-absolute badge-top-left\"},[_vm._v(\"New\")]):_vm._e()]),_c('div',{staticClass:\"d-flex flex-grow-1 min-width-zero card-content\"},[_c('div',{staticClass:\"card-body align-self-center d-flex flex-column flex-md-row justify-content-between min-width-zero align-items-md-center\"},[_c('div',{staticClass:\"text-center\"},[_c('h4',{staticClass:\"text-red mt-0 truncate\"},[_vm._v(_vm._s(_vm.batiment.nomBatiment))]),_c('span',{staticClass:\"d-inline-block text-muted\"},[_vm._v(\"Reference: \"),_c('b',[_vm._v(_vm._s(_vm.batiment.refBatiment))])])]),(_vm.isSub)?_c('p',{staticClass:\"text-muted mt-3 mb-1 date w-15 w-xs-100 text-small\"},[_vm._v(_vm._s(_vm.$date(_vm.batiment.createdAt).format(\"DD.MM.YYYY\")))]):_c('p',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.bottom\",value:(_vm.dateCreation),expression:\"dateCreation\",modifiers:{\"bottom\":true}}],staticClass:\"mt-3 mb-1 text-muted text-small date w-15 w-xs-100\"},[_vm._v(_vm._s(_vm.$date(_vm.batiment.createdAt).format(\"DD.MM.YYYY\")))])]),_c('div',{staticClass:\"list-actions\"},[(!_vm.isSub)?_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.bottom\",value:('Détails'),expression:\"'Détails'\",modifiers:{\"bottom\":true}}],attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.showDetails.apply(null, arguments)}}},[_c('i',{staticClass:\"ik ik-eye\"})]):_vm._e(),(_vm.isSub)?_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.bottom\",value:('Accéder aux détails'),expression:\"'Accéder aux détails'\",modifiers:{\"bottom\":true}}],attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.accessTo.apply(null, arguments)}}},[_c('i',{staticClass:\"ik ik-link\"})]):_vm._e(),(!_vm.isSub)?_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.bottom\",value:('Editer'),expression:\"'Editer'\",modifiers:{\"bottom\":true}}],attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('makeUpdate', _vm.batiment)}}},[_c('i',{staticClass:\"ik ik-edit-2\"})]):_vm._e(),_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.bottom\",value:('Supprimer'),expression:\"'Supprimer'\",modifiers:{\"bottom\":true}}],staticClass:\"list-delete\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.remove.apply(null, arguments)}}},[_c('i',{staticClass:\"ik ik-trash-2\"})])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"shadow list-item list-item-grid\">\r\n        <div class=\"card d-flex flex-row mb-3\">\r\n            <a class=\"d-flex card-img\" @click.prevent=\"showDetails\" href=\"#\">\r\n                <img :src=\"batiment.image || '/img/batiment.jpg'\" alt=\"\" style=\"height: 10em\" class=\"list-thumbnail responsive border-0\">\r\n                <span v-if=\"isNew\" class=\"badge badge-pill badge-primary position-absolute badge-top-left\">New</span>\r\n            </a>\r\n            <div class=\"d-flex flex-grow-1 min-width-zero card-content\">\r\n                <div class=\"card-body align-self-center d-flex flex-column flex-md-row justify-content-between min-width-zero align-items-md-center\">\r\n                    <div class=\"text-center\">\r\n                        <h4 class=\"text-red mt-0 truncate\">{{ batiment.nomBatiment }}</h4>\r\n                        <span class=\"d-inline-block text-muted\">Reference: <b>{{ batiment.refBatiment }}</b></span>\r\n                    </div>\r\n                    <p v-if=\"isSub\" class=\"text-muted mt-3 mb-1 date w-15 w-xs-100 text-small\">{{ $date(batiment.createdAt).format(\"DD.MM.YYYY\") }}</p>\r\n                    <p v-else v-b-tooltip.bottom=\"dateCreation\" class=\"mt-3 mb-1 text-muted text-small date w-15 w-xs-100\">{{ $date(batiment.createdAt).format(\"DD.MM.YYYY\") }}</p>\r\n                </div>\r\n                <div class=\"list-actions\">\r\n                    <a href=\"#\" @click.prevent=\"showDetails\" v-if=\"!isSub\" v-b-tooltip.bottom=\"'Détails'\"><i class=\"ik ik-eye\"></i></a>\r\n                    <a href=\"#\" @click.prevent=\"accessTo\" v-if=\"isSub\" v-b-tooltip.bottom=\"'Accéder aux détails'\"><i class=\"ik ik-link\"></i></a>\r\n                    <a href=\"#\" @click.prevent=\"$emit('makeUpdate', batiment)\" v-if=\"!isSub\" v-b-tooltip.bottom=\"'Editer'\" ><i class=\"ik ik-edit-2\"></i></a>\r\n                    <a href=\"#\" @click.prevent=\"remove\" class=\"list-delete\" v-b-tooltip.bottom=\"'Supprimer'\"><i class=\"ik ik-trash-2\"></i></a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        batiment: { type: Object, required: true },\r\n        isSub: {type: Boolean, default: false}\r\n    },\r\n    computed: {\r\n        dateCreation() {\r\n            const day = this.$date(this.batiment.createdAt)\r\n            return `Créée le ${day.format(\"dddd, DD MMMM YYYY\")} à ${day.format(\"HH:mm\")}`\r\n        },\r\n        /**\r\n         * Verifie si c'est une cité nouvellement ajoutée\r\n         */\r\n        isNew() {\r\n            return dayjs().diff(this.batiment.createdAt, 'week') <= 1\r\n        }\r\n    },\r\n    methods: {\r\n        /**\r\n         * Affiche la modale avec les details de l'element\r\n         */\r\n        showDetails() {\r\n            if (this.isSub) {\r\n                return false\r\n            }\r\n            this.$emit('showDetails', this.batiment)\r\n        },\r\n        /**\r\n         * Acces rapide aux details de l'element\r\n         */\r\n        accessTo() {\r\n            $('#editLayoutItem').modal('hide')\r\n            this.$router.push({name: 'batiments', query: {target: this.batiment.idBatiment}})\r\n        },\r\n        /**\r\n         * Suppression du batiment\r\n         */\r\n        remove() {\r\n            App.confirm(`Voullez vous vraiment supprimer le batiment \" <b>${this.batiment.nomBatiment}</b> \" ?`, { confirm: () => {\r\n                axios.delete(`batiments/${this.batiment.idBatiment}`).then(response => {\r\n                    if (!response.success) {\r\n                        return App.notifyError(response.message)\r\n                    }\r\n                    this.$emit('deleted', this.batiment.idBatiment)\r\n                    return App.notifySuccess(response.message)\r\n                }).catch(error => {\r\n                    App.notifyError(error.message)\r\n                })\r\n            }})\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Batiment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Batiment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Batiment.vue?vue&type=template&id=1533ac8e&\"\nimport script from \"./Batiment.vue?vue&type=script&lang=js&\"\nexport * from \"./Batiment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.showOverlayP,\"rounded\":\"sm\"}},[_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Montant\",\"description\":\"à combien s'élève la dépense éffectuée?\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: 45000\",\"type\":\"number\",\"trim\":\"\"},model:{value:(_vm.depense.montant),callback:function ($$v) {_vm.$set(_vm.depense, \"montant\", $$v)},expression:\"depense.montant\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Date à laquelle la dépense a été éffectuée\"}},[_c('date-picker',{staticClass:\"w-100\",attrs:{\"placeholder\":\"Selectionnez une date\",\"format\":\"dddd, DD MMMM YYYY\",\"valueType\":\"YYYY-MM-DD\",\"clearable\":false},model:{value:(_vm.depense.date),callback:function ($$v) {_vm.$set(_vm.depense, \"date\", $$v)},expression:\"depense.date\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Motif\",\"description\":\"Pourquoi avez-vous éffectué cette dépense ?\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: Replacement ampoules cassées\",\"trim\":\"\"},model:{value:(_vm.depense.motif),callback:function ($$v) {_vm.$set(_vm.depense, \"motif\", $$v)},expression:\"depense.motif\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"responsable\",\"description\":\"Qui est celui qui a déclaré la dépense?\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: Pedro\",\"trim\":\"\"},model:{value:(_vm.depense.responsable),callback:function ($$v) {_vm.$set(_vm.depense, \"responsable\", $$v)},expression:\"depense.responsable\"}})],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"7\"}},[_c('b-form-group',{attrs:{\"label\":\"observations\"}},[_c('b-form-textarea',{staticClass:\"mb-2\",attrs:{\"placeholder\":\"C'est ici que vou pouvez décrire ce qui a engendré la dépense\",\"rows\":\"7\"},model:{value:(_vm.depense.observation),callback:function ($$v) {_vm.$set(_vm.depense, \"observation\", $$v)},expression:\"depense.observation\"}})],1)],1),_c('b-col',{attrs:{\"cols\":\"5\"}},[_c('b-form-group',{attrs:{\"label\":\"joindre une photo\"}},[_c('img-inputer',{attrs:{\"theme\":\"light\",\"size\":\"xl\",\"bottom-text\":\"déposez le fichier ici ou cliquez pour modifier\",\"icon\":\"img\",\"placeholder\":\"joindre recu dépense\"},on:{\"onChange\":_vm.onrecuLoad},model:{value:(_vm.depense.photo),callback:function ($$v) {_vm.$set(_vm.depense, \"photo\", $$v)},expression:\"depense.photo\"}})],1)],1)],1),_c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Votre dépense concerne\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar ariaDescribedby = ref.ariaDescribedby;\nreturn [_c('b-form-radio-group',{attrs:{\"id\":\"radio-slots\",\"options\":_vm.options,\"aria-describedby\":ariaDescribedby,\"name\":\"radio-options-slots\",\"disabled\":_vm.disableState},on:{\"change\":_vm.setAction},model:{value:(_vm.commandeAction),callback:function ($$v) {_vm.commandeAction=$$v},expression:\"commandeAction\"}})]}}])})],1),_c('b-col',[_c('transition',{attrs:{\"enter-active-class\":\"animated zoomIn\"}},[(_vm.showSelectCite)?_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Cité concernée\")]),_c('v-select',{class:{ disabled: _vm.disabled == true },attrs:{\"label\":\"nomCite\",\"options\":_vm.cites},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}})],1):_vm._e(),(_vm.showSelectBatiment)?_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Batiment concerné\")]),_c('v-select',{class:{ disabled: _vm.disabled == true },attrs:{\"label\":\"nomBatiment\",\"options\":_vm.batiments},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}})],1):_vm._e(),(_vm.showSelectLogement)?_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Logement concerné\")]),_c('v-select',{class:{ disabled: _vm.disabled == true },attrs:{\"label\":\"refLogement\",\"options\":_vm.logements},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}})],1):_vm._e()])],1)],1),_c('hr'),_c('div',{staticClass:\"float-right\"},[(_vm.provenance == '2')?_c('b-button',{staticClass:\"mr-1\",on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('cancel')}}},[_vm._v(\"Annuler\")]):_vm._e(),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitModal.apply(null, arguments)}}},[_vm._v(\"Valider\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-overlay :show=\"showOverlayP\" rounded=\"sm\">\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group\r\n            label=\"Montant\"\r\n            description=\"à combien s'élève la dépense éffectuée?\"\r\n          >\r\n            <b-form-input\r\n              v-model=\"depense.montant\"\r\n              placeholder=\"Ex: 45000\"\r\n              type=\"number\"\r\n              trim\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col>\r\n            <b-form-group label=\"Date à laquelle la dépense a été éffectuée\">\r\n                <date-picker v-model=\"depense.date\" placeholder=\"Selectionnez une date\" format=\"dddd, DD MMMM YYYY\" valueType=\"YYYY-MM-DD\" class=\"w-100\" :clearable=\"false\"/>\r\n            </b-form-group>                        \r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group\r\n            label=\"Motif\"\r\n            description=\"Pourquoi avez-vous éffectué cette dépense ?\"\r\n          >\r\n            <b-form-input\r\n              v-model=\"depense.motif\"\r\n              placeholder=\"Ex: Replacement ampoules cassées\"\r\n              trim\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col>\r\n          <b-form-group\r\n            label=\"responsable\"\r\n            description=\"Qui est celui qui a déclaré la dépense?\"\r\n          >\r\n            <b-form-input\r\n              v-model=\"depense.responsable\"\r\n              placeholder=\"Ex: Pedro\"\r\n              trim\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col cols=\"7\">\r\n          <b-form-group label=\"observations\">\r\n            <b-form-textarea\r\n              class=\"mb-2\"\r\n              placeholder=\"C'est ici que vou pouvez décrire ce qui a engendré la dépense\"\r\n              rows=\"7\"\r\n              v-model=\"depense.observation\"\r\n            ></b-form-textarea>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col cols=\"5\">\r\n            <b-form-group label=\"joindre une photo\">\r\n                <img-inputer v-model=\"depense.photo\" theme=\"light\" size=\"xl\" \r\n                        bottom-text=\"déposez le fichier ici ou cliquez pour modifier\" icon=\"img\" placeholder=\"joindre recu dépense\"\r\n                        @onChange=\"onrecuLoad\"/>\r\n            </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n        <b-overlay :show=\"showOverlay\" rounded=\"sm\">\r\n            <b-row>\r\n                    <b-col>\r\n                        <b-form-group label=\"Votre dépense concerne\" v-slot=\"{ ariaDescribedby }\">\r\n                                <b-form-radio-group\r\n                                    id=\"radio-slots\"\r\n                                    v-model=\"commandeAction\"\r\n                                    :options=\"options\"\r\n                                    :aria-describedby=\"ariaDescribedby\"\r\n                                    name=\"radio-options-slots\"\r\n                                    :disabled=\"disableState\"\r\n                                    @change=\"setAction\"\r\n                                >\r\n                                </b-form-radio-group>\r\n                        </b-form-group>\r\n                    </b-col>\r\n                    <b-col>\r\n                        <transition enter-active-class=\"animated zoomIn\">\r\n                            <div class=\"form-group\" v-if=\"showSelectCite\">\r\n                                    <label>Cité concernée</label>\r\n                                     <v-select label=\"nomCite\" :options=\"cites\" v-model=\"id\" :class=\"{ disabled: disabled == true }\"></v-select>\r\n                            </div>\r\n                            <div class=\"form-group\" v-if=\"showSelectBatiment\">\r\n                                    <label>Batiment concerné</label>\r\n                                    <v-select label=\"nomBatiment\" :options=\"batiments\" v-model=\"id\" :class=\"{ disabled: disabled == true }\"></v-select>\r\n                            </div>\r\n                            <div class=\"form-group\" v-if=\"showSelectLogement\">\r\n                                <label>Logement concerné</label>\r\n                                <v-select label=\"refLogement\" :options=\"logements\"  v-model=\"id\" :class=\"{ disabled: disabled == true }\"></v-select>\r\n                            </div>\r\n                        </transition>\r\n                    </b-col>\r\n            </b-row>\r\n             <hr>\r\n             <div class=\"float-right\">\r\n                <b-button @click.prevent=\"$emit('cancel')\" class=\"mr-1\" v-if=\"provenance == '2'\">Annuler</b-button>\r\n                <b-button @click.prevent=\"submitModal\" variant=\"danger\">Valider</b-button>\r\n            </div>\r\n        </b-overlay>\r\n    </b-overlay>\r\n</template>\r\n<script>\r\nimport DatePicker from 'vue2-datepicker';\r\nimport 'vue2-datepicker/index.css';\r\nimport 'vue2-datepicker/locale/fr';\r\nimport notif from \"@/plugins/notif.js\";\r\nconst php = require(\"phpjs\");\r\nimport Vue from 'vue'\r\nimport ImgInputer from 'vue-img-inputer'\r\nimport 'vue-img-inputer/dist/index.css'\r\nVue.component('ImgInputer', ImgInputer)\r\nexport default {\r\n  name: \"depense-form\",\r\n  data: () => ({\r\n   disabled:false,\r\n   //permet de disable la sélection dans un appel extérieur\r\n   disableState:false,\r\n    options: [\r\n          { text: 'une cité', value: 'cite' },\r\n          { text: 'un batiment', value: 'batiment' },\r\n          { text: 'un logement', value: 'logement' }\r\n    ],\r\n    depense: {\r\n      montant: \"\",\r\n      date: \"\",\r\n      motif: \"\",\r\n      responsable: \"\",\r\n      obs: \"\",\r\n      photo:\"\"\r\n    },\r\n    id:\"\",\r\n    commandeAction:\"\",\r\n    showOverlay: false,\r\n    showOverlayP:false,\r\n    showSelectCite:false,\r\n    showSelectBatiment:false,\r\n    showSelectLogement:false,\r\n    sendForm: false,\r\n    cites: [],\r\n    batiments:[],\r\n    logements: []\r\n  }),\r\n  components: {\r\n    DatePicker\r\n  },\r\n  props: {\r\n        cite: { type: Object},\r\n        batiment: { type: Object},\r\n        logement: { type: Object},\r\n        action: {type: String, required: true, default: \"add\"},\r\n        provenance: {type: String, required: true, default: \"1\"}\r\n    },\r\n  methods: {\r\n      //methode de gestion du fichier accompagnant une dépense\r\n      async onrecuLoad(e){\r\n        const fileDepense=e;\r\n        this.depense.photo=await this.getBase64(fileDepense)\r\n      },\r\n    /**\r\n     * action à effectuer en fonction de l'entité sélectionné\r\n     * par celui qui remplit le formulaire\r\n     */\r\n    async setAction(){\r\n        this.showOverlay=true;\r\n        if(this.commandeAction =='cite'){\r\n            this.showSelectCite=true;\r\n            this.showSelectBatiment=false;\r\n            this.showSelectLogement=false;\r\n            try {\r\n                this.cites=await await axios.get(\"cites\").then(response => response.result);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        if(this.commandeAction =='batiment'){\r\n            this.showSelectBatiment=true;\r\n            this.showSelectCite=false;\r\n            this.showSelectLogement=false;\r\n            try {\r\n                this.batiments=await await axios.get(\"batiments\").then(response => response.result);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        if(this.commandeAction =='logement'){\r\n            this.showSelectLogement=true;\r\n            this.showSelectCite=false;\r\n            this.showSelectBatiment=false;\r\n            try {\r\n                this.logements=await await axios.get(\"logements\").then(response => response.result);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        this.showOverlay=false;\r\n    },\r\n\r\n    resetModal() {\r\n      this.depense = {\r\n        montant: '',\r\n        date: '',\r\n        motif: '',\r\n        responsable: '',\r\n        observation: ''\r\n      };\r\n      if(this.provenance !='2'){\r\n        this.showSelectCite=false; this.showSelectBatiment=false; this.showSelectLogement=false;\r\n        this.id=null; this.commandeAction=\"\";\r\n      }\r\n      setTimeout(() => {\r\n        this.$emit('closeDepenseModal');\r\n      }, 500);\r\n    },\r\n\r\n    //validation formulaire d'ajout/modification d'une dépense\r\n    submitModal(bvModalEvt) {\r\n        \r\n      bvModalEvt.preventDefault();\r\n      if (php.empty(this.depense.montant) || php.empty(this.depense.motif)|| php.empty(this.id)) {\r\n                return App.error('Un montant, un motif et l\\'entité concernée par la dépense sont obligatoires')\r\n      }\r\n      if (this.depense.montant =='') {\r\n        return App.error('Vous devez spécifier un montant')\r\n      }\r\n      if (this.depense.motif =='') {\r\n        return App.error('Vous devez spécifier un motif')\r\n      }\r\n      if (this.id =='') {\r\n        return App.error('Vous devez spécifier l\\'entité concernée par la dépense')\r\n      }\r\n      if (this.action == \"add\") {\r\n          this.showOverlayP = true;\r\n         if(this.showSelectLogement){\r\n              console.log(\"dépense\",this.depense,\"id\",this.id.idLogement)\r\n              axios.post('/logements/'+this.id.idLogement+'/depenses',this.depense).then(response =>{\r\n                  this.resetModal();\r\n                   this.showOverlayP = false;\r\n                  this.$emit(\"depenseAdded\", response.result);\r\n                  return App.notifySuccess(response.message)\r\n                 \r\n              })\r\n              .catch(error => {\r\n                this.showOverlayP = false;\r\n                 notif.error(error.message);\r\n            });\r\n          }\r\n           if(this.showSelectCite){\r\n              axios.post('/cites/'+this.id.idCite+'/depenses',this.depense).then(response =>{\r\n                  this.resetModal();\r\n                   this.showOverlayP = false;\r\n                  this.$emit(\"depenseAdded\", response.result);\r\n                  return App.notifySuccess(response.message)\r\n              })\r\n              .catch(error => {\r\n                 this.showOverlayP = false;\r\n                 notif.error(error.message);\r\n            });\r\n          }\r\n          if(this.showSelectBatiment){\r\n              axios.post('/batiments/'+this.id.idBatiment+'/depenses',this.depense).then(response =>{\r\n                  this.resetModal();\r\n                   this.showOverlayP = false;\r\n                  this.$emit(\"depenseAdded\", response.result);\r\n                  return App.notifySuccess(response.message)\r\n              })\r\n              .catch(error => {\r\n                this.showOverlayP = false;\r\n                notif.error(error.message);\r\n            });\r\n          }\r\n            \r\n      }\r\n    },\r\n    getBase64(file) {\r\n      return new Promise((resolve, reject) => {\r\n          const reader = new FileReader();\r\n          reader.readAsDataURL(file);\r\n          reader.onload = () => resolve(reader.result);\r\n          reader.onerror = (error) => reject(error);\r\n      });\r\n    }\r\n  },\r\n  mounted(){\r\n    if(this.cite !=null){\r\n      this.commandeAction=\"cite\";\r\n      this.showSelectCite=true;\r\n      this.id=this.cite;\r\n      this.disabled=true;\r\n      this.disableState=true;\r\n    }\r\n    if(this.batiment !=null){\r\n      this.commandeAction=\"batiment\";\r\n      this.showSelectBatiment=true;\r\n      this.id=this.batiment;\r\n      this.disabled=true;\r\n      this.disableState=true;\r\n    }\r\n     if(this.logement !=null){\r\n      this.commandeAction=\"logement\";\r\n      this.showSelectLogement=true;\r\n      this.id=this.logement;\r\n      this.disabled=true;\r\n      this.disableState=true;\r\n    }\r\n  }\r\n\r\n};\r\n</script>\r\n<style scoped>\r\n .disabled {\r\n    pointer-events:none;\r\n    color: #bfcbd9;\r\n    cursor: not-allowed;\r\n    background-image: none;\r\n    background-color: #eef1f6;\r\n    border-color: #d1dbe5;   \r\n }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepenseForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepenseForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DepenseForm.vue?vue&type=template&id=47a744a2&scoped=true&\"\nimport script from \"./DepenseForm.vue?vue&type=script&lang=js&\"\nexport * from \"./DepenseForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DepenseForm.vue?vue&type=style&index=0&id=47a744a2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47a744a2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-sm d-inline-block float-md-left mr-1 mb-1 align-top\"},[_c('form',{attrs:{\"action\":\"\",\"onSubmit\":\"return false\"}},[_c('b-form-input',{staticStyle:{\"height\":\"40px\",\"width\":\"350px\",\"border-radius\":\"5px\"},attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder},on:{\"input\":function (data) { _vm.$emit('input', data) }},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}}),_vm._m(0)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-icon\",staticStyle:{\"height\":\"40px\",\"width\":\"50px\"},attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"ik ik-search\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"search-sm d-inline-block float-md-left mr-1 mb-1 align-top\">\r\n        <form action=\"\" onSubmit=\"return false\">\r\n            <b-form-input type=\"text\" :placeholder=\"placeholder\" @input=\"(data) => { $emit('input', data) }\" style=\"height: 40px; width: 350px; border-radius: 5px;\" v-model=\"val\" />\r\n            <button type=\"submit\" class=\"btn btn-icon\" style=\"height: 40px; width:50px;\"><i class=\"ik ik-search\"></i></button>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: \"SearchForm\",\r\n    props: {\r\n        placeholder: { type: String, default: \"Rechercher...\"},\r\n        value: { default: null, },\r\n    },\r\n    data: () => ({\r\n        val: null,\r\n    }),\r\n    mounted: () => {\r\n        console.log(\"ldldldld: \"+ \" this.value\")\r\n        console.log(JSON.parse(JSON.stringify(this.value)))\r\n        \r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchForm.vue?vue&type=template&id=394c7419&scoped=true&\"\nimport script from \"./SearchForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"394c7419\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}