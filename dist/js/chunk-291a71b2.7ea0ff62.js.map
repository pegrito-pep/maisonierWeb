{"version":3,"sources":["webpack:///./src/views/gestion-immobiliere/occupations/Occupation.vue?8bb1","webpack:///./src/views/finances/charges/chargeForm.vue?97b9","webpack:///src/views/finances/charges/chargeForm.vue","webpack:///./src/views/finances/charges/chargeForm.vue?3b57","webpack:///./src/views/finances/charges/chargeForm.vue","webpack:///src/views/gestion-immobiliere/occupations/Occupation.vue","webpack:///./src/views/gestion-immobiliere/occupations/Occupation.vue?b2e1","webpack:///./src/views/gestion-immobiliere/occupations/Occupation.vue","webpack:///./src/plugins/notif.js","webpack:///./src/views/finances/charges/chargeForm.vue?93b0","webpack:///./src/views/gestion-immobiliere/occupations/Occupation.vue?d1b7"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","occupation","idOccupation","dateFin","_calcul_impayes","attrs","$date","format","totalImpayes","_e","_m","directives","name","rawName","value","expression","modifiers","class","locataire","titre","nomLocataire","prenomLocataire","profession","cniLocataire","tel","tel2","email","email2","dateNaiss","logement","refLogement","sousTypeLogement","libelleSousType","prixMin","prixMax","adresse","ville","pays","batiment","nomBatiment","cite","nomCite","query","target","idLogement","loyerBase","modePaiement","dateDeb","createdAt","puEnergie","modeEnergie","puEau","modeEau","on","$event","preventDefault","$bvModal","show","_l","compte","i","key","idCompte","typeCompte","solde","tab_indexe","indexes","label","sortable","scopedSlots","_u","fn","data","$dayjs","item","periode","nouveau","ancien","_calcul_consommation_indexe","avance","empty","row","toggleDetails","model","callback","$$v","$set","reste","datePaiement","loyers","montant","montantPayer","showOverlayTable","charges","proxy","changeState","etatCharge","buyCharge","typeCharge","libelle","observation","title","action","resetForm","doRecharge","recharge","comptes","find","elt","toLowerCase","ref","ok","cancel","submitted","createCompte","creerCompte","payCharge","payerCharge","staticRenderFns","showOverlay","charge","typesCharges","setType","submitModal","apply","arguments","php","disabled","idTypeCharge","date","commandeAction","sendForm","components","DatePicker","props","type","String","required","default","Object","methods","description","setTimeout","$emit","bvModalEvt","App","error","console","log","axios","post","then","response","resetModal","$root","result","notifySuccess","message","catch","notif","storage","get","length","set","getTypesCharges","component","idCharge","chargeForm","computed","indexes_type","sort","a","b","diff","$on","newCharge","unshift","hide","val","filter","typeIndexe","indexe","mode","pu","consommation","total","forEach","parseInt","url","put","success","alertError","url2","map","push","async","res","make","bgcolor","config","assign","msg","timeout"],"mappings":"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","file":"js/chunk-291a71b2.7ea0ff62.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"card-deck\"},[_c('div',{staticClass:\"card col-3\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"text-center\"},[_c('h4',{staticClass:\"card-title\"},[_vm._v(\"Occupation n° \"+_vm._s(_vm.occupation.idOccupation))]),(_vm.occupation.dateFin == null)?_c('div',[( _vm._calcul_impayes('total') > 0)?_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"Bail en cours\")]):_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Bail en cours\")])],1):_c('div',[_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Bail terminé le \"+_vm._s(_vm.$date(_vm.occupation.dateFin).format('DD MMMM YYYY')))])],1)])]),_c('div',{staticClass:\"card-body pt-0\"},[(_vm.totalImpayes > 0)?_c('div',{staticClass:\"d-flex align-items-center justify-content-between\"},[_c('hr',{staticClass:\"w-25 bg-danger\"}),_vm._v(\" Aperçu \"),_c('hr',{staticClass:\"w-25 bg-danger\"})]):_vm._e(),(_vm.totalImpayes > 0)?_c('div',{staticClass:\"jumbotron pt-10 pb-10 px-2\"},[_c('dl',{staticClass:\"row mb-0 text-muted\"},[_vm._m(0),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.right\",value:('Impayés de loyer'),expression:\"'Impayés de loyer'\",modifiers:{\"right\":true}}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm._calcul_impayes('loyer') + ' F'))]),_vm._m(1),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.right\",value:('Impayés de lumière'),expression:\"'Impayés de lumière'\",modifiers:{\"right\":true}}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm._calcul_impayes('energie') + ' F'))]),_vm._m(2),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.right\",value:('Impayés d\\'eau'),expression:\"'Impayés d\\\\'eau'\",modifiers:{\"right\":true}}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm._calcul_impayes('eau') + ' F'))]),_vm._m(3),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.right\",value:('Impayés de charges'),expression:\"'Impayés de charges'\",modifiers:{\"right\":true}}],staticClass:\"mt-1 col-10 truncate font-weight-bold\"},[_vm._v(_vm._s(_vm._calcul_impayes('charges') + ' F'))]),_vm._m(4),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.right\",value:('Total des impayés'),expression:\"'Total des impayés'\",modifiers:{\"right\":true}}],staticClass:\"mt-1 col-10 truncate font-weight-bold\",class:{'text-danger' : _vm.totalImpayes > 10000}},[_vm._v(_vm._s(_vm.totalImpayes + ' F'))])])]):_vm._e(),_vm._m(5),_c('span',{staticClass:\"d-inline-block w-100 mb-1 text-center\"},[_vm._v(_vm._s(_vm.occupation.locataire.titre + ' ' + _vm.occupation.locataire.nomLocataire + ' ' + _vm.occupation.locataire.prenomLocataire))]),_c('span',{staticClass:\"d-inline-block w-100 mb-1 text-center text-muted\"},[_vm._v(_vm._s(_vm.occupation.locataire.profession))]),_c('div',{staticClass:\"jumbotron pt-10 pb-10 px-2\"},[_c('dl',{staticClass:\"row text-muted\"},[_vm._m(6),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Numéro de CNI'),expression:\"'Numéro de CNI'\"}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm.occupation.locataire.cniLocataire))]),_vm._m(7),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Numéro de téléphone'),expression:\"'Numéro de téléphone'\"}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm.occupation.locataire.tel + ' / ' + _vm.occupation.locataire.tel2))]),_vm._m(8),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Email'),expression:\"'Email'\"}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm.occupation.locataire.email + ' / ' + _vm.occupation.locataire.email2))]),_vm._m(9),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Date de naissance'),expression:\"'Date de naissance'\"}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm.$date(_vm.occupation.locataire.dateNaiss).format('DD MMMM YYYY')))])]),_c('b-button',{attrs:{\"to\":\"#\",\"size\":\"sm\",\"block\":\"\",\"variant\":\"outline-secondary\"}},[_vm._v(\"Voir le dossier\")])],1),_vm._m(10),_c('span',{staticClass:\"d-inline-block w-100 mb-1 text-center\"},[_vm._v(_vm._s(_vm.occupation.logement.refLogement))]),_c('span',{staticClass:\"d-inline-block w-100 mb-1 text-center text-muted\"},[_vm._v(_vm._s(_vm.occupation.logement.sousTypeLogement.libelleSousType))]),_c('div',{staticClass:\"jumbotron pt-10 pb-10 px-2\"},[_c('dl',{staticClass:\"row text-muted\"},[_vm._m(11),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Plage de loyer'),expression:\"'Plage de loyer'\"}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm.occupation.logement.prixMin + 'F')+\" - \"+_vm._s(_vm.occupation.logement.prixMax + 'F'))]),_vm._m(12),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Localisation'),expression:\"'Localisation'\"}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm.occupation.logement.adresse.ville + ' ' + _vm.occupation.logement.adresse.pays))]),(_vm.occupation.logement.batiment)?_c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-building\"})]):_vm._e(),(_vm.occupation.logement.batiment)?_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Batiment'),expression:\"'Batiment'\"}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm.occupation.logement.batiment.nomBatiment))]):_vm._e(),(_vm.occupation.logement.batiment)?_c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fas fa-city\"})]):_vm._e(),(_vm.occupation.logement.batiment)?_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Cité'),expression:\"'Cité'\"}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm.occupation.logement.batiment.cite.nomCite))]):_vm._e()]),_c('b-button',{attrs:{\"to\":{name: 'logements', query: {target: _vm.occupation.logement.idLogement}},\"size\":\"sm\",\"block\":\"\",\"variant\":\"outline-secondary\"}},[_vm._v(\"Voir les details\")])],1)])]),_c('div',{staticClass:\"card\"},[_vm._m(13),_c('div',{staticClass:\"tab-content\",attrs:{\"id\":\"pills-tabContent\"}},[_c('div',{staticClass:\"tab-pane fade show active\",attrs:{\"id\":\"generalites\"}},[_c('div',{staticClass:\"card-body\"},[_c('h4',{staticClass:\"border-bottom\"},[_vm._v(\"Information\")]),_c('b-row',{staticClass:\"mb-1\"},[_c('b-col',[_c('dl',{staticClass:\"row text-muted\"},[_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Loyer\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.occupation.loyerBase + ' F'))]),_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Mode de paiement\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.occupation.modePaiement))]),_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Date de debut du bail\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.$date(_vm.occupation.dateDeb).format('dddd, DD MMMM YYYY')))]),(_vm.occupation.dateFin)?_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Date de fin du bail\")]):_vm._e(),(_vm.occupation.dateFin)?_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.$date(_vm.occupation.dateFin).format('dddd, DD MMMM YYYY')))]):_vm._e(),_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Occupation créée le\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.$date(_vm.occupation.createdAt).format('dddd, DD MMMM YYYY HH:mm')))])])]),_c('b-col',[_c('dl',{staticClass:\"row text-muted\"},[_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Nombre de mois d'avance\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.occupation.loyerBase + ' F'))]),_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Caution payé\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.occupation.modePaiement))]),_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Facturation d'energie\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.occupation.puEnergie + 'F')+\" par \"+_vm._s(_vm.occupation.modeEnergie == 'index' ? 'kw' : 'mois'))]),_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Facturation d'eau\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.occupation.puEau + 'F')+\" par \"),(_vm.occupation.modeEau == 'index')?_c('span',[_vm._v(\"m\"),_c('sup',[_vm._v(\"3\")])]):_c('span',[_vm._v(\"mois\")])])])])],1),_c('div',{staticClass:\"border-bottom d-flex justify-content-between mb-2\"},[_c('h4',[_vm._v(\"Comptes\")]),_c('b-button-group',[_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Effectuer une recharge'),expression:\"'Effectuer une recharge'\"}],staticClass:\"float-right btn-icon\",on:{\"click\":function($event){$event.preventDefault();return _vm.$bvModal.show('rechargeCompte')}}},[_c('i',{staticClass:\"fa fa-charging-station\"})]),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Créer compte'),expression:\"'Créer compte'\"}],staticClass:\"float-right btn-icon\",on:{\"click\":function($event){$event.preventDefault();return _vm.$bvModal.show('creerCompte')}}},[_c('i',{staticClass:\"fa fa-plus\"})])],1)],1),_vm._l((_vm.occupation.comptes),function(compte,i){return _c('dl',{key:compte.idCompte || i,staticClass:\"row my-2\"},[_c('dd',{staticClass:\"col-5\"},[_vm._v(\"Compte \"+_vm._s(compte.typeCompte))]),_c('dt',{staticClass:\"col-7 fa-lg text-primary\"},[_vm._v(_vm._s(compte.solde)+\" F\")])])})],2)]),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"indexes\"}},[_c('b-container',{staticClass:\"my-3\"},[_c('ul',{staticClass:\"nav nav-tabs\"},[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",class:{'active' : _vm.tab_indexe == 'eau'},attrs:{\"data-toggle\":\"pill\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.tab_indexe = 'eau'}}},[_vm._v(\"Indexes d'eau\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",class:{'active' : _vm.tab_indexe == 'energie'},attrs:{\"data-toggle\":\"pill\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.tab_indexe = 'energie'}}},[_vm._v(\"Indexes d'électricité\")])])]),_c('div',{staticClass:\"tab-content\"},[_c('div',{staticClass:\"tab-pane fade show active mt-1\"},[_c('b-table',{attrs:{\"sticky-header\":\"600px\",\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\",\"items\":_vm.indexes,\"fields\":[\n                                    { key: 'mois', label: 'Mois', sortable: true },\n                                    { key: 'annees', label: 'Année', sortable: true },\n                                    { key: 'nouveau', label: 'Indexe courant', sortable: true },\n                                    { key: 'ancien', label: 'Ancien indexe', sortable: true },\n                                    { key: 'consommation', label: 'Consommation', sortable: true },\n                                    { key: 'montant', label: 'Montant', sortable: true },\n                                    { key: 'show_details', label: 'Details' }\n                                ]},scopedSlots:_vm._u([{key:\"cell(mois)\",fn:function(data){return [_vm._v(_vm._s(_vm.$dayjs(data.item.periode).format('MMMM')))]}},{key:\"cell(annees)\",fn:function(data){return [_vm._v(_vm._s(_vm.$dayjs(data.item.periode).format('YYYY')))]}},{key:\"cell(consommation)\",fn:function(data){return [_vm._v(_vm._s(data.item.nouveau - data.item.ancien))]}},{key:\"cell(montant)\",fn:function(data){return [_c('span',{class:{'text-success': _vm._calcul_consommation_indexe(data.item, _vm.tab_indexe) <= data.item.avance, 'text-warning': _vm._calcul_consommation_indexe(data.item, _vm.tab_indexe) > data.item.avance, 'text-danger': _vm.empty(data.item.avance)}},[_vm._v(\" \"+_vm._s(_vm._calcul_consommation_indexe(data.item, _vm.tab_indexe))+\" F \")])]}},{key:\"cell(show_details)\",fn:function(row){return [_c('b-form-checkbox',{on:{\"change\":row.toggleDetails},model:{value:(row.detailsShowing),callback:function ($$v) {_vm.$set(row, \"detailsShowing\", $$v)},expression:\"row.detailsShowing\"}})]}},{key:\"row-details\",fn:function(row){return [_c('b-card',{staticClass:\"m-0\"},[_c('b-row',[_c('b-col',[_c('dl',{staticClass:\"row text-muted\"},[_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Avance\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.empty(row.item.avance) ? '0 F' : row.item.avance + ' F'))]),_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Reste\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.empty(row.item.reste) ? '0 F' : row.item.reste + ' F'))])])]),_c('b-col',[_c('dl',{staticClass:\"row text-muted\"},[_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Statut\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[(_vm.empty(row.item.avance))?_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Non payé\")]):(_vm._calcul_consommation_indexe(row.item, _vm.tab_indexe) > row.item.avance)?_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"Avancé\")]):_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Payé\")])],1),_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Date de paiement\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.empty(row.item.datePaiement) ? 'Non disponible' : _vm.$date(row.item.datePaiement).format('DD MMMM YYYY')))])])])],1)],1)]}}])})],1)])])],1),_c('div',{staticClass:\"tab-pane fade \",attrs:{\"id\":\"loyers\"}},[_c('b-container',[_c('b-table',{attrs:{\"sticky-header\":\"600px\",\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\",\"items\":_vm.occupation.loyers,\"fields\":[\n                        { key: 'mois', label: 'Mois', sortable: true },\n                        { key: 'annees', label: 'Année', sortable: true },\n                        { key: 'montant', label: 'Montant à payer', sortable: true },\n                        { key: 'montantPayer', label: 'Montant payé', sortable: true },\n                        { key: 'observation', label: 'Observation' } ]},scopedSlots:_vm._u([{key:\"cell(mois)\",fn:function(data){return [_vm._v(_vm._s(_vm.$dayjs(data.item.periode).format('MMMM')))]}},{key:\"cell(annees)\",fn:function(data){return [_vm._v(_vm._s(_vm.$dayjs(data.item.periode).format('YYYY')))]}},{key:\"cell(montant)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.montant)+\" F\")]}},{key:\"cell(montantPayer)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.montantPayer)+\" F\")]}},{key:\"cell(observation)\",fn:function(data){return [(_vm.empty(data.item.montantPayer) || data.item.montantPayer <= 0)?_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Impayé\")]):(data.item.montantPayer < data.item.montant)?_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"Avancé\")]):_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Payé le \"+_vm._s(_vm.$dayjs(data.item.datePaiement).format('DD MMMM YYYY')))])]}}])})],1)],1),_c('div',{staticClass:\"tab-pane fade \",attrs:{\"id\":\"charges\"}},[_c('b-container',[_c('div',{staticClass:\"d-flex align-items-center justify-content-end mb-1\"},[_c('btnAdd',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.chargeForm\",modifiers:{\"chargeForm\":true}}],attrs:{\"message\":\"Nouvelle charge\"}})],1),_c('b-overlay',{attrs:{\"show\":_vm.showOverlayTable,\"rounded\":\"sm\"}},[_c('b-table',{attrs:{\"sticky-header\":\"600px\",\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\",\"items\":_vm.occupation.charges,\"fields\":[\n                            { key: 'mois', label: 'Mois', sortable: true },\n                            { key: 'annees', label: 'Année', sortable: true },\n                            { key: 'montant', label: 'A payer', sortable: true },\n                            { key: 'montantPayer', label: 'Payé', sortable: true },\n                            { key: 'observation', label: 'Observation' },\n                            { key: 'statut', label: 'Statut'},\n                            { key: 'Action', label: 'Action'} ]},scopedSlots:_vm._u([{key:\"cell(mois)\",fn:function(data){return [_vm._v(_vm._s(_vm.$dayjs(data.item.periode).format('MMMM')))]}},{key:\"cell(annees)\",fn:function(data){return [_vm._v(_vm._s(_vm.$dayjs(data.item.periode).format('YYYY')))]}},{key:\"cell(montant)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.montant)+\" F\")]}},{key:\"cell(montantPayer)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.montantPayer)+\" F\")]}},{key:\"cell(observation)\",fn:function(data){return [(_vm.empty(data.item.montantPayer) || data.item.montantPayer <= 0)?_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Impayé\")]):(data.item.montantPayer < data.item.montant)?_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"Avancé\")]):_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Payé le \"+_vm._s(_vm.$dayjs(data.item.datePaiement).format('DD MMMM YYYY')))])]}},{key:\"cell(statut)\",fn:function(data){return [(data.item.etatCharge)?_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Actif\")]):_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Terminé\")])]}},{key:\"cell(action)\",fn:function(row){return [_c('b-dropdown',{attrs:{\"size\":\"sm\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fa fa-ellipsis-h\"})]},proxy:true}],null,true)},[_c('b-dropdown-item',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changeState(row.item)}}},[_vm._v(_vm._s(row.item.etatCharge ? 'Marquer comme terminée' : 'Activer la charge'))]),_c('b-dropdown-item',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.buyCharge(row.item)}}},[_vm._v(\"Payer\")]),_c('b-dropdown-divider'),_c('b-dropdown-item',{attrs:{\"href\":\"#\"},on:{\"click\":row.toggleDetails}},[_vm._v(\"Détails\")])],1)]}},{key:\"row-details\",fn:function(row){return [_c('b-card',{staticClass:\"m-0\"},[_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('a',{staticClass:\"text-danger\",attrs:{\"href\":\"#\"},on:{\"click\":row.toggleDetails}},[_c('i',{staticClass:\"fa fa-times\"})])]),_c('dl',[_c('dt',[_vm._v(\"Nature de la charge\")]),_c('dd',[_vm._v(_vm._s(row.item.typeCharge.libelle))])]),_c('dl',[_c('dt',[_vm._v(\"Description\")]),_c('dd',[_c('p',[_vm._v(_vm._s(row.item.observation))])])])])]}}])})],1)],1)],1)])])]),_c('b-modal',{attrs:{\"id\":\"chargeForm\",\"size\":\"sm\",\"hide-footer\":\"\",\"no-close-on-backdrop\":\"\"},scopedSlots:_vm._u([{key:\"modal-title\",fn:function(){return [_c('span',{staticClass:\"ml-4 text-form-charge\"},[_vm._v(_vm._s(_vm.title))])]},proxy:true}])},[_c('div',[_c('charge-form',{attrs:{\"action\":_vm.action,\"occupation\":_vm.occupation}})],1)]),_c('b-modal',{attrs:{\"id\":\"rechargeCompte\",\"size\":\"sm\",\"title\":\"Recharge de compte\"},on:{\"hidden\":_vm.resetForm,\"ok\":_vm.doRecharge,\"show\":function () { _vm.recharge.idCompte = _vm.occupation.comptes.find(function (elt) { return elt.typeCompte.toLowerCase() == 'principal'; }).idCompte }},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\n                        var ok = ref.ok;\n                        var cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\"Annuler\")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\",\"disabled\":_vm.submitted},on:{\"click\":function($event){return ok()}}},[_vm._v(\"Valider \"),(_vm.submitted)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e()],1)]}}])},[_c('b-form-group',{attrs:{\"label\":\"Compte à recharger\"}},[_c('b-form-select',{attrs:{\"options\":_vm.occupation.comptes,\"value-field\":\"idCompte\",\"text-field\":\"typeCompte\"},model:{value:(_vm.recharge.idCompte),callback:function ($$v) {_vm.$set(_vm.recharge, \"idCompte\", $$v)},expression:\"recharge.idCompte\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Montant de la recharge\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"min\":\"1\",\"placeholder\":\"Ex: 5000\"},model:{value:(_vm.recharge.montant),callback:function ($$v) {_vm.$set(_vm.recharge, \"montant\", $$v)},expression:\"recharge.montant\"}})],1)],1),_c('b-modal',{attrs:{\"id\":\"creerCompte\",\"size\":\"sm\",\"title\":\"Créer un compte à l'occupation\"},on:{\"hidden\":_vm.resetForm,\"ok\":_vm.createCompte},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\n                        var ok = ref.ok;\n                        var cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\"Annuler\")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\",\"disabled\":_vm.submitted},on:{\"click\":function($event){return ok()}}},[_vm._v(\"Valider \"),(_vm.submitted)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e()],1)]}}])},[_c('b-form-group',{attrs:{\"label\":\"Label du compte\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: Lumière\"},model:{value:(_vm.creerCompte.typeCompte),callback:function ($$v) {_vm.$set(_vm.creerCompte, \"typeCompte\", $$v)},expression:\"creerCompte.typeCompte\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Solde initial\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"min\":\"1\",\"placeholder\":\"Ex: 5000\"},model:{value:(_vm.creerCompte.solde),callback:function ($$v) {_vm.$set(_vm.creerCompte, \"solde\", $$v)},expression:\"creerCompte.solde\"}})],1)],1),_c('b-modal',{attrs:{\"id\":\"payerCharge\",\"size\":\"sm\",\"title\":\"Règlement de la charge\"},on:{\"hidden\":_vm.resetForm,\"ok\":_vm.payCharge},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\n                        var ok = ref.ok;\nreturn [_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\",\"disabled\":_vm.submitted},on:{\"click\":function($event){return ok()}}},[_vm._v(\"Valider \"),(_vm.submitted)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e()],1)]}}])},[_c('b-form-group',{attrs:{\"label\":\"Montant\",\"description\":\"Entrez le montant à préléver dans le compte\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"min\":\"1\",\"placeholder\":\"Ex: 5000\"},model:{value:(_vm.payerCharge.montant),callback:function ($$v) {_vm.$set(_vm.payerCharge, \"montant\", $$v)},expression:\"payerCharge.montant\"}})],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-money-bill\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-lightbulb\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-water\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-file-invoice\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-dollar-sign\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-items-center justify-content-between\"},[_c('hr',{staticClass:\"w-25 bg-danger\"}),_vm._v(\" Locataire \"),_c('hr',{staticClass:\"w-25 bg-danger\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-id-card\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-phone\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-envelope\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fas fa-calendar-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-items-center justify-content-between\"},[_c('hr',{staticClass:\"w-25 bg-danger\"}),_vm._v(\" Logement \"),_c('hr',{staticClass:\"w-25 bg-danger\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-dollar-sign\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-map-marker-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav nav-pills custom-pills\",attrs:{\"id\":\"pills-tab\",\"role\":\"tablist\"}},[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link active\",attrs:{\"data-toggle\":\"pill\",\"href\":\"#generalites\"}},[_vm._v(\"Généralités\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"data-toggle\":\"pill\",\"href\":\"#loyers\"}},[_vm._v(\"Loyers\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"data-toggle\":\"pill\",\"href\":\"#charges\"}},[_vm._v(\"charges\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"data-toggle\":\"pill\",\"href\":\"#indexes\"}},[_vm._v(\"Indexes\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"data-toggle\":\"pill\",\"href\":\"#comptes\"}},[_vm._v(\"Comptes\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Montant\",\"description\":\"combien voulez-vous attribuer ?\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: 3000\",\"type\":\"number\",\"trim\":\"\"},model:{value:(_vm.charge.montant),callback:function ($$v) {_vm.$set(_vm.charge, \"montant\", $$v)},expression:\"charge.montant\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Description\"}},[_c('b-form-textarea',{staticClass:\"mb-2\",attrs:{\"placeholder\":\"pourquoi attribuez-vous cette charge ?\",\"rows\":\"6\"},model:{value:(_vm.charge.observation),callback:function ($$v) {_vm.$set(_vm.charge, \"observation\", $$v)},expression:\"charge.observation\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Type de charge concernée\")]),_c('v-select',{attrs:{\"label\":\"libelle\",\"options\":_vm.typesCharges},on:{\"input\":_vm.setType},model:{value:(_vm.typeCharge),callback:function ($$v) {_vm.typeCharge=$$v},expression:\"typeCharge\"}})],1)])],1),_c('b-row',[_c('b-col',[_c('b-form-checkbox',{model:{value:(_vm.charge.etatCharge),callback:function ($$v) {_vm.$set(_vm.charge, \"etatCharge\", $$v)},expression:\"charge.etatCharge\"}},[_c('span',{staticClass:\"mt-3\"},[_vm._v(\"Statut\")])])],1)],1),_c('hr'),_c('div',{staticClass:\"float-right\"},[_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitModal.apply(null, arguments)}}},[_vm._v(\"Valider\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-overlay :show=\"showOverlay\" rounded=\"sm\">\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group\r\n            label=\"Montant\"\r\n            description=\"combien voulez-vous attribuer ?\"\r\n          >\r\n            <b-form-input\r\n              v-model=\"charge.montant\"\r\n              placeholder=\"Ex: 3000\"\r\n              type=\"number\"\r\n              trim\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n        <!--<b-col>\r\n            <b-form-group label=\"Date à laquelle la dépense a été éffectuée\">\r\n                <date-picker v-model=\"charge.date\" placeholder=\"Selectionnez une date\" format=\"dddd, DD MMMM YYYY\" valueType=\"YYYY-MM-DD\" class=\"w-100\" :clearable=\"false\"/>\r\n            </b-form-group>                        \r\n        </b-col>-->\r\n      </b-row>\r\n  \r\n      <!--<b-row>\r\n        <b-col cols=\"7\">\r\n          <b-form-group label=\"description\">\r\n            <b-form-textarea\r\n              class=\"mb-2\"\r\n              placeholder=\"pourquoi attibuez-vous cette charge ?\"\r\n              rows=\"7\"\r\n              v-model=\"charge.description\"\r\n            ></b-form-textarea>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col cols=\"5\">\r\n            <div class=\"form-group\">\r\n                <label>Type de charge concernée</label>\r\n                <v-select label=\"libelle\" :options=\"typesCharges\"  v-model=\"idTypeCharge\"></v-select>\r\n            </div>\r\n        </b-col>\r\n      </b-row>-->\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group label=\"Description\">\r\n            <b-form-textarea\r\n              class=\"mb-2\"\r\n              placeholder=\"pourquoi attribuez-vous cette charge ?\"\r\n              rows=\"6\"\r\n              v-model=\"charge.observation\"\r\n            ></b-form-textarea>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n            <div class=\"form-group\">\r\n                <label>Type de charge concernée</label>\r\n                <v-select label=\"libelle\" :options=\"typesCharges\"  v-model=\"typeCharge\" @input=\"setType\"></v-select>\r\n            </div>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n            <b-form-checkbox v-model=\"charge.etatCharge\"><span class=\"mt-3\">Statut</span></b-form-checkbox>\r\n        </b-col>\r\n      </b-row>\r\n\r\n           \r\n\r\n\r\n        <hr>\r\n        <div class=\"float-right\">\r\n        <b-button @click.prevent=\"submitModal\" variant=\"danger\">Valider</b-button>\r\n    </div>\r\n    </b-overlay>\r\n</template>\r\n<script>\r\nimport DatePicker from 'vue2-datepicker';\r\nimport 'vue2-datepicker/index.css';\r\nimport 'vue2-datepicker/locale/fr';\r\nimport notif from \"@/plugins/notif.js\";\r\nconst php = require(\"phpjs\");\r\n\r\n\r\nexport default {\r\n  name: \"charge-form\",\r\n  data: () => ({\r\n   disabled:false,\r\n\r\n    charge: {\r\n      idTypeCharge: \"\",\r\n      montant: \"\",\r\n      date: \"\",\r\n      observation: \"\",\r\n      etatCharge:true\r\n    },\r\n    typesCharges:[],\r\n    typeCharge:'',\r\n    commandeAction:\"\",\r\n    showOverlay: true,\r\n    sendForm: false\r\n\r\n  }),\r\n  components: {\r\n    DatePicker\r\n  },\r\n  props: {\r\n        action: {type: String, required: true, default: \"add\"},\r\n        occupation: { type: Object},\r\n    },\r\n  methods: {\r\n     setType(){\r\n       this.charge.idTypeCharge=this.typeCharge.idTypeCharge;\r\n     },\r\n\r\n    resetModal() {\r\n      this.charge = {\r\n        idTypeCharge: '',\r\n        montant: '',\r\n        date: '',\r\n        description: ''\r\n      };\r\n\r\n      setTimeout(() => {\r\n        this.$emit('closeDepenseModal');\r\n      }, 500);\r\n    },\r\n\r\n    //validation formulaire d'ajout/modification d'une dépense\r\n    submitModal(bvModalEvt) {\r\n        \r\n      bvModalEvt.preventDefault();\r\n      if (php.empty(this.charge.montant) || php.empty(this.charge.idTypeCharge)) {\r\n                return App.error('Un montant, une date et la raison de la charge sont obligatoires')\r\n      }\r\n      if (this.charge.montant =='') {\r\n        return App.error('Vous devez spécifier un montant')\r\n      }\r\n      if (this.idTypeCharge =='') {\r\n        return App.error('Vous devez spécifier selectionner le type de charge qu\\'il s\\'agit')\r\n      }\r\n      if (this.action == \"add\") {\r\n        console.log('charge', this.charge)\r\n          this.showOverlay = true;\r\n            axios.post('occupations/'+this.occupation.idOccupation+'/charges',this.charge).then(response =>{\r\n                  this.resetModal();\r\n                   this.showOverlay = false;\r\n                  this.$root.$emit(\"new-charge\", response.result);\r\n                  return App.notifySuccess(response.message)\r\n                 \r\n            })\r\n            .catch(error => {\r\n                this.showOverlay = false;\r\n                 notif.error(error.message);\r\n            });\r\n  \r\n      }\r\n    },\r\n    //recupération de la liste des types de charge\r\n    async getTypesCharges(){\r\n            if(storage.get('types-charges')!=null&&storage.get('types-charges').length>0){\r\n                this.typesCharges=storage.get('types-charges');\r\n            }\r\n            else{\r\n                try {\r\n                    this.typesCharges = await axios.get(\"constants/types-charges\").then(response => response.result);\r\n                    storage.set('types-charges',this.typesCharges)\r\n                } catch (error) {\r\n                    console.log(error.message);\r\n                }\r\n            }\r\n            this.showOverlay=false;\r\n    }\r\n\r\n  },\r\n  async mounted(){\r\n    await this.getTypesCharges()\r\n  }\r\n\r\n};\r\n</script>\r\n<style scoped>\r\n .disabled {\r\n    pointer-events:none;\r\n    color: #bfcbd9;\r\n    cursor: not-allowed;\r\n    background-image: none;\r\n    background-color: #eef1f6;\r\n    border-color: #d1dbe5;   \r\n }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chargeForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chargeForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chargeForm.vue?vue&type=template&id=20547aed&scoped=true&\"\nimport script from \"./chargeForm.vue?vue&type=script&lang=js&\"\nexport * from \"./chargeForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chargeForm.vue?vue&type=style&index=0&id=20547aed&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20547aed\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <div class=\"card-deck\">\r\n            <div class=\"card col-3\">\r\n                <div class=\"card-body\">\r\n                    <div class=\"text-center\"> \r\n                        <h4 class=\"card-title\">Occupation n° {{ occupation.idOccupation }}</h4>\r\n                        <div v-if=\"occupation.dateFin == null\">\r\n                            <b-badge variant=\"warning\" v-if=\" _calcul_impayes('total') > 0\">Bail en cours</b-badge>\r\n                            <b-badge variant=\"success\" v-else>Bail en cours</b-badge>\r\n                        </div>\r\n                        <div v-else>\r\n                            <b-badge variant=\"danger\">Bail terminé le {{ $date(occupation.dateFin).format('DD MMMM YYYY') }}</b-badge>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-body pt-0\">                         \r\n                    <div v-if=\"totalImpayes > 0\" class=\"d-flex align-items-center justify-content-between\">\r\n                        <hr class=\"w-25 bg-danger\"> Aperçu <hr class=\"w-25 bg-danger\">\r\n                    </div>\r\n                    <div v-if=\"totalImpayes > 0\" class=\"jumbotron pt-10 pb-10 px-2\">\r\n                        <dl class=\"row mb-0 text-muted\">\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-money-bill\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip.right=\"'Impayés de loyer'\">{{ _calcul_impayes('loyer') + ' F' }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-lightbulb\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip.right=\"'Impayés de lumière'\">{{ _calcul_impayes('energie') + ' F' }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-water\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip.right=\"'Impayés d\\'eau'\">{{ _calcul_impayes('eau') + ' F' }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-file-invoice\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate font-weight-bold\" v-b-tooltip.right=\"'Impayés de charges'\">{{ _calcul_impayes('charges') + ' F' }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-dollar-sign\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate font-weight-bold\" v-b-tooltip.right=\"'Total des impayés'\" :class=\"{'text-danger' : totalImpayes > 10000}\">{{ totalImpayes + ' F' }}</dt>\r\n                        </dl>\r\n                    </div>\r\n                    <div class=\"d-flex align-items-center justify-content-between\">\r\n                        <hr class=\"w-25 bg-danger\"> Locataire <hr class=\"w-25 bg-danger\">\r\n                    </div>\r\n                    <span class=\"d-inline-block w-100 mb-1 text-center\">{{ occupation.locataire.titre + ' ' + occupation.locataire.nomLocataire + ' ' + occupation.locataire.prenomLocataire }}</span>    \r\n                    <span class=\"d-inline-block w-100 mb-1 text-center text-muted\">{{ occupation.locataire.profession }}</span>    \r\n                    <div class=\"jumbotron pt-10 pb-10 px-2\">\r\n                        <dl class=\"row text-muted\">\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-id-card\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Numéro de CNI'\">{{ occupation.locataire.cniLocataire }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-phone\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Numéro de téléphone'\">{{ occupation.locataire.tel + ' / ' + occupation.locataire.tel2 }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-envelope\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Email'\">{{ occupation.locataire.email + ' / ' + occupation.locataire.email2 }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fas fa-calendar-alt\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Date de naissance'\">{{ $date(occupation.locataire.dateNaiss).format('DD MMMM YYYY') }}</dt>\r\n                        </dl>\r\n                        <b-button to=\"#\" size=\"sm\" block variant=\"outline-secondary\">Voir le dossier</b-button>\r\n                    </div>\r\n                    <div class=\"d-flex align-items-center justify-content-between\">\r\n                        <hr class=\"w-25 bg-danger\"> Logement <hr class=\"w-25 bg-danger\">\r\n                    </div>\r\n                    <span class=\"d-inline-block w-100 mb-1 text-center\">{{ occupation.logement.refLogement }}</span>    \r\n                    <span class=\"d-inline-block w-100 mb-1 text-center text-muted\">{{ occupation.logement.sousTypeLogement.libelleSousType }}</span>    \r\n                    <div class=\"jumbotron pt-10 pb-10 px-2\">\r\n                        <dl class=\"row text-muted\">\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-dollar-sign\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Plage de loyer'\">{{ occupation.logement.prixMin + 'F' }} - {{ occupation.logement.prixMax + 'F' }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-map-marker-alt\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Localisation'\">{{ occupation.logement.adresse.ville + ' ' + occupation.logement.adresse.pays }}</dt>\r\n                            <dd v-if=\"occupation.logement.batiment\" class=\"mt-1 col-1\"><i class=\"fa fa-building\"></i></dd>\r\n                            <dt v-if=\"occupation.logement.batiment\" class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Batiment'\">{{ occupation.logement.batiment.nomBatiment }}</dt>\r\n                            <dd v-if=\"occupation.logement.batiment\" class=\"mt-1 col-1\"><i class=\"fas fa-city\"></i></dd>\r\n                            <dt v-if=\"occupation.logement.batiment\" class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Cité'\">{{ occupation.logement.batiment.cite.nomCite }}</dt>\r\n                        </dl>\r\n                        <b-button :to=\"{name: 'logements', query: {target: occupation.logement.idLogement}}\" size=\"sm\" block variant=\"outline-secondary\">Voir les details</b-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"card\">\r\n                <ul class=\"nav nav-pills custom-pills\" id=\"pills-tab\" role=\"tablist\">\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link active\" data-toggle=\"pill\" href=\"#generalites\">Généralités</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" data-toggle=\"pill\" href=\"#loyers\">Loyers</a>\r\n                    </li>\r\n                      <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" data-toggle=\"pill\" href=\"#charges\">charges</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" data-toggle=\"pill\" href=\"#indexes\">Indexes</a>\r\n                    </li>\r\n                    <li class=\"nav-item\"><a class=\"nav-link\" data-toggle=\"pill\" href=\"#comptes\">Comptes</a></li>\r\n                </ul>\r\n                <div class=\"tab-content\" id=\"pills-tabContent\">\r\n                    <div class=\"tab-pane fade show active\" id=\"generalites\">\r\n                        <div class=\"card-body\">\r\n                            <h4 class=\"border-bottom\">Information</h4>\r\n                            <b-row class=\"mb-1\">\r\n                                <b-col>\r\n                                    <dl class=\"row text-muted\">\r\n                                        <dd class=\"mt-1 col-5\">Loyer</dd>\r\n                                        <dt class=\"mt-1 col-7\">{{ occupation.loyerBase + ' F' }}</dt>\r\n                                        <dd class=\"mt-1 col-5\">Mode de paiement</dd>\r\n                                        <dt class=\"mt-1 col-7\">{{ occupation.modePaiement }}</dt>\r\n                                        <dd class=\"mt-1 col-5\">Date de debut du bail</dd>\r\n                                        <dt class=\"mt-1 col-7\">{{ $date(occupation.dateDeb).format('dddd, DD MMMM YYYY') }}</dt>\r\n                                        <dd class=\"mt-1 col-5\" v-if=\"occupation.dateFin\">Date de fin du bail</dd>\r\n                                        <dt class=\"mt-1 col-7\" v-if=\"occupation.dateFin\">{{ $date(occupation.dateFin).format('dddd, DD MMMM YYYY') }}</dt>\r\n                                        <dd class=\"mt-1 col-5\">Occupation créée le</dd>\r\n                                        <dt class=\"mt-1 col-7\">{{ $date(occupation.createdAt).format('dddd, DD MMMM YYYY HH:mm') }}</dt>\r\n                                    </dl>\r\n                                </b-col>\r\n                                <b-col>\r\n                                    <dl class=\"row text-muted\">\r\n                                        <dd class=\"mt-1 col-5\">Nombre de mois d'avance</dd>\r\n                                        <dt class=\"mt-1 col-7\">{{ occupation.loyerBase + ' F' }}</dt>\r\n                                        <dd class=\"mt-1 col-5\">Caution payé</dd>\r\n                                        <dt class=\"mt-1 col-7\">{{ occupation.modePaiement }}</dt>\r\n                                        <dd class=\"mt-1 col-5\">Facturation d'energie</dd>\r\n                                        <dt class=\"mt-1 col-7\">{{ occupation.puEnergie + 'F' }} par {{ occupation.modeEnergie == 'index' ? 'kw' : 'mois' }}</dt>\r\n                                        <dd class=\"mt-1 col-5\">Facturation d'eau</dd>\r\n                                        <dt class=\"mt-1 col-7\">{{ occupation.puEau + 'F' }} par <span v-if=\"occupation.modeEau == 'index'\">m<sup>3</sup></span><span v-else>mois</span></dt>\r\n                                    </dl>\r\n                                </b-col>\r\n                            </b-row>\r\n                            <div class=\"border-bottom d-flex justify-content-between mb-2\">\r\n                                <h4>Comptes</h4>\r\n                                <b-button-group>\r\n                                    <b-button class=\"float-right btn-icon\" v-b-tooltip=\"'Effectuer une recharge'\" @click.prevent=\"$bvModal.show('rechargeCompte')\"><i class=\"fa fa-charging-station\"></i></b-button>\r\n                                    <b-button class=\"float-right btn-icon\" v-b-tooltip=\"'Créer compte'\" @click.prevent=\"$bvModal.show('creerCompte')\"><i class=\"fa fa-plus\"></i></b-button>\r\n                                </b-button-group>\r\n                            </div>\r\n                            <dl class=\"row my-2\" v-for=\"(compte, i) in occupation.comptes\" :key=\"compte.idCompte || i\">\r\n                                <dd class=\"col-5\">Compte {{ compte.typeCompte }}</dd>\r\n                                <dt class=\"col-7 fa-lg text-primary\">{{ compte.solde }} F</dt>\r\n                            </dl>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"tab-pane fade\" id=\"indexes\">\r\n                        <b-container class=\"my-3\">\r\n                            <ul class=\"nav nav-tabs\">\r\n                                <li class=\"nav-item\"><a class=\"nav-link\" :class=\"{'active' : tab_indexe == 'eau'}\" @click.prevent=\"tab_indexe = 'eau'\" data-toggle=\"pill\" href=\"#\">Indexes d'eau</a></li>\r\n                                <li class=\"nav-item\"><a class=\"nav-link\" :class=\"{'active' : tab_indexe == 'energie'}\" @click.prevent=\"tab_indexe = 'energie'\" data-toggle=\"pill\" href=\"#\">Indexes d'électricité</a></li>\r\n                            </ul>\r\n                            <div class=\"tab-content\">\r\n                                <div class=\"tab-pane fade show active mt-1\">\r\n                                    <b-table  sticky-header=\"600px\" striped hover responsive :items=\"indexes\" :fields=\"[\r\n                                        { key: 'mois', label: 'Mois', sortable: true },\r\n                                        { key: 'annees', label: 'Année', sortable: true },\r\n                                        { key: 'nouveau', label: 'Indexe courant', sortable: true },\r\n                                        { key: 'ancien', label: 'Ancien indexe', sortable: true },\r\n                                        { key: 'consommation', label: 'Consommation', sortable: true },\r\n                                        { key: 'montant', label: 'Montant', sortable: true },\r\n                                        { key: 'show_details', label: 'Details' }\r\n                                    ]\">\r\n                                        <template #cell(mois)=\"data\">{{ $dayjs(data.item.periode).format('MMMM')}}</template>\r\n                                        <template #cell(annees)=\"data\">{{ $dayjs(data.item.periode).format('YYYY')}}</template>\r\n                                        <template #cell(consommation)=\"data\">{{ data.item.nouveau - data.item.ancien }}</template>\r\n                                        <template #cell(montant)=\"data\"><span :class=\"{'text-success': _calcul_consommation_indexe(data.item, tab_indexe) <= data.item.avance, 'text-warning': _calcul_consommation_indexe(data.item, tab_indexe) > data.item.avance, 'text-danger': empty(data.item.avance)}\">\r\n                                            {{ _calcul_consommation_indexe(data.item, tab_indexe) }} F\r\n                                        </span></template>\r\n                                        <template #cell(show_details)=\"row\"><b-form-checkbox v-model=\"row.detailsShowing\" @change=\"row.toggleDetails\"></b-form-checkbox></template>\r\n                                        <template #row-details=\"row\">\r\n                                            <b-card class=\"m-0\">\r\n                                                <b-row>\r\n                                                    <b-col>\r\n                                                        <dl class=\"row text-muted\">\r\n                                                            <dd class=\"mt-1 col-5\">Avance</dd>\r\n                                                            <dt class=\"mt-1 col-7\">{{ empty(row.item.avance) ? '0 F' : row.item.avance + ' F' }}</dt>\r\n                                                            <dd class=\"mt-1 col-5\">Reste</dd>\r\n                                                            <dt class=\"mt-1 col-7\">{{ empty(row.item.reste) ? '0 F' : row.item.reste + ' F' }}</dt>\r\n                                                        </dl>\r\n                                                    </b-col>\r\n                                                    <b-col>\r\n                                                        <dl class=\"row text-muted\">\r\n                                                            <dd class=\"mt-1 col-5\">Statut</dd>\r\n                                                            <dt class=\"mt-1 col-7\">\r\n                                                                <b-badge variant=\"danger\" v-if=\"empty(row.item.avance)\">Non payé</b-badge>\r\n                                                                <b-badge variant=\"warning\" v-else-if=\"_calcul_consommation_indexe(row.item, tab_indexe) > row.item.avance\">Avancé</b-badge>\r\n                                                                <b-badge variant=\"success\" v-else>Payé</b-badge>\r\n                                                            </dt>\r\n                                                            <dd class=\"mt-1 col-5\">Date de paiement</dd>\r\n                                                            <dt class=\"mt-1 col-7\">{{ empty(row.item.datePaiement) ? 'Non disponible' : $date(row.item.datePaiement).format('DD MMMM YYYY') }}</dt>\r\n                                                        </dl>\r\n                                                    </b-col>\r\n                                                </b-row>\r\n                                            </b-card>\r\n                                        </template>\r\n                                    </b-table>\r\n                                </div>\r\n                            </div>\r\n                        </b-container>    \r\n                    </div>\r\n\r\n                    <div class=\"tab-pane fade \" id=\"loyers\">\r\n                        <b-container><b-table  sticky-header=\"600px\" striped hover responsive :items=\"occupation.loyers\" :fields=\"[\r\n                            { key: 'mois', label: 'Mois', sortable: true },\r\n                            { key: 'annees', label: 'Année', sortable: true },\r\n                            { key: 'montant', label: 'Montant à payer', sortable: true },\r\n                            { key: 'montantPayer', label: 'Montant payé', sortable: true },\r\n                            { key: 'observation', label: 'Observation' },\r\n                        ]\">\r\n                            <template #cell(mois)=\"data\">{{ $dayjs(data.item.periode).format('MMMM')}}</template>\r\n                            <template #cell(annees)=\"data\">{{ $dayjs(data.item.periode).format('YYYY')}}</template>\r\n                            <template #cell(montant)=\"data\"> {{ data.item.montant }} F</template>\r\n                            <template #cell(montantPayer)=\"data\"> {{ data.item.montantPayer }} F</template>\r\n                            <template #cell(observation)=\"data\"> \r\n                                <b-badge variant=\"danger\" v-if=\"empty(data.item.montantPayer) || data.item.montantPayer <= 0\">Impayé</b-badge>\r\n                                <b-badge variant=\"warning\" v-else-if=\"data.item.montantPayer < data.item.montant\">Avancé</b-badge>\r\n                                <b-badge variant=\"success\" v-else>Payé le {{ $dayjs(data.item.datePaiement).format('DD MMMM YYYY') }}</b-badge>\r\n                            </template>\r\n                        </b-table></b-container>\r\n                    </div> \r\n\r\n                    <!--GESTION DES CHARGES -->\r\n                    <div class=\"tab-pane fade \" id=\"charges\">\r\n                        <b-container>\r\n                            <div class=\"d-flex align-items-center justify-content-end mb-1\"><btnAdd  message=\"Nouvelle charge\" v-b-modal.chargeForm /></div>\r\n                            <b-overlay :show=\"showOverlayTable\" rounded=\"sm\"><b-table sticky-header=\"600px\" striped hover responsive :items=\"occupation.charges\" :fields=\"[\r\n                                { key: 'mois', label: 'Mois', sortable: true },\r\n                                { key: 'annees', label: 'Année', sortable: true },\r\n                                { key: 'montant', label: 'A payer', sortable: true },\r\n                                { key: 'montantPayer', label: 'Payé', sortable: true },\r\n                                { key: 'observation', label: 'Observation' },\r\n                                { key: 'statut', label: 'Statut'},\r\n                                { key: 'Action', label: 'Action'},\r\n                            ]\">\r\n                                <template #cell(mois)=\"data\">{{ $dayjs(data.item.periode).format('MMMM')}}</template>\r\n                                <template #cell(annees)=\"data\">{{ $dayjs(data.item.periode).format('YYYY')}}</template>\r\n                                <template #cell(montant)=\"data\"> {{ data.item.montant }} F</template>\r\n                                <template #cell(montantPayer)=\"data\"> {{ data.item.montantPayer }} F</template>\r\n                                <template #cell(observation)=\"data\"> \r\n                                    <b-badge variant=\"danger\" v-if=\"empty(data.item.montantPayer) || data.item.montantPayer <= 0\">Impayé</b-badge>\r\n                                    <b-badge variant=\"warning\" v-else-if=\"data.item.montantPayer < data.item.montant\">Avancé</b-badge>\r\n                                    <b-badge variant=\"success\" v-else>Payé le {{ $dayjs(data.item.datePaiement).format('DD MMMM YYYY') }}</b-badge>\r\n                                </template>\r\n                                <template #cell(statut)=\"data\"> \r\n                                    <b-badge variant=\"success\"  v-if=\"data.item.etatCharge\">Actif</b-badge>\r\n                                    <b-badge variant=\"danger\" v-else>Terminé</b-badge>\r\n                                </template>\r\n                                <template #cell(action)=\"row\"> \r\n                                    <b-dropdown size=\"sm\" right>\r\n                                        <template #button-content><i class=\"fa fa-ellipsis-h\"></i></template>\r\n                                        <b-dropdown-item href=\"#\" @click.prevent=\"changeState(row.item)\">{{ row.item.etatCharge ? 'Marquer comme terminée' : 'Activer la charge' }}</b-dropdown-item>\r\n                                        <b-dropdown-item href=\"#\" @click.prevent=\"buyCharge(row.item)\">Payer</b-dropdown-item>\r\n                                        <b-dropdown-divider />\r\n                                        <b-dropdown-item href=\"#\" @click=\"row.toggleDetails\">Détails</b-dropdown-item>\r\n                                    </b-dropdown>\r\n                                </template>\r\n                                <template #row-details=\"row\">\r\n                                    <b-card class=\"m-0\">\r\n                                        <div class=\"d-flex justify-content-end\">\r\n                                            <a href=\"#\" @click=\"row.toggleDetails\" class=\"text-danger\"><i class=\"fa fa-times\"></i></a>\r\n                                        </div>\r\n                                        <dl>\r\n                                            <dt>Nature de la charge</dt>\r\n                                            <dd>{{ row.item.typeCharge.libelle }}</dd>\r\n                                        </dl>\r\n                                        <dl>\r\n                                            <dt>Description</dt>\r\n                                            <dd><p>{{ row.item.observation }}</p></dd>\r\n                                        </dl>\r\n                                    </b-card>\r\n                                </template>\r\n                            </b-table></b-overlay>\r\n                        </b-container>\r\n                    </div> \r\n                </div>\r\n            </div>\r\n        </div>\r\n         <!--MODAL POUR AJOUTER OU MODIFIER UNE CHARGE-->\r\n        <b-modal id=\"chargeForm\" size=\"sm\" hide-footer no-close-on-backdrop>\r\n            <template #modal-title>\r\n            <span class=\"ml-4 text-form-charge\">{{ title }}</span>\r\n            </template>\r\n            <div>\r\n                <charge-form :action=\"action\" :occupation=\"occupation\"/>\r\n            </div>\r\n    </b-modal>\r\n\r\n        <!--MODAL RECHARGER UN COMPTE -->\r\n        <b-modal id=\"rechargeCompte\" size=\"sm\" title=\"Recharge de compte\" @hidden=\"resetForm\" @ok=\"doRecharge\" @show=\"() => { recharge.idCompte = occupation.comptes.find(elt => elt.typeCompte.toLowerCase() == 'principal').idCompte }\">\r\n            <template #modal-footer=\"{ ok, cancel }\">\r\n                <b-button size=\"sm\" @click=\"cancel()\">Annuler</b-button>\r\n                <b-button size=\"sm\" variant=\"danger\" @click=\"ok()\" :disabled=\"submitted\">Valider <b-spinner v-if=\"submitted\" small /></b-button>\r\n            </template>\r\n            <b-form-group label=\"Compte à recharger\">\r\n                <b-form-select v-model=\"recharge.idCompte\" :options=\"occupation.comptes\" value-field=\"idCompte\" text-field=\"typeCompte\" />\r\n            </b-form-group>\r\n            <b-form-group label=\"Montant de la recharge\">\r\n                <b-form-input type=\"number\" min=\"1\" placeholder=\"Ex: 5000\" v-model=\"recharge.montant\" />\r\n            </b-form-group>\r\n        </b-modal>\r\n        <!--MODAL CREER UN COMPTE -->\r\n        <b-modal id=\"creerCompte\" size=\"sm\" title=\"Créer un compte à l'occupation\" @hidden=\"resetForm\" @ok=\"createCompte\">\r\n            <template #modal-footer=\"{ ok, cancel }\">\r\n                <b-button size=\"sm\" @click=\"cancel()\">Annuler</b-button>\r\n                <b-button size=\"sm\" variant=\"danger\" @click=\"ok()\" :disabled=\"submitted\">Valider <b-spinner v-if=\"submitted\" small /></b-button>\r\n            </template>\r\n            <b-form-group label=\"Label du compte\">\r\n                <b-form-input v-model=\"creerCompte.typeCompte\" placeholder=\"Ex: Lumière\" />\r\n            </b-form-group>\r\n            <b-form-group label=\"Solde initial\">\r\n                <b-form-input type=\"number\" min=\"1\" placeholder=\"Ex: 5000\" v-model=\"creerCompte.solde\" />\r\n            </b-form-group>\r\n        </b-modal>\r\n\r\n        <!--MODAL PAYER UNE CHARGE -->\r\n        <b-modal id=\"payerCharge\" size=\"sm\" title=\"Règlement de la charge\" @hidden=\"resetForm\" @ok=\"payCharge\">\r\n            <template #modal-footer=\"{ ok }\">\r\n                <b-button size=\"sm\" variant=\"danger\" @click=\"ok()\" :disabled=\"submitted\">Valider <b-spinner v-if=\"submitted\" small /></b-button>\r\n            </template>\r\n            <b-form-group label=\"Montant\" description=\"Entrez le montant à préléver dans le compte\">\r\n                <b-form-input type=\"number\" min=\"1\" placeholder=\"Ex: 5000\" v-model=\"payerCharge.montant\" />\r\n            </b-form-group>\r\n        </b-modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport chargeForm from \"@/views/finances/charges/chargeForm.vue\";\r\nconst php = require('phpjs')\r\n\r\nexport default {\r\n    data:() =>({\r\n        submitted: false,\r\n        recharge: {idCompte: null, montant: null},\r\n        creerCompte: {typeCompte: null, solde: 0},\r\n        payerCharge: {montant: 0, idCharge: null},\r\n\r\n        tab_indexe: 'eau',\r\n        title:'Ajouter une charge',\r\n        action:\"add\",\r\n        showOverlayTable:false\r\n    }),\r\n    props: {\r\n        occupation: {type: Object, required: true}\r\n    },\r\n    components: {\r\n        chargeForm\r\n    },\r\n\r\n     computed: { \r\n        indexes() {\r\n            return this.indexes_type(this.tab_indexe).sort((a, b) => {\r\n                  return this.$dayjs().diff(b.periode) - this.$dayjs().diff(a.periode)\r\n            })\r\n        },\r\n        totalImpayes() {\r\n            return this._calcul_impayes('total')\r\n        }\r\n    },\r\n    beforeMount() {\r\n       /*  axios.get(`occupations/${this.$route.params.id}`).then(response => response.result || {}).then(occupation => {\r\n            this.occupation = occupation\r\n        }) */\r\n    },\r\n    mounted(){\r\n        this.$root.$on(\"new-charge\", newCharge => {\r\n            this.occupation.charges.unshift(newCharge);\r\n            this.$bvModal.hide('chargeForm');\r\n            console.log('nouvelle charge ajoutée')\r\n    });\r\n\r\n    },\r\n    methods: {\r\n        empty: (val) => php.empty(val),\r\n\r\n\r\n        indexes_type(type) {\r\n            return this.occupation.indexes.filter(elt => elt.typeIndexe == type)\r\n        },\r\n        /**\r\n         * Formatteur du montant totale de la consommation via les indexe\r\n         */\r\n        _calcul_consommation_indexe(indexe, type) {\r\n            let mode = this.occupation.modeEau, \r\n                pu = this.occupation.puEau,\r\n                consommation = 1\r\n                \r\n            if (type == 'energie') {\r\n                mode = this.occupation.modeEnergie\r\n                pu = this.occupation.puEnergie\r\n            }\r\n\r\n            if (mode == 'index') {\r\n                consommation = indexe.nouveau - indexe.ancien\r\n            }\r\n\r\n            return consommation * pu\r\n        },\r\n\r\n        _calcul_impayes(type) {\r\n            let total = 0;\r\n            \r\n            if (type == 'loyer') {\r\n                this.occupation.loyers.forEach(elt => {\r\n                    total += elt.montant - elt.montantPayer\r\n                })\r\n            }\r\n            else if (type == 'charges') {\r\n                this.occupation.charges.forEach(elt => {\r\n                    total += elt.montant - elt.montantPayer\r\n                })\r\n            }\r\n            else if (type == 'total') {\r\n                total = this._calcul_impayes('loyer') + this._calcul_impayes('eau') + this._calcul_impayes('energie') + this._calcul_impayes('charges')\r\n            }\r\n            else {\r\n                this.indexes_type(type).forEach(elt => {\r\n                    elt.avance = parseInt(elt.avance || 0)\r\n                    total += this._calcul_consommation_indexe(elt, type) - elt.avance\r\n                });\r\n            }\r\n            return total\r\n        },\r\n        /**\r\n         * mise à jour de la liste des charges lors de l'ajout d'une charge\r\n         */\r\n        pushCharge(){\r\n            console.log('nouvelle charge ajoutée');\r\n            this.occupation.charges.unshift(response.result)\r\n        },\r\n        /**\r\n         * changer le statut d'une charge\r\n         */\r\n        changeState(charge){\r\n            this.showOverlayTable=true;\r\n            let url='/charges/'+charge.idCharge+'/change-state'\r\n            axios.put(url).then(response =>{\r\n                if (!response.success) {\r\n                    this.showOverlayTable=false;\r\n                    return App.alertError(response.message)\r\n                }\r\n\r\n                let url2='occupations/'+charge.idOccupation+'/charges'\r\n                axios.get(url2).then(response => response.result || []).then(charges => {\r\n                    this.occupation.charges=charges;\r\n            })\r\n              this.showOverlayTable=false;\r\n\r\n                return App.notifySuccess(response.message)\r\n                    \r\n            })\r\n        \r\n        },\r\n\r\n        /**\r\n         * Execute la recharge\r\n         */\r\n        doRecharge(bvModalEvt) {\r\n            bvModalEvt.preventDefault()\r\n\r\n            if (php.empty(this.recharge.idCompte) || php.empty(this.recharge.montant)) {\r\n                return App.error('Veuillez remplir tous les champs du formulaire')\r\n            }\r\n            this.submitted = true\r\n            axios.post('comptes/' + this.recharge.idCompte + '/recharge', this.recharge).then(response => {\r\n                this.occupation.comptes = this.occupation.comptes.map(elt => {\r\n                    if (elt.idCompte == this.recharge.idCompte) {\r\n                        elt.solde += parseInt(this.recharge.montant)\r\n                    }\r\n                    return elt\r\n                })\r\n                this.$bvModal.hide('rechargeCompte')\r\n                this.$emit('change', this.occupation)\r\n                return App.notifySuccess(response.message)\r\n            }).catch(error => {\r\n                this.submitted = false\r\n                return App.alertError(error.message)\r\n            })\r\n        },\r\n        /**\r\n         * \r\n         */\r\n        createCompte(bvModalEvt) {\r\n            bvModalEvt.preventDefault()\r\n\r\n            if (php.empty(this.creerCompte.typeCompte) || php.empty(this.creerCompte.solde)) {\r\n                return App.error('Veuillez remplir tous les champs du formulaire')\r\n            }\r\n            const data = {...this.creerCompte, idOccupation: this.occupation.idOccupation}\r\n            this.submitted = true\r\n            axios.post('comptes', data).then(response => {\r\n                this.occupation.comptes.push(response.result)\r\n                this.$bvModal.hide('creerCompte')\r\n                this.$emit('change', this.occupation)\r\n                return App.notifySuccess(response.message)\r\n            }).catch(error => {\r\n                this.submitted = false\r\n                return App.alertError(error.message)\r\n            })\r\n        },\r\n\r\n        buyCharge(charge) {\r\n            this.payerCharge.idCharge = charge.idCharge\r\n            this.payerCharge.montant = charge.montant - charge.montantPayer\r\n            this.$bvModal.show('payerCharge')\r\n        },\r\n        payCharge(bvModalEvt) {\r\n            bvModalEvt.preventDefault()\r\n            if (php.empty(this.payerCharge.montant)) {\r\n                return App.error('Veuillez entrer le montant à payer')\r\n            }\r\n            this.submitted = true \r\n            axios.put('charges/' + this.payerCharge.idCharge + '/buy', {montant: this.payerCharge.montant}).then(async(response) => {\r\n                this.occupation.charges = await axios.get('occupations/'+this.occupation.idOccupation+'/charges').then(res => res.result || [])\r\n                this.occupation.comptes = await axios.get('occupations/'+this.occupation.idOccupation+'/comptes').then(res => res.result || [])\r\n                this.submitted = false \r\n                this.$bvModal.hide('payerCharge')\r\n                return App.notifySuccess(response.message)\r\n            }).catch(error => {\r\n                this.submitted = false \r\n                return App.alertError(error.message)\r\n            })\r\n        },\r\n\r\n\r\n        resetForm() {\r\n            this.recharge = {idCompte: null, montant: null}\r\n            this.creerCompte = {typeCompte: null, solde: 0}\r\n            this.payerCharge = {montant: 0, idCharge: null}\r\n            this.submitted = false\r\n        }\r\n\r\n    }\r\n    \r\n}\r\n</script>\r\n<style scoped>\r\n.text-form-charge {\r\n    font-size: 1em;\r\n    color: #212121ef;\r\n    font-weight: 800;\r\n    text-align: center;\r\n    margin-top: 2px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Occupation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Occupation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Occupation.vue?vue&type=template&id=51bdf77a&scoped=true&\"\nimport script from \"./Occupation.vue?vue&type=script&lang=js&\"\nexport * from \"./Occupation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Occupation.vue?vue&type=style&index=0&id=51bdf77a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51bdf77a\",\n  null\n  \n)\n\nexport default component.exports","export default {\r\n\tsuccess: function (message, callback) {\r\n\t\tthis.make(message, {\r\n\t\t\ttype: 'success',\r\n\t\t\tbgcolor: '#5bd747'\r\n\t\t}, callback)\r\n\t},\r\n\r\n\terror: function (message, callback) {\r\n\t\tthis.make(message, {\r\n\t\t\ttype: 'error'\r\n\t\t}, callback)\r\n\t},\r\n\r\n\tmake: function (message, config, callback) {\r\n\t\tnotif(Object.assign({}, {\r\n\t\t\ttype: \"info\",\r\n\t\t\tmsg: message,\r\n\t\t\ttimeout: 3000,\r\n\t\t\tcallback\r\n\t\t}, config))\r\n\t}\r\n}\r\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chargeForm.vue?vue&type=style&index=0&id=20547aed&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Occupation.vue?vue&type=style&index=0&id=51bdf77a&scoped=true&lang=css&\""],"sourceRoot":""}