{"version":3,"sources":["webpack:///./src/views/gestion-immobiliere/occupations/Occupation.vue?c4ba","webpack:///./src/views/finances/charges/chargeForm.vue?12bd","webpack:///src/views/finances/charges/chargeForm.vue","webpack:///./src/views/finances/charges/chargeForm.vue?3b57","webpack:///./src/views/finances/charges/chargeForm.vue","webpack:///src/views/gestion-immobiliere/occupations/Occupation.vue","webpack:///./src/views/gestion-immobiliere/occupations/Occupation.vue?b2e1","webpack:///./src/views/gestion-immobiliere/occupations/Occupation.vue","webpack:///./src/views/finances/charges/chargeForm.vue?93b0","webpack:///./src/views/gestion-immobiliere/occupations/Occupation.vue?8576"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","preventDefault","showContrat","apply","arguments","_v","$emit","occupation","_s","idOccupation","dateFin","_calcul_impayes","$date","format","totalImpayes","_e","_m","directives","name","rawName","value","expression","modifiers","class","locataire","titre","nomLocataire","prenomLocataire","profession","cniLocataire","tel","tel2","email","email2","dateNaiss","query","target","idLocataire","logement","refLogement","sousTypeLogement","libelleSousType","prixMin","prixMax","adresse","ville","pays","batiment","nomBatiment","cite","nomCite","idLogement","staticStyle","loyerBase","modePaiement","dateDeb","createdAt","puEnergie","modeEnergie","puEau","modeEau","$bvModal","show","_l","compte","i","key","idCompte","typeCompte","solde","tab_indexe","indexes","label","sortable","scopedSlots","_u","fn","data","$dayjs","item","periode","nouveau","ancien","_calcul_consommation_indexe","avance","empty","row","toggleDetails","model","callback","$$v","$set","reste","datePaiement","loyers","montant","montantPayer","showOverlayTable","charges","proxy","changeState","etatCharge","buyCharge","typeCharge","libelle","observation","title","action","resetForm","doRecharge","recharge","comptes","find","elt","toLowerCase","ref","ok","cancel","submitted","createCompte","creerCompte","payCharge","payerCharge","staticRenderFns","showOverlay","charge","typesCharges","setType","submitModal","php","disabled","idTypeCharge","date","commandeAction","sendForm","components","DatePicker","props","type","String","required","default","Object","methods","description","setTimeout","bvModalEvt","App","error","console","log","axios","post","then","response","resetModal","$root","result","notifySuccess","message","catch","notif","storage","get","length","set","getTypesCharges","component","idCharge","chargeForm","computed","indexes_type","sort","a","b","diff","$on","newCharge","unshift","hide","val","filter","typeIndexe","indexe","mode","pu","consommation","total","forEach","parseInt","url","put","success","alertError","url2","map","push","async","res"],"mappings":"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","file":"js/chunk-3386acba.d7e116a0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row justify-content-between positionner\"},[_c('b-button',{staticClass:\"mr-1 positionner1\",attrs:{\"variant\":\"outline-info\"},on:{\"click\":function($event){$event.preventDefault();return _vm.showContrat.apply(null, arguments)}}},[_c('i',{staticClass:\"ik ik-eye\"}),_vm._v(\"Consulter le contrat\")]),_c('b-button',{staticClass:\"mr-1 positionner2\",attrs:{\"variant\":\"outline-warning\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('makeUpdate', _vm.occupation)}}},[_c('i',{staticClass:\"ik ik-edit-1\"}),_vm._v(\"Editer l'occupation\")]),_c('div',{staticClass:\"card col-lg-3 col-md-12 col-sm-12\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"text-center\"},[_c('h4',{staticClass:\"card-title\"},[_vm._v(\"Occupation n° \"+_vm._s(_vm.occupation.idOccupation))]),(_vm.occupation.dateFin == null)?_c('div',[( _vm._calcul_impayes('total') > 0)?_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"Bail en cours\")]):_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Bail en cours\")])],1):_c('div',[_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Bail terminé le \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.$date(_vm.occupation.dateFin).format('DD MMMM YYYY')))])],1)])]),_c('div',{staticClass:\"card-body pt-0\"},[(_vm.totalImpayes > 0)?_c('div',{staticClass:\"d-flex align-items-center justify-content-between\"},[_c('hr',{staticClass:\"w-25 bg-danger\"}),_vm._v(\" Aperçu \"),_c('hr',{staticClass:\"w-25 bg-danger\"})]):_vm._e(),(_vm.totalImpayes > 0)?_c('div',{staticClass:\"jumbotron pt-10 pb-10 px-2\"},[_c('dl',{staticClass:\"row mb-0 text-muted\"},[_vm._m(0),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.right\",value:('Impayés de loyer'),expression:\"'Impayés de loyer'\",modifiers:{\"right\":true}}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm._calcul_impayes('loyer') + ' F'))]),_vm._m(1),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.right\",value:('Impayés de lumière'),expression:\"'Impayés de lumière'\",modifiers:{\"right\":true}}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm._calcul_impayes('energie') + ' F'))]),_vm._m(2),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.right\",value:('Impayés d\\'eau'),expression:\"'Impayés d\\\\'eau'\",modifiers:{\"right\":true}}],staticClass:\"mt-1 col-10 truncate\"},[_vm._v(_vm._s(_vm._calcul_impayes('eau') + ' F'))]),_vm._m(3),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.right\",value:('Impayés de charges'),expression:\"'Impayés de charges'\",modifiers:{\"right\":true}}],staticClass:\"mt-1 col-10 truncate font-weight-bold\"},[_vm._v(_vm._s(_vm._calcul_impayes('charges') + ' F'))]),_vm._m(4),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.right\",value:('Total des impayés'),expression:\"'Total des impayés'\",modifiers:{\"right\":true}}],staticClass:\"mt-1 col-10 truncate font-weight-bold\",class:{'text-danger' : _vm.totalImpayes > 10000}},[_vm._v(_vm._s(_vm.totalImpayes + ' F'))])])]):_vm._e(),_vm._m(5),_c('span',{staticClass:\"d-inline-block w-100 mb-1 text-center\"},[_vm._v(_vm._s(_vm.occupation.locataire.titre + ' ' + _vm.occupation.locataire.nomLocataire + ' ' + _vm.occupation.locataire.prenomLocataire))]),_c('span',{staticClass:\"d-inline-block w-100 mb-1 text-center text-muted\"},[_vm._v(_vm._s(_vm.occupation.locataire.profession))]),_c('div',{staticClass:\"jumbotron pt-10 pb-10 px-2\"},[_c('dl',{staticClass:\"row text-muted\"},[_c('div',{staticClass:\"d-flex pl-3 w-100\"},[_vm._m(6),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Numéro de CNI'),expression:\"'Numéro de CNI'\"}],staticClass:\"mt-1 ml-3 truncate\"},[_vm._v(_vm._s(_vm.occupation.locataire.cniLocataire))])]),_c('div',{staticClass:\"d-flex pl-3 w-100\"},[_vm._m(7),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Numéro de téléphone'),expression:\"'Numéro de téléphone'\"}],staticClass:\"mt-1 ml-3 truncate\"},[_vm._v(_vm._s(_vm.occupation.locataire.tel + ' / ' + _vm.occupation.locataire.tel2))])]),_c('div',{staticClass:\"d-flex pl-3 w-100\"},[_vm._m(8),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Email'),expression:\"'Email'\"}],staticClass:\"mt-1 ml-3 truncate\"},[_vm._v(_vm._s(_vm.occupation.locataire.email + ' / ' + _vm.occupation.locataire.email2))])]),_c('div',{staticClass:\"d-flex pl-3 w-100\"},[_vm._m(9),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Date de naissance'),expression:\"'Date de naissance'\"}],staticClass:\"mt-1 ml-3 truncate\"},[_vm._v(_vm._s(_vm.$date(_vm.occupation.locataire.dateNaiss).format('DD MMMM YYYY')))])])]),_c('b-button',{attrs:{\"to\":{name: 'habitants', query: {target: _vm.occupation.locataire.idLocataire}},\"size\":\"sm\",\"block\":\"\",\"variant\":\"outline-secondary\"}},[_vm._v(\"Voir le dossier\")])],1),_vm._m(10),_c('span',{staticClass:\"d-inline-block w-100 mb-1 text-center\"},[_vm._v(_vm._s(_vm.occupation.logement.refLogement))]),_c('span',{staticClass:\"d-inline-block w-100 mb-1 text-center text-muted\"},[_vm._v(_vm._s(_vm.occupation.logement.sousTypeLogement.libelleSousType))]),_c('div',{staticClass:\"jumbotron pt-10 pb-10 px-2\"},[_c('dl',{staticClass:\"row text-muted\"},[_c('div',{staticClass:\"d-flex pl-3 w-100\"},[_vm._m(11),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Plage de loyer'),expression:\"'Plage de loyer'\"}],staticClass:\"mt-1 ml-3 truncate\"},[_vm._v(_vm._s(_vm.occupation.logement.prixMin + 'F')+\" - \"+_vm._s(_vm.occupation.logement.prixMax + 'F'))])]),_c('div',{staticClass:\"d-flex pl-3 w-100\"},[_vm._m(12),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Localisation'),expression:\"'Localisation'\"}],staticClass:\"mt-1 ml-3 truncate\"},[_vm._v(_vm._s(_vm.occupation.logement.adresse.ville + ' ' + _vm.occupation.logement.adresse.pays))])]),_c('div',{staticClass:\"d-flex pl-3 w-100\"},[(_vm.occupation.logement.batiment)?_c('dd',{staticClass:\"mt-1\"},[_c('i',{staticClass:\"fa fa-building\"})]):_vm._e(),(_vm.occupation.logement.batiment)?_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Batiment'),expression:\"'Batiment'\"}],staticClass:\"mt-1 ml-3 truncate\"},[_vm._v(_vm._s(_vm.occupation.logement.batiment.nomBatiment))]):_vm._e()]),_c('div',{staticClass:\"d-flex pl-3 w-100\"},[(_vm.occupation.logement.batiment)?_c('dd',{staticClass:\"mt-1\"},[_c('i',{staticClass:\"fas fa-city\"})]):_vm._e(),(_vm.occupation.logement.batiment)?_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Cité'),expression:\"'Cité'\"}],staticClass:\"mt-1 ml-3 truncate\"},[_vm._v(_vm._s(_vm.occupation.logement.batiment.cite.nomCite))]):_vm._e()])]),_c('b-button',{attrs:{\"to\":{name: 'logements', query: {target: _vm.occupation.logement.idLogement}},\"size\":\"sm\",\"block\":\"\",\"variant\":\"outline-secondary\"}},[_vm._v(\"Voir les details\")])],1)])]),_c('div',{staticClass:\"card col-lg-9 col-md-12 col-sm-12\"},[_vm._m(13),_c('div',{staticClass:\"tab-content\",attrs:{\"id\":\"pills-tabContent\"}},[_c('div',{staticClass:\"tab-pane fade show active\",attrs:{\"id\":\"generalites\"}},[_c('div',{staticClass:\"card-body\"},[_c('h4',{staticClass:\"border-bottom h1\"},[_vm._v(\"Informations\")]),_c('b-row',{staticClass:\"mb-1 row\"},[_c('div',{staticClass:\"text-dark pt-2 rounded col-lg-6 col-md-12 col-sm-12 my-2\",staticStyle:{\"background\":\"#fff\"}},[_c('dl',{staticClass:\"row\"},[_c('dd',{staticClass:\"mt-1 col-6 h6 font-weight-bold \"},[_vm._v(\"Loyer\")]),_c('dt',{staticClass:\"mt-1 col-6\"},[_c('span',{},[_vm._v(_vm._s(_vm.occupation.loyerBase + ' FCFA'))])]),_c('dd',{staticClass:\"mt-1 col-6 h6 font-weight-bold\"},[_vm._v(\"Mode de paiement\")]),_c('dt',{staticClass:\"mt-1 col-6\"},[_c('span',{},[_vm._v(\" \"+_vm._s(_vm.occupation.modePaiement))])]),_c('dd',{staticClass:\"mt-1 col-6 h6 font-weight-bold\"},[_vm._v(\"Date de début du bail\")]),_c('dt',{staticClass:\"mt-1 col-6\"},[_vm._v(_vm._s(_vm.$date(_vm.occupation.dateDeb).format('dddd, DD MMMM YYYY')))]),(_vm.occupation.dateFin)?_c('dd',{staticClass:\"mt-1 col-6 h6 font-weight-bold\"},[_vm._v(\"Date de fin du bail\")]):_vm._e(),(_vm.occupation.dateFin)?_c('dt',{staticClass:\"mt-1 col-6\"},[_vm._v(_vm._s(_vm.$date(_vm.occupation.dateFin).format('dddd, DD MMMM YYYY')))]):_vm._e(),_c('dd',{staticClass:\"mt-1 col-6 h6 font-weight-bold\"},[_vm._v(\"Occupation créée le\")]),_c('dt',{staticClass:\"mt-1 col-6\"},[_vm._v(_vm._s(_vm.$date(_vm.occupation.createdAt).format('dddd, DD MMMM YYYY HH:mm')))])])]),_c('div',{staticClass:\"text-dark pt-2 rounded col-lg-6 col-md-12 col-sm-12 my-2\",staticStyle:{\"background\":\"#fff\"}},[_c('dl',{staticClass:\"row\"},[_c('dd',{staticClass:\"mt-1 col-6 h6 font-weight-bold\"},[_vm._v(\"Nombre de mois d'avance\")]),_c('dt',{staticClass:\"mt-1 col-6\"},[_c('span',{},[_vm._v(_vm._s(_vm.occupation.loyerBase + ' FCFA'))])]),_c('dd',{staticClass:\"mt-1 col-6 h6 font-weight-bold\"},[_vm._v(\"Caution payée\")]),_c('dt',{staticClass:\"mt-1 col-6\"},[_c('span',{},[_vm._v(\" \"+_vm._s(_vm.occupation.modePaiement))])]),_c('dd',{staticClass:\"mt-1 col-6 h6 font-weight-bold\"},[_vm._v(\"Facturation d'energie\")]),_c('dt',{staticClass:\"mt-1 col-6\"},[_vm._v(_vm._s(_vm.occupation.puEnergie + 'F')+\" par \"+_vm._s(_vm.occupation.modeEnergie == 'index' ? 'kw' : 'mois'))]),_c('dd',{staticClass:\"mt-1 col-6 h6 font-weight-bold\"},[_vm._v(\"Facturation d'eau\")]),_c('dt',{staticClass:\"mt-1 col-6\"},[_vm._v(_vm._s(_vm.occupation.puEau + 'F')+\" par \"),(_vm.occupation.modeEau == 'index')?_c('span',[_vm._v(\"m\"),_c('sup',[_vm._v(\"3\")])]):_c('span',[_vm._v(\"mois\")])])])])]),_c('div',{staticClass:\"border-bottom d-flex justify-content-between mb-2\"},[_c('h4',{staticClass:\"h1\"},[_vm._v(\"Comptes\")]),_c('b-button-group',[_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Effectuer une recharge'),expression:\"'Effectuer une recharge'\"}],staticClass:\"float-right btn-icon\",on:{\"click\":function($event){$event.preventDefault();return _vm.$bvModal.show('rechargeCompte')}}},[_c('i',{staticClass:\"fa fa-charging-station\"})]),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Créer compte'),expression:\"'Créer compte'\"}],staticClass:\"float-right btn-icon\",on:{\"click\":function($event){$event.preventDefault();return _vm.$bvModal.show('creerCompte')}}},[_c('i',{staticClass:\"fa fa-plus\"})])],1)],1),_vm._l((_vm.occupation.comptes),function(compte,i){return _c('dl',{key:compte.idCompte || i,staticClass:\"row my-2\"},[_c('dd',{staticClass:\"col-5 h6\"},[_vm._v(\"Compte : \"),_c('span',{staticClass:\"font-weight-bold\",staticStyle:{\"color\":\"#f5365c\"}},[_vm._v(_vm._s(compte.typeCompte))])]),_c('dt',{staticClass:\"col-7 fa-lg text-primary\"},[_vm._v(_vm._s(compte.solde)+\" F\")])])})],2)]),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"indexes\"}},[_c('b-container',{staticClass:\"my-3\"},[_c('ul',{staticClass:\"nav nav-tabs\"},[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",class:{'active' : _vm.tab_indexe == 'eau'},attrs:{\"data-toggle\":\"pill\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.tab_indexe = 'eau'}}},[_vm._v(\"Indexes d'eau\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",class:{'active' : _vm.tab_indexe == 'energie'},attrs:{\"data-toggle\":\"pill\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.tab_indexe = 'energie'}}},[_vm._v(\"Indexes d'électricité\")])])]),_c('div',{staticClass:\"tab-content\"},[_c('div',{staticClass:\"tab-pane fade show active mt-1\"},[_c('b-table',{attrs:{\"sticky-header\":\"600px\",\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\",\"items\":_vm.indexes,\"fields\":[\n                                    { key: 'mois', label: 'Mois', sortable: true },\n                                    { key: 'annees', label: 'Année', sortable: true },\n                                    { key: 'nouveau', label: 'Indexe courant', sortable: true },\n                                    { key: 'ancien', label: 'Ancien indexe', sortable: true },\n                                    { key: 'consommation', label: 'Consommation', sortable: true },\n                                    { key: 'montant', label: 'Montant', sortable: true },\n                                    { key: 'show_details', label: 'Details' }\n                                ]},scopedSlots:_vm._u([{key:\"cell(mois)\",fn:function(data){return [_vm._v(_vm._s(_vm.$dayjs(data.item.periode).format('MMMM')))]}},{key:\"cell(annees)\",fn:function(data){return [_vm._v(_vm._s(_vm.$dayjs(data.item.periode).format('YYYY')))]}},{key:\"cell(consommation)\",fn:function(data){return [_vm._v(_vm._s(data.item.nouveau - data.item.ancien))]}},{key:\"cell(montant)\",fn:function(data){return [_c('span',{class:{'text-success': _vm._calcul_consommation_indexe(data.item, _vm.tab_indexe) <= data.item.avance, 'text-warning': _vm._calcul_consommation_indexe(data.item, _vm.tab_indexe) > data.item.avance, 'text-danger': _vm.empty(data.item.avance)}},[_vm._v(\" \"+_vm._s(_vm._calcul_consommation_indexe(data.item, _vm.tab_indexe))+\" F \")])]}},{key:\"cell(show_details)\",fn:function(row){return [_c('b-form-checkbox',{on:{\"change\":row.toggleDetails},model:{value:(row.detailsShowing),callback:function ($$v) {_vm.$set(row, \"detailsShowing\", $$v)},expression:\"row.detailsShowing\"}})]}},{key:\"row-details\",fn:function(row){return [_c('b-card',{staticClass:\"m-0\"},[_c('b-row',[_c('b-col',[_c('dl',{staticClass:\"row text-muted\"},[_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Avance\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.empty(row.item.avance) ? '0 F' : row.item.avance + ' F'))]),_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Reste\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.empty(row.item.reste) ? '0 F' : row.item.reste + ' F'))])])]),_c('b-col',[_c('dl',{staticClass:\"row text-muted\"},[_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Statut\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[(_vm.empty(row.item.avance))?_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Non payé\")]):(_vm._calcul_consommation_indexe(row.item, _vm.tab_indexe) > row.item.avance)?_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"Avancé\")]):_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Payé\")])],1),_c('dd',{staticClass:\"mt-1 col-5\"},[_vm._v(\"Date de paiement\")]),_c('dt',{staticClass:\"mt-1 col-7\"},[_vm._v(_vm._s(_vm.empty(row.item.datePaiement) ? 'Non disponible' : _vm.$date(row.item.datePaiement).format('DD MMMM YYYY')))])])])],1)],1)]}}])})],1)])])],1),_c('div',{staticClass:\"tab-pane fade \",attrs:{\"id\":\"loyers\"}},[_c('b-container',[_c('b-table',{attrs:{\"sticky-header\":\"600px\",\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\",\"items\":_vm.occupation.loyers,\"fields\":[\n                        { key: 'mois', label: 'Mois', sortable: true },\n                        { key: 'annees', label: 'Année', sortable: true },\n                        { key: 'montant', label: 'Montant à payer', sortable: true },\n                        { key: 'montantPayer', label: 'Montant payé', sortable: true },\n                        { key: 'observation', label: 'Observation' } ]},scopedSlots:_vm._u([{key:\"cell(mois)\",fn:function(data){return [_vm._v(_vm._s(_vm.$dayjs(data.item.periode).format('MMMM')))]}},{key:\"cell(annees)\",fn:function(data){return [_vm._v(_vm._s(_vm.$dayjs(data.item.periode).format('YYYY')))]}},{key:\"cell(montant)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.montant)+\" F\")]}},{key:\"cell(montantPayer)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.montantPayer)+\" F\")]}},{key:\"cell(observation)\",fn:function(data){return [(_vm.empty(data.item.montantPayer) || data.item.montantPayer <= 0)?_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Impayé\")]):(data.item.montantPayer < data.item.montant)?_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"Avancé\")]):_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Payé le \"+_vm._s(_vm.$dayjs(data.item.datePaiement).format('DD MMMM YYYY')))])]}}])})],1)],1),_c('div',{staticClass:\"tab-pane fade \",attrs:{\"id\":\"charges\"}},[_c('b-container',[_c('div',{staticClass:\"d-flex align-items-center justify-content-end mb-1\"},[_c('btnAdd',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.chargeForm\",modifiers:{\"chargeForm\":true}}],attrs:{\"message\":\"Nouvelle charge\"}})],1),_c('b-overlay',{attrs:{\"show\":_vm.showOverlayTable,\"rounded\":\"sm\"}},[_c('b-table',{attrs:{\"sticky-header\":\"600px\",\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\",\"items\":_vm.occupation.charges,\"fields\":[\n                            { key: 'mois', label: 'Mois', sortable: true },\n                            { key: 'annees', label: 'Année', sortable: true },\n                            { key: 'montant', label: 'A payer', sortable: true },\n                            { key: 'montantPayer', label: 'Payé', sortable: true },\n                            { key: 'observation', label: 'Observation' },\n                            { key: 'statut', label: 'Statut'},\n                            { key: 'Action', label: 'Action'} ]},scopedSlots:_vm._u([{key:\"cell(mois)\",fn:function(data){return [_vm._v(_vm._s(_vm.$dayjs(data.item.periode).format('MMMM')))]}},{key:\"cell(annees)\",fn:function(data){return [_vm._v(_vm._s(_vm.$dayjs(data.item.periode).format('YYYY')))]}},{key:\"cell(montant)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.montant)+\" F\")]}},{key:\"cell(montantPayer)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.montantPayer)+\" F\")]}},{key:\"cell(observation)\",fn:function(data){return [(_vm.empty(data.item.montantPayer) || data.item.montantPayer <= 0)?_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Impayé\")]):(data.item.montantPayer < data.item.montant)?_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"Avancé\")]):_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Payé le \"+_vm._s(_vm.$dayjs(data.item.datePaiement).format('DD MMMM YYYY')))])]}},{key:\"cell(statut)\",fn:function(data){return [(data.item.etatCharge)?_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Actif\")]):_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Terminé\")])]}},{key:\"cell(action)\",fn:function(row){return [_c('b-dropdown',{attrs:{\"size\":\"sm\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fa fa-ellipsis-h\"})]},proxy:true}],null,true)},[_c('b-dropdown-item',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changeState(row.item)}}},[_vm._v(_vm._s(row.item.etatCharge ? 'Marquer comme terminée' : 'Activer la charge'))]),_c('b-dropdown-item',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.buyCharge(row.item)}}},[_vm._v(\"Payer\")]),_c('b-dropdown-divider'),_c('b-dropdown-item',{attrs:{\"href\":\"#\"},on:{\"click\":row.toggleDetails}},[_vm._v(\"Détails\")])],1)]}},{key:\"row-details\",fn:function(row){return [_c('b-card',{staticClass:\"m-0\"},[_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('a',{staticClass:\"text-danger\",attrs:{\"href\":\"#\"},on:{\"click\":row.toggleDetails}},[_c('i',{staticClass:\"fa fa-times\"})])]),_c('dl',[_c('dt',[_vm._v(\"Nature de la charge\")]),_c('dd',[_vm._v(_vm._s(row.item.typeCharge.libelle))])]),_c('dl',[_c('dt',[_vm._v(\"Description\")]),_c('dd',[_c('p',[_vm._v(_vm._s(row.item.observation))])])])])]}}])})],1)],1)],1)])])],1),_c('b-modal',{attrs:{\"id\":\"chargeForm\",\"size\":\"sm\",\"hide-footer\":\"\",\"no-close-on-backdrop\":\"\"},scopedSlots:_vm._u([{key:\"modal-title\",fn:function(){return [_c('span',{staticClass:\"ml-4 text-form-charge\"},[_vm._v(_vm._s(_vm.title))])]},proxy:true}])},[_c('div',[_c('charge-form',{attrs:{\"action\":_vm.action,\"occupation\":_vm.occupation}})],1)]),_c('b-modal',{attrs:{\"id\":\"rechargeCompte\",\"size\":\"sm\",\"title\":\"Recharge de compte\"},on:{\"hidden\":_vm.resetForm,\"ok\":_vm.doRecharge,\"show\":function () { _vm.recharge.idCompte = _vm.occupation.comptes.find(function (elt) { return elt.typeCompte.toLowerCase() == 'principal'; }).idCompte }},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\n                        var ok = ref.ok;\n                        var cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\"Annuler\")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\",\"disabled\":_vm.submitted},on:{\"click\":function($event){return ok()}}},[_vm._v(\"Valider \"),(_vm.submitted)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e()],1)]}}])},[_c('b-form-group',{attrs:{\"label\":\"Compte à recharger\"}},[_c('b-form-select',{attrs:{\"options\":_vm.occupation.comptes,\"value-field\":\"idCompte\",\"text-field\":\"typeCompte\"},model:{value:(_vm.recharge.idCompte),callback:function ($$v) {_vm.$set(_vm.recharge, \"idCompte\", $$v)},expression:\"recharge.idCompte\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Montant de la recharge\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"min\":\"1\",\"placeholder\":\"Ex: 5000\"},model:{value:(_vm.recharge.montant),callback:function ($$v) {_vm.$set(_vm.recharge, \"montant\", $$v)},expression:\"recharge.montant\"}})],1)],1),_c('b-modal',{attrs:{\"id\":\"creerCompte\",\"size\":\"sm\",\"title\":\"Créer un compte à l'occupation\"},on:{\"hidden\":_vm.resetForm,\"ok\":_vm.createCompte},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\n                        var ok = ref.ok;\n                        var cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\"Annuler\")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\",\"disabled\":_vm.submitted},on:{\"click\":function($event){return ok()}}},[_vm._v(\"Valider \"),(_vm.submitted)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e()],1)]}}])},[_c('b-form-group',{attrs:{\"label\":\"Label du compte\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: Lumière\"},model:{value:(_vm.creerCompte.typeCompte),callback:function ($$v) {_vm.$set(_vm.creerCompte, \"typeCompte\", $$v)},expression:\"creerCompte.typeCompte\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Solde initial\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"min\":\"1\",\"placeholder\":\"Ex: 5000\"},model:{value:(_vm.creerCompte.solde),callback:function ($$v) {_vm.$set(_vm.creerCompte, \"solde\", $$v)},expression:\"creerCompte.solde\"}})],1)],1),_c('b-modal',{attrs:{\"id\":\"payerCharge\",\"size\":\"sm\",\"title\":\"Règlement de la charge\"},on:{\"hidden\":_vm.resetForm,\"ok\":_vm.payCharge},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\n                        var ok = ref.ok;\nreturn [_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\",\"disabled\":_vm.submitted},on:{\"click\":function($event){return ok()}}},[_vm._v(\"Valider \"),(_vm.submitted)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e()],1)]}}])},[_c('b-form-group',{attrs:{\"label\":\"Montant\",\"description\":\"Entrez le montant à préléver dans le compte\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"min\":\"1\",\"placeholder\":\"Ex: 5000\"},model:{value:(_vm.payerCharge.montant),callback:function ($$v) {_vm.$set(_vm.payerCharge, \"montant\", $$v)},expression:\"payerCharge.montant\"}})],1)],1),_c('b-modal',{attrs:{\"id\":\"payerCharge\",\"size\":\"sm\",\"title\":\"Règlement de la charge\"},on:{\"hidden\":_vm.resetForm,\"ok\":_vm.payCharge},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\n                        var ok = ref.ok;\nreturn [_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\",\"disabled\":_vm.submitted},on:{\"click\":function($event){return ok()}}},[_vm._v(\"Valider \"),(_vm.submitted)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e()],1)]}}])},[_c('b-form-group',{attrs:{\"label\":\"Montant\",\"description\":\"Entrez le montant à préléver dans le compte\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"min\":\"1\",\"placeholder\":\"Ex: 5000\"},model:{value:(_vm.payerCharge.montant),callback:function ($$v) {_vm.$set(_vm.payerCharge, \"montant\", $$v)},expression:\"payerCharge.montant\"}})],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-money-bill\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-lightbulb\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-water\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-file-invoice\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 col-1\"},[_c('i',{staticClass:\"fa fa-dollar-sign\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-items-center justify-content-between\"},[_c('hr',{staticClass:\"w-25 bg-danger\"}),_vm._v(\" Locataire \"),_c('hr',{staticClass:\"w-25 bg-danger\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1\"},[_c('i',{staticClass:\"fa fa-id-card\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1\"},[_c('i',{staticClass:\"fa fa-phone\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1\"},[_c('i',{staticClass:\"fa fa-envelope\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1\"},[_c('i',{staticClass:\"fas fa-calendar-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-items-center justify-content-between\"},[_c('hr',{staticClass:\"w-25 bg-danger\"}),_vm._v(\"Logement\"),_c('hr',{staticClass:\"w-25 bg-danger\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1\"},[_c('i',{staticClass:\"fa fa-dollar-sign\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1\"},[_c('i',{staticClass:\"fa fa-map-marker-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav nav-pills custom-pills\",attrs:{\"id\":\"pills-tab\",\"role\":\"tablist\"}},[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link active font-weight-bold h6\",attrs:{\"data-toggle\":\"pill\",\"href\":\"#generalites\"}},[_vm._v(\"Généralités\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link font-weight-bold h6\",attrs:{\"data-toggle\":\"pill\",\"href\":\"#loyers\"}},[_vm._v(\"Loyers\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link font-weight-bold h6\",attrs:{\"data-toggle\":\"pill\",\"href\":\"#charges\"}},[_vm._v(\"charges\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link font-weight-bold h6\",attrs:{\"data-toggle\":\"pill\",\"href\":\"#indexes\"}},[_vm._v(\"Indexes\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link font-weight-bold h6\",attrs:{\"data-toggle\":\"pill\",\"href\":\"#comptes\"}},[_vm._v(\"Comptes\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Montant\",\"description\":\"combien voulez-vous attribuer ?\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: 3000\",\"type\":\"number\",\"trim\":\"\"},model:{value:(_vm.charge.montant),callback:function ($$v) {_vm.$set(_vm.charge, \"montant\", $$v)},expression:\"charge.montant\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Description\"}},[_c('b-form-textarea',{staticClass:\"mb-2\",attrs:{\"placeholder\":\"pourquoi attribuez-vous cette charge ?\",\"rows\":\"6\"},model:{value:(_vm.charge.observation),callback:function ($$v) {_vm.$set(_vm.charge, \"observation\", $$v)},expression:\"charge.observation\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Type de charge concernée\")]),_c('v-select',{attrs:{\"label\":\"libelle\",\"options\":_vm.typesCharges},on:{\"input\":_vm.setType},model:{value:(_vm.typeCharge),callback:function ($$v) {_vm.typeCharge=$$v},expression:\"typeCharge\"}})],1)])],1),_c('b-row',[_c('b-col',[_c('b-form-checkbox',{model:{value:(_vm.charge.etatCharge),callback:function ($$v) {_vm.$set(_vm.charge, \"etatCharge\", $$v)},expression:\"charge.etatCharge\"}},[_c('span',{staticClass:\"mt-3\"},[_vm._v(\"Statut\")])])],1)],1),_c('hr'),_c('div',{staticClass:\"float-right\"},[_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitModal.apply(null, arguments)}}},[_vm._v(\"Valider\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-overlay :show=\"showOverlay\" rounded=\"sm\">\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group\r\n            label=\"Montant\"\r\n            description=\"combien voulez-vous attribuer ?\"\r\n          >\r\n            <b-form-input\r\n              v-model=\"charge.montant\"\r\n              placeholder=\"Ex: 3000\"\r\n              type=\"number\"\r\n              trim\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n        <!--<b-col>\r\n            <b-form-group label=\"Date à laquelle la dépense a été éffectuée\">\r\n                <date-picker v-model=\"charge.date\" placeholder=\"Selectionnez une date\" format=\"dddd, DD MMMM YYYY\" valueType=\"YYYY-MM-DD\" class=\"w-100\" :clearable=\"false\"/>\r\n            </b-form-group>                        \r\n        </b-col>-->\r\n      </b-row>\r\n  \r\n      <!--<b-row>\r\n        <b-col cols=\"7\">\r\n          <b-form-group label=\"description\">\r\n            <b-form-textarea\r\n              class=\"mb-2\"\r\n              placeholder=\"pourquoi attibuez-vous cette charge ?\"\r\n              rows=\"7\"\r\n              v-model=\"charge.description\"\r\n            ></b-form-textarea>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col cols=\"5\">\r\n            <div class=\"form-group\">\r\n                <label>Type de charge concernée</label>\r\n                <v-select label=\"libelle\" :options=\"typesCharges\"  v-model=\"idTypeCharge\"></v-select>\r\n            </div>\r\n        </b-col>\r\n      </b-row>-->\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group label=\"Description\">\r\n            <b-form-textarea\r\n              class=\"mb-2\"\r\n              placeholder=\"pourquoi attribuez-vous cette charge ?\"\r\n              rows=\"6\"\r\n              v-model=\"charge.observation\"\r\n            ></b-form-textarea>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n            <div class=\"form-group\">\r\n                <label>Type de charge concernée</label>\r\n                <v-select label=\"libelle\" :options=\"typesCharges\"  v-model=\"typeCharge\" @input=\"setType\"></v-select>\r\n            </div>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n            <b-form-checkbox v-model=\"charge.etatCharge\"><span class=\"mt-3\">Statut</span></b-form-checkbox>\r\n        </b-col>\r\n      </b-row>\r\n\r\n           \r\n\r\n\r\n        <hr>\r\n        <div class=\"float-right\">\r\n        <b-button @click.prevent=\"submitModal\" variant=\"danger\">Valider</b-button>\r\n    </div>\r\n    </b-overlay>\r\n</template>\r\n<script>\r\nimport DatePicker from 'vue2-datepicker';\r\nimport 'vue2-datepicker/index.css';\r\nimport 'vue2-datepicker/locale/fr';\r\nimport notif from \"@/plugins/notif.js\";\r\nconst php = require(\"phpjs\");\r\n\r\n\r\nexport default {\r\n  name: \"charge-form\",\r\n  data: () => ({\r\n   disabled:false,\r\n\r\n    charge: {\r\n      idTypeCharge: \"\",\r\n      montant: \"\",\r\n      date: \"\",\r\n      observation: \"\",\r\n      etatCharge:true\r\n    },\r\n    typesCharges:[],\r\n    typeCharge:'',\r\n    commandeAction:\"\",\r\n    showOverlay: true,\r\n    sendForm: false\r\n\r\n  }),\r\n  components: {\r\n    DatePicker\r\n  },\r\n  props: {\r\n        action: {type: String, required: true, default: \"add\"},\r\n        occupation: { type: Object},\r\n    },\r\n  methods: {\r\n     setType(){\r\n       this.charge.idTypeCharge=this.typeCharge.idTypeCharge;\r\n     },\r\n\r\n    resetModal() {\r\n      this.charge = {\r\n        idTypeCharge: '',\r\n        montant: '',\r\n        date: '',\r\n        description: ''\r\n      };\r\n\r\n      setTimeout(() => {\r\n        this.$emit('closeDepenseModal');\r\n      }, 500);\r\n    },\r\n\r\n    //validation formulaire d'ajout/modification d'une dépense\r\n    submitModal(bvModalEvt) {\r\n        \r\n      bvModalEvt.preventDefault();\r\n      if (php.empty(this.charge.montant) || php.empty(this.charge.idTypeCharge)) {\r\n                return App.error('Un montant, une date et la raison de la charge sont obligatoires')\r\n      }\r\n      if (this.charge.montant =='') {\r\n        return App.error('Vous devez spécifier un montant')\r\n      }\r\n      if (this.idTypeCharge =='') {\r\n        return App.error('Vous devez spécifier selectionner le type de charge qu\\'il s\\'agit')\r\n      }\r\n      if (this.action == \"add\") {\r\n        console.log('charge', this.charge)\r\n          this.showOverlay = true;\r\n            axios.post('occupations/'+this.occupation.idOccupation+'/charges',this.charge).then(response =>{\r\n                  this.resetModal();\r\n                   this.showOverlay = false;\r\n                  this.$root.$emit(\"new-charge\", response.result);\r\n                  return App.notifySuccess(response.message)\r\n                 \r\n            })\r\n            .catch(error => {\r\n                this.showOverlay = false;\r\n                 notif.error(error.message);\r\n            });\r\n  \r\n      }\r\n    },\r\n    //recupération de la liste des types de charge\r\n    async getTypesCharges(){\r\n            if(storage.get('types-charges')!=null&&storage.get('types-charges').length>0){\r\n                this.typesCharges=storage.get('types-charges');\r\n            }\r\n            else{\r\n                try {\r\n                    this.typesCharges = await axios.get(\"constants/types-charges\").then(response => response.result);\r\n                    storage.set('types-charges',this.typesCharges)\r\n                } catch (error) {\r\n                    console.log(error.message);\r\n                }\r\n            }\r\n            this.showOverlay=false;\r\n    }\r\n\r\n  },\r\n  async mounted(){\r\n    await this.getTypesCharges()\r\n  }\r\n\r\n};\r\n</script>\r\n<style scoped>\r\n .disabled {\r\n    pointer-events:none;\r\n    color: #bfcbd9;\r\n    cursor: not-allowed;\r\n    background-image: none;\r\n    background-color: #eef1f6;\r\n    border-color: #d1dbe5;   \r\n }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chargeForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chargeForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chargeForm.vue?vue&type=template&id=20547aed&scoped=true&\"\nimport script from \"./chargeForm.vue?vue&type=script&lang=js&\"\nexport * from \"./chargeForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chargeForm.vue?vue&type=style&index=0&id=20547aed&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20547aed\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <div class=\"row justify-content-between positionner\">\r\n                <b-button variant=\"outline-info\" class=\"mr-1 positionner1\" @click.prevent=\"showContrat\"><i class=\"ik ik-eye\"></i>Consulter le contrat</b-button>\r\n                <b-button variant=\"outline-warning\" class=\"mr-1 positionner2\" @click.prevent=\"$emit('makeUpdate', occupation)\"><i class=\"ik ik-edit-1\"></i>Editer l'occupation</b-button>\r\n            <div class=\"card col-lg-3 col-md-12 col-sm-12\">\r\n                <div class=\"card-body\">\r\n                    <div class=\"text-center\"> \r\n                        <h4 class=\"card-title\">Occupation n° {{ occupation.idOccupation }}</h4>\r\n                        <div v-if=\"occupation.dateFin == null\">\r\n                            <b-badge variant=\"warning\" v-if=\" _calcul_impayes('total') > 0\">Bail en cours</b-badge>\r\n                            <b-badge variant=\"success\" v-else>Bail en cours</b-badge>\r\n                        </div>\r\n                        <div v-else>\r\n                            <b-badge variant=\"danger\">Bail terminé le <br> {{ $date(occupation.dateFin).format('DD MMMM YYYY') }}</b-badge>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-body pt-0\">                         \r\n                    <div v-if=\"totalImpayes > 0\" class=\"d-flex align-items-center justify-content-between\">\r\n                        <hr class=\"w-25 bg-danger\"> Aperçu <hr class=\"w-25 bg-danger\">\r\n                    </div>\r\n                    <div v-if=\"totalImpayes > 0\" class=\"jumbotron pt-10 pb-10 px-2\">\r\n                        <dl class=\"row mb-0 text-muted\">\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-money-bill\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip.right=\"'Impayés de loyer'\">{{ _calcul_impayes('loyer') + ' F' }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-lightbulb\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip.right=\"'Impayés de lumière'\">{{ _calcul_impayes('energie') + ' F' }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-water\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip.right=\"'Impayés d\\'eau'\">{{ _calcul_impayes('eau') + ' F' }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-file-invoice\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate font-weight-bold\" v-b-tooltip.right=\"'Impayés de charges'\">{{ _calcul_impayes('charges') + ' F' }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-dollar-sign\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate font-weight-bold\" v-b-tooltip.right=\"'Total des impayés'\" :class=\"{'text-danger' : totalImpayes > 10000}\">{{ totalImpayes + ' F' }}</dt>\r\n                        </dl>\r\n                    </div>\r\n                    <div class=\"d-flex align-items-center justify-content-between\">\r\n                        <hr class=\"w-25 bg-danger\"> Locataire <hr class=\"w-25 bg-danger\">\r\n                    </div>\r\n                    <span class=\"d-inline-block w-100 mb-1 text-center\">{{ occupation.locataire.titre + ' ' + occupation.locataire.nomLocataire + ' ' + occupation.locataire.prenomLocataire }}</span>    \r\n                    <span class=\"d-inline-block w-100 mb-1 text-center text-muted\">{{ occupation.locataire.profession }}</span>    \r\n                    <div class=\"jumbotron pt-10 pb-10 px-2\">\r\n                        <dl class=\"row text-muted\">\r\n                            <div class=\"d-flex pl-3 w-100\">\r\n                                <dd class=\"mt-1\"><i class=\"fa fa-id-card\"></i></dd>\r\n                                <dt class=\"mt-1 ml-3 truncate\" v-b-tooltip=\"'Numéro de CNI'\">{{ occupation.locataire.cniLocataire }}</dt>\r\n                            </div>\r\n                            <div class=\"d-flex pl-3 w-100\">\r\n                                <dd class=\"mt-1\"><i class=\"fa fa-phone\"></i></dd>\r\n                                <dt class=\"mt-1 ml-3 truncate\" v-b-tooltip=\"'Numéro de téléphone'\">{{ occupation.locataire.tel + ' / ' + occupation.locataire.tel2 }}</dt>\r\n                            </div>\r\n                            <div class=\"d-flex pl-3 w-100\">\r\n                                <dd class=\"mt-1\"><i class=\"fa fa-envelope\"></i></dd>\r\n                                <dt class=\"mt-1 ml-3 truncate\" v-b-tooltip=\"'Email'\">{{ occupation.locataire.email + ' / ' + occupation.locataire.email2 }}</dt>\r\n                            </div>\r\n                            <div class=\"d-flex pl-3 w-100\">\r\n                                <dd class=\"mt-1\"><i class=\"fas fa-calendar-alt\"></i></dd>\r\n                                <dt class=\"mt-1 ml-3 truncate\" v-b-tooltip=\"'Date de naissance'\">{{ $date(occupation.locataire.dateNaiss).format('DD MMMM YYYY') }}</dt>\r\n                            </div>\r\n                        </dl>\r\n                        <b-button :to=\"{name: 'habitants', query: {target: occupation.locataire.idLocataire}}\" size=\"sm\" block variant=\"outline-secondary\">Voir le dossier</b-button>\r\n                    </div>\r\n                    <div class=\"d-flex align-items-center justify-content-between\">\r\n                        <hr class=\"w-25 bg-danger\">Logement<hr class=\"w-25 bg-danger\">\r\n                    </div>\r\n                    <span class=\"d-inline-block w-100 mb-1 text-center\">{{ occupation.logement.refLogement }}</span>    \r\n                    <span class=\"d-inline-block w-100 mb-1 text-center text-muted\">{{ occupation.logement.sousTypeLogement.libelleSousType }}</span>    \r\n                    <div class=\"jumbotron pt-10 pb-10 px-2\">\r\n                        <dl class=\"row text-muted\">\r\n                            <div class=\"d-flex pl-3 w-100\">\r\n                                <dd class=\"mt-1\"><i class=\"fa fa-dollar-sign\"></i></dd>\r\n                                <dt class=\"mt-1 ml-3 truncate\" v-b-tooltip=\"'Plage de loyer'\">{{ occupation.logement.prixMin + 'F' }} - {{ occupation.logement.prixMax + 'F' }}</dt>\r\n                            </div>\r\n                            <div class=\"d-flex pl-3 w-100\">\r\n                                <dd class=\"mt-1\"><i class=\"fa fa-map-marker-alt\"></i></dd>\r\n                                <dt class=\"mt-1 ml-3 truncate\" v-b-tooltip=\"'Localisation'\">{{ occupation.logement.adresse.ville + ' ' + occupation.logement.adresse.pays }}</dt>\r\n                            </div>\r\n                            <div class=\"d-flex pl-3 w-100\">\r\n                                <dd v-if=\"occupation.logement.batiment\" class=\"mt-1\"><i class=\"fa fa-building\"></i></dd>\r\n                                <dt v-if=\"occupation.logement.batiment\" class=\"mt-1 ml-3 truncate\" v-b-tooltip=\"'Batiment'\">{{ occupation.logement.batiment.nomBatiment }}</dt>\r\n                            </div>\r\n                            <div class=\"d-flex pl-3 w-100\">\r\n                                <dd v-if=\"occupation.logement.batiment\" class=\"mt-1\"><i class=\"fas fa-city\"></i></dd>\r\n                                <dt v-if=\"occupation.logement.batiment\" class=\"mt-1 ml-3 truncate\" v-b-tooltip=\"'Cité'\">{{ occupation.logement.batiment.cite.nomCite }}</dt>\r\n                            </div>\r\n                        </dl>\r\n                        <b-button :to=\"{name: 'logements', query: {target: occupation.logement.idLogement}}\" size=\"sm\" block variant=\"outline-secondary\">Voir les details</b-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"card col-lg-9 col-md-12 col-sm-12\">\r\n                <ul class=\"nav nav-pills custom-pills\" id=\"pills-tab\" role=\"tablist\" >\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link active font-weight-bold h6\" data-toggle=\"pill\" href=\"#generalites\">Généralités</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link font-weight-bold h6\" data-toggle=\"pill\" href=\"#loyers\">Loyers</a>\r\n                    </li>\r\n                      <li class=\"nav-item\">\r\n                        <a class=\"nav-link font-weight-bold h6\" data-toggle=\"pill\" href=\"#charges\">charges</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link font-weight-bold h6\" data-toggle=\"pill\" href=\"#indexes\">Indexes</a>\r\n                    </li>\r\n                    <li class=\"nav-item\"><a class=\"nav-link font-weight-bold h6\" data-toggle=\"pill\" href=\"#comptes\">Comptes</a></li>\r\n                </ul>\r\n                <div class=\"tab-content\" id=\"pills-tabContent\">\r\n                    <div class=\"tab-pane fade show active\" id=\"generalites\">\r\n                        <div class=\"card-body\">\r\n                            <h4 class=\"border-bottom h1\">Informations</h4>\r\n                            <b-row class=\"mb-1 row\">\r\n                                <div class=\"text-dark pt-2 rounded col-lg-6 col-md-12 col-sm-12 my-2\" style=\"background: #fff;\">\r\n                                    <dl class=\"row\" >\r\n                                        <dd class=\"mt-1 col-6 h6 font-weight-bold \">Loyer</dd>\r\n                                        <dt class=\"mt-1 col-6\"> <span class=\"\" style=\"\">{{ occupation.loyerBase + ' FCFA' }}</span> </dt>\r\n                                        <dd class=\"mt-1 col-6 h6 font-weight-bold\">Mode de paiement</dd>\r\n                                        <dt class=\"mt-1 col-6\"><span class=\"\" style=\"\"> {{ occupation.modePaiement }}</span></dt>\r\n                                        <dd class=\"mt-1 col-6 h6 font-weight-bold\">Date de début du bail</dd>\r\n                                        <dt class=\"mt-1 col-6\">{{ $date(occupation.dateDeb).format('dddd, DD MMMM YYYY') }}</dt>\r\n                                        <dd class=\"mt-1 col-6 h6 font-weight-bold\" v-if=\"occupation.dateFin\">Date de fin du bail</dd>\r\n                                        <dt class=\"mt-1 col-6\" v-if=\"occupation.dateFin\">{{ $date(occupation.dateFin).format('dddd, DD MMMM YYYY') }}</dt>\r\n                                        <dd class=\"mt-1 col-6 h6 font-weight-bold\">Occupation créée le</dd>\r\n                                        <dt class=\"mt-1 col-6\">{{ $date(occupation.createdAt).format('dddd, DD MMMM YYYY HH:mm') }}</dt>\r\n                                    </dl>\r\n                                </div>\r\n                                <div class=\"text-dark pt-2 rounded col-lg-6 col-md-12 col-sm-12 my-2\" style=\"background: #fff;\">\r\n                                    <dl class=\"row\">\r\n                                        <dd class=\"mt-1 col-6 h6 font-weight-bold\">Nombre de mois d'avance</dd>\r\n                                        <dt class=\"mt-1 col-6\"> <span class=\"\" style=\"\">{{ occupation.loyerBase + ' FCFA' }}</span></dt>\r\n                                        <dd class=\"mt-1 col-6 h6 font-weight-bold\">Caution payée</dd>\r\n                                        <dt class=\"mt-1 col-6\"><span class=\"\" style=\"\"> {{ occupation.modePaiement }}</span></dt>\r\n                                        <dd class=\"mt-1 col-6 h6 font-weight-bold\">Facturation d'energie</dd>\r\n                                        <dt class=\"mt-1 col-6\">{{ occupation.puEnergie + 'F' }} par {{ occupation.modeEnergie == 'index' ? 'kw' : 'mois' }}</dt>\r\n                                        <dd class=\"mt-1 col-6 h6 font-weight-bold\">Facturation d'eau</dd>\r\n                                        <dt class=\"mt-1 col-6\">{{ occupation.puEau + 'F' }} par <span v-if=\"occupation.modeEau == 'index'\">m<sup>3</sup></span><span v-else>mois</span></dt>\r\n                                    </dl>\r\n                                </div>\r\n                            </b-row>\r\n                            <div class=\"border-bottom d-flex justify-content-between mb-2\">\r\n                                <h4 class=\"h1\">Comptes</h4>\r\n                                <b-button-group>\r\n                                    <b-button class=\"float-right btn-icon\" v-b-tooltip=\"'Effectuer une recharge'\" @click.prevent=\"$bvModal.show('rechargeCompte')\"><i class=\"fa fa-charging-station\"></i></b-button>\r\n                                    <b-button class=\"float-right btn-icon\" v-b-tooltip=\"'Créer compte'\" @click.prevent=\"$bvModal.show('creerCompte')\"><i class=\"fa fa-plus\"></i></b-button>\r\n                                </b-button-group>\r\n                            </div>\r\n                            <dl class=\"row my-2\" v-for=\"(compte, i) in occupation.comptes\" :key=\"compte.idCompte || i\">\r\n                                <dd class=\"col-5 h6\">Compte : <span class=\"font-weight-bold\" style=\"color: #f5365c;\">{{ compte.typeCompte }}</span></dd>\r\n                                <dt class=\"col-7 fa-lg text-primary\">{{ compte.solde }} F</dt>\r\n                            </dl>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"tab-pane fade\" id=\"indexes\">\r\n                        <b-container class=\"my-3\">\r\n                            <ul class=\"nav nav-tabs\">\r\n                                <li class=\"nav-item\"><a class=\"nav-link\" :class=\"{'active' : tab_indexe == 'eau'}\" @click.prevent=\"tab_indexe = 'eau'\" data-toggle=\"pill\" href=\"#\">Indexes d'eau</a></li>\r\n                                <li class=\"nav-item\"><a class=\"nav-link\" :class=\"{'active' : tab_indexe == 'energie'}\" @click.prevent=\"tab_indexe = 'energie'\" data-toggle=\"pill\" href=\"#\">Indexes d'électricité</a></li>\r\n                            </ul>\r\n                            <div class=\"tab-content\">\r\n                                <div class=\"tab-pane fade show active mt-1\">\r\n                                    <b-table  sticky-header=\"600px\" striped hover responsive :items=\"indexes\" :fields=\"[\r\n                                        { key: 'mois', label: 'Mois', sortable: true },\r\n                                        { key: 'annees', label: 'Année', sortable: true },\r\n                                        { key: 'nouveau', label: 'Indexe courant', sortable: true },\r\n                                        { key: 'ancien', label: 'Ancien indexe', sortable: true },\r\n                                        { key: 'consommation', label: 'Consommation', sortable: true },\r\n                                        { key: 'montant', label: 'Montant', sortable: true },\r\n                                        { key: 'show_details', label: 'Details' }\r\n                                    ]\">\r\n                                        <template #cell(mois)=\"data\">{{ $dayjs(data.item.periode).format('MMMM')}}</template>\r\n                                        <template #cell(annees)=\"data\">{{ $dayjs(data.item.periode).format('YYYY')}}</template>\r\n                                        <template #cell(consommation)=\"data\">{{ data.item.nouveau - data.item.ancien }}</template>\r\n                                        <template #cell(montant)=\"data\"><span :class=\"{'text-success': _calcul_consommation_indexe(data.item, tab_indexe) <= data.item.avance, 'text-warning': _calcul_consommation_indexe(data.item, tab_indexe) > data.item.avance, 'text-danger': empty(data.item.avance)}\">\r\n                                            {{ _calcul_consommation_indexe(data.item, tab_indexe) }} F\r\n                                        </span></template>\r\n                                        <template #cell(show_details)=\"row\"><b-form-checkbox v-model=\"row.detailsShowing\" @change=\"row.toggleDetails\"></b-form-checkbox></template>\r\n                                        <template #row-details=\"row\">\r\n                                            <b-card class=\"m-0\">\r\n                                                <b-row>\r\n                                                    <b-col>\r\n                                                        <dl class=\"row text-muted\">\r\n                                                            <dd class=\"mt-1 col-5\">Avance</dd>\r\n                                                            <dt class=\"mt-1 col-7\">{{ empty(row.item.avance) ? '0 F' : row.item.avance + ' F' }}</dt>\r\n                                                            <dd class=\"mt-1 col-5\">Reste</dd>\r\n                                                            <dt class=\"mt-1 col-7\">{{ empty(row.item.reste) ? '0 F' : row.item.reste + ' F' }}</dt>\r\n                                                        </dl>\r\n                                                    </b-col>\r\n                                                    <b-col>\r\n                                                        <dl class=\"row text-muted\">\r\n                                                            <dd class=\"mt-1 col-5\">Statut</dd>\r\n                                                            <dt class=\"mt-1 col-7\">\r\n                                                                <b-badge variant=\"danger\" v-if=\"empty(row.item.avance)\">Non payé</b-badge>\r\n                                                                <b-badge variant=\"warning\" v-else-if=\"_calcul_consommation_indexe(row.item, tab_indexe) > row.item.avance\">Avancé</b-badge>\r\n                                                                <b-badge variant=\"success\" v-else>Payé</b-badge>\r\n                                                            </dt>\r\n                                                            <dd class=\"mt-1 col-5\">Date de paiement</dd>\r\n                                                            <dt class=\"mt-1 col-7\">{{ empty(row.item.datePaiement) ? 'Non disponible' : $date(row.item.datePaiement).format('DD MMMM YYYY') }}</dt>\r\n                                                        </dl>\r\n                                                    </b-col>\r\n                                                </b-row>\r\n                                            </b-card>\r\n                                        </template>\r\n                                    </b-table>\r\n                                </div>\r\n                            </div>\r\n                        </b-container>    \r\n                    </div>\r\n\r\n                    <div class=\"tab-pane fade \" id=\"loyers\">\r\n                        <b-container><b-table  sticky-header=\"600px\" striped hover responsive :items=\"occupation.loyers\" :fields=\"[\r\n                            { key: 'mois', label: 'Mois', sortable: true },\r\n                            { key: 'annees', label: 'Année', sortable: true },\r\n                            { key: 'montant', label: 'Montant à payer', sortable: true },\r\n                            { key: 'montantPayer', label: 'Montant payé', sortable: true },\r\n                            { key: 'observation', label: 'Observation' },\r\n                        ]\">\r\n                            <template #cell(mois)=\"data\">{{ $dayjs(data.item.periode).format('MMMM')}}</template>\r\n                            <template #cell(annees)=\"data\">{{ $dayjs(data.item.periode).format('YYYY')}}</template>\r\n                            <template #cell(montant)=\"data\"> {{ data.item.montant }} F</template>\r\n                            <template #cell(montantPayer)=\"data\"> {{ data.item.montantPayer }} F</template>\r\n                            <template #cell(observation)=\"data\"> \r\n                                <b-badge variant=\"danger\" v-if=\"empty(data.item.montantPayer) || data.item.montantPayer <= 0\">Impayé</b-badge>\r\n                                <b-badge variant=\"warning\" v-else-if=\"data.item.montantPayer < data.item.montant\">Avancé</b-badge>\r\n                                <b-badge variant=\"success\" v-else>Payé le {{ $dayjs(data.item.datePaiement).format('DD MMMM YYYY') }}</b-badge>\r\n                            </template>\r\n                        </b-table></b-container>\r\n                    </div> \r\n\r\n                    <!--GESTION DES CHARGES -->\r\n                    <div class=\"tab-pane fade \" id=\"charges\">\r\n                        <b-container>\r\n                            <div class=\"d-flex align-items-center justify-content-end mb-1\"><btnAdd  message=\"Nouvelle charge\" v-b-modal.chargeForm /></div>\r\n                            <b-overlay :show=\"showOverlayTable\" rounded=\"sm\"><b-table sticky-header=\"600px\" striped hover responsive :items=\"occupation.charges\" :fields=\"[\r\n                                { key: 'mois', label: 'Mois', sortable: true },\r\n                                { key: 'annees', label: 'Année', sortable: true },\r\n                                { key: 'montant', label: 'A payer', sortable: true },\r\n                                { key: 'montantPayer', label: 'Payé', sortable: true },\r\n                                { key: 'observation', label: 'Observation' },\r\n                                { key: 'statut', label: 'Statut'},\r\n                                { key: 'Action', label: 'Action'},\r\n                            ]\">\r\n                                <template #cell(mois)=\"data\">{{ $dayjs(data.item.periode).format('MMMM')}}</template>\r\n                                <template #cell(annees)=\"data\">{{ $dayjs(data.item.periode).format('YYYY')}}</template>\r\n                                <template #cell(montant)=\"data\"> {{ data.item.montant }} F</template>\r\n                                <template #cell(montantPayer)=\"data\"> {{ data.item.montantPayer }} F</template>\r\n                                <template #cell(observation)=\"data\"> \r\n                                    <b-badge variant=\"danger\" v-if=\"empty(data.item.montantPayer) || data.item.montantPayer <= 0\">Impayé</b-badge>\r\n                                    <b-badge variant=\"warning\" v-else-if=\"data.item.montantPayer < data.item.montant\">Avancé</b-badge>\r\n                                    <b-badge variant=\"success\" v-else>Payé le {{ $dayjs(data.item.datePaiement).format('DD MMMM YYYY') }}</b-badge>\r\n                                </template>\r\n                                <template #cell(statut)=\"data\"> \r\n                                    <b-badge variant=\"success\"  v-if=\"data.item.etatCharge\">Actif</b-badge>\r\n                                    <b-badge variant=\"danger\" v-else>Terminé</b-badge>\r\n                                </template>\r\n                                <template #cell(action)=\"row\"> \r\n                                    <b-dropdown size=\"sm\" right>\r\n                                        <template #button-content><i class=\"fa fa-ellipsis-h\"></i></template>\r\n                                        <b-dropdown-item href=\"#\" @click.prevent=\"changeState(row.item)\">{{ row.item.etatCharge ? 'Marquer comme terminée' : 'Activer la charge' }}</b-dropdown-item>\r\n                                        <b-dropdown-item href=\"#\" @click.prevent=\"buyCharge(row.item)\">Payer</b-dropdown-item>\r\n                                        <b-dropdown-divider />\r\n                                        <b-dropdown-item href=\"#\" @click=\"row.toggleDetails\">Détails</b-dropdown-item>\r\n                                    </b-dropdown>\r\n                                </template>\r\n                                <template #row-details=\"row\">\r\n                                    <b-card class=\"m-0\">\r\n                                        <div class=\"d-flex justify-content-end\">\r\n                                            <a href=\"#\" @click=\"row.toggleDetails\" class=\"text-danger\"><i class=\"fa fa-times\"></i></a>\r\n                                        </div>\r\n                                        <dl>\r\n                                            <dt>Nature de la charge</dt>\r\n                                            <dd>{{ row.item.typeCharge.libelle }}</dd>\r\n                                        </dl>\r\n                                        <dl>\r\n                                            <dt>Description</dt>\r\n                                            <dd><p>{{ row.item.observation }}</p></dd>\r\n                                        </dl>\r\n                                    </b-card>\r\n                                </template>\r\n                            </b-table></b-overlay>\r\n                        </b-container>\r\n                    </div> \r\n                </div>\r\n            </div>\r\n        </div>\r\n         <!--MODAL POUR AJOUTER OU MODIFIER UNE CHARGE-->\r\n        <b-modal id=\"chargeForm\" size=\"sm\" hide-footer no-close-on-backdrop>\r\n            <template #modal-title>\r\n            <span class=\"ml-4 text-form-charge\">{{ title }}</span>\r\n            </template>\r\n            <div>\r\n                <charge-form :action=\"action\" :occupation=\"occupation\"/>\r\n            </div>\r\n        </b-modal>\r\n\r\n        <!--MODAL RECHARGER UN COMPTE -->\r\n        <b-modal id=\"rechargeCompte\" size=\"sm\" title=\"Recharge de compte\" @hidden=\"resetForm\" @ok=\"doRecharge\" @show=\"() => { recharge.idCompte = occupation.comptes.find(elt => elt.typeCompte.toLowerCase() == 'principal').idCompte }\">\r\n            <template #modal-footer=\"{ ok, cancel }\">\r\n                <b-button size=\"sm\" @click=\"cancel()\">Annuler</b-button>\r\n                <b-button size=\"sm\" variant=\"danger\" @click=\"ok()\" :disabled=\"submitted\">Valider <b-spinner v-if=\"submitted\" small /></b-button>\r\n            </template>\r\n            <b-form-group label=\"Compte à recharger\">\r\n                <b-form-select v-model=\"recharge.idCompte\" :options=\"occupation.comptes\" value-field=\"idCompte\" text-field=\"typeCompte\" />\r\n            </b-form-group>\r\n            <b-form-group label=\"Montant de la recharge\">\r\n                <b-form-input type=\"number\" min=\"1\" placeholder=\"Ex: 5000\" v-model=\"recharge.montant\" />\r\n            </b-form-group>\r\n        </b-modal>\r\n        <!--MODAL CREER UN COMPTE -->\r\n        <b-modal id=\"creerCompte\" size=\"sm\" title=\"Créer un compte à l'occupation\" @hidden=\"resetForm\" @ok=\"createCompte\">\r\n            <template #modal-footer=\"{ ok, cancel }\">\r\n                <b-button size=\"sm\" @click=\"cancel()\">Annuler</b-button>\r\n                <b-button size=\"sm\" variant=\"danger\" @click=\"ok()\" :disabled=\"submitted\">Valider <b-spinner v-if=\"submitted\" small /></b-button>\r\n            </template>\r\n            <b-form-group label=\"Label du compte\">\r\n                <b-form-input v-model=\"creerCompte.typeCompte\" placeholder=\"Ex: Lumière\" />\r\n            </b-form-group>\r\n            <b-form-group label=\"Solde initial\">\r\n                <b-form-input type=\"number\" min=\"1\" placeholder=\"Ex: 5000\" v-model=\"creerCompte.solde\" />\r\n            </b-form-group>\r\n        </b-modal>\r\n\r\n        <!--MODAL PAYER UNE CHARGE -->\r\n        <b-modal id=\"payerCharge\" size=\"sm\" title=\"Règlement de la charge\" @hidden=\"resetForm\" @ok=\"payCharge\">\r\n            <template #modal-footer=\"{ ok }\">\r\n                <b-button size=\"sm\" variant=\"danger\" @click=\"ok()\" :disabled=\"submitted\">Valider <b-spinner v-if=\"submitted\" small /></b-button>\r\n            </template>\r\n            <b-form-group label=\"Montant\" description=\"Entrez le montant à préléver dans le compte\">\r\n                <b-form-input type=\"number\" min=\"1\" placeholder=\"Ex: 5000\" v-model=\"payerCharge.montant\" />\r\n            </b-form-group>\r\n        </b-modal>\r\n\r\n        <!--MODAL POUR VOIR LE CONTRAT DE BAIL -->\r\n        <b-modal id=\"payerCharge\" size=\"sm\" title=\"Règlement de la charge\" @hidden=\"resetForm\" @ok=\"payCharge\">\r\n            <template #modal-footer=\"{ ok }\">\r\n                <b-button size=\"sm\" variant=\"danger\" @click=\"ok()\" :disabled=\"submitted\">Valider <b-spinner v-if=\"submitted\" small /></b-button>\r\n            </template>\r\n            <b-form-group label=\"Montant\" description=\"Entrez le montant à préléver dans le compte\">\r\n                <b-form-input type=\"number\" min=\"1\" placeholder=\"Ex: 5000\" v-model=\"payerCharge.montant\" />\r\n            </b-form-group>\r\n        </b-modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport chargeForm from \"@/views/finances/charges/chargeForm.vue\";\r\nconst php = require('phpjs')\r\n\r\nexport default {\r\n    data:() =>({\r\n        submitted: false,\r\n        recharge: {idCompte: null, montant: null},\r\n        creerCompte: {typeCompte: null, solde: 0},\r\n        payerCharge: {montant: 0, idCharge: null},\r\n\r\n        tab_indexe: 'eau',\r\n        title:'Ajouter une charge',\r\n        action:\"add\",\r\n        showOverlayTable:false\r\n    }),\r\n    props: {\r\n        occupation: {type: Object, required: true}\r\n    },\r\n    components: {\r\n        chargeForm\r\n    },\r\n\r\n     computed: { \r\n        indexes() {\r\n            return this.indexes_type(this.tab_indexe).sort((a, b) => {\r\n                  return this.$dayjs().diff(b.periode) - this.$dayjs().diff(a.periode)\r\n            })\r\n        },\r\n        totalImpayes() {\r\n            return this._calcul_impayes('total')\r\n        }\r\n    },\r\n    beforeMount() {\r\n       /*  axios.get(`occupations/${this.$route.params.id}`).then(response => response.result || {}).then(occupation => {\r\n            this.occupation = occupation\r\n        }) */\r\n    },\r\n    mounted(){\r\n        console.log(this.occupation)\r\n        this.$root.$on(\"new-charge\", newCharge => {\r\n            this.occupation.charges.unshift(newCharge);\r\n            this.$bvModal.hide('chargeForm');\r\n            console.log('nouvelle charge ajoutée')\r\n    });\r\n\r\n    },\r\n    methods: {\r\n        empty: (val) => php.empty(val),\r\n\r\n\r\n        indexes_type(type) {\r\n            return this.occupation.indexes.filter(elt => elt.typeIndexe == type)\r\n        },\r\n        /**\r\n         * Formatteur du montant totale de la consommation via les indexe\r\n         */\r\n        _calcul_consommation_indexe(indexe, type) {\r\n            let mode = this.occupation.modeEau, \r\n                pu = this.occupation.puEau,\r\n                consommation = 1\r\n                \r\n            if (type == 'energie') {\r\n                mode = this.occupation.modeEnergie\r\n                pu = this.occupation.puEnergie\r\n            }\r\n\r\n            if (mode == 'index') {\r\n                consommation = indexe.nouveau - indexe.ancien\r\n            }\r\n\r\n            return consommation * pu\r\n        },\r\n\r\n        _calcul_impayes(type) {\r\n            let total = 0;\r\n            \r\n            if (type == 'loyer') {\r\n                this.occupation.loyers.forEach(elt => {\r\n                    total += elt.montant - elt.montantPayer\r\n                })\r\n            }\r\n            else if (type == 'charges') {\r\n                this.occupation.charges.forEach(elt => {\r\n                    total += elt.montant - elt.montantPayer\r\n                })\r\n            }\r\n            else if (type == 'total') {\r\n                total = this._calcul_impayes('loyer') + this._calcul_impayes('eau') + this._calcul_impayes('energie') + this._calcul_impayes('charges')\r\n            }\r\n            else {\r\n                this.indexes_type(type).forEach(elt => {\r\n                    elt.avance = parseInt(elt.avance || 0)\r\n                    total += this._calcul_consommation_indexe(elt, type) - elt.avance\r\n                });\r\n            }\r\n            return total\r\n        },\r\n        /**\r\n         * mise à jour de la liste des charges lors de l'ajout d'une charge\r\n         */\r\n        pushCharge(){\r\n            console.log('nouvelle charge ajoutée');\r\n            this.occupation.charges.unshift(response.result)\r\n        },\r\n        /**\r\n         * changer le statut d'une charge\r\n         */\r\n        changeState(charge){\r\n            this.showOverlayTable=true;\r\n            let url='/charges/'+charge.idCharge+'/change-state'\r\n            axios.put(url).then(response =>{\r\n                if (!response.success) {\r\n                    this.showOverlayTable=false;\r\n                    return App.alertError(response.message)\r\n                }\r\n\r\n                let url2='occupations/'+charge.idOccupation+'/charges'\r\n                axios.get(url2).then(response => response.result || []).then(charges => {\r\n                    this.occupation.charges=charges;\r\n            })\r\n              this.showOverlayTable=false;\r\n\r\n                return App.notifySuccess(response.message)\r\n                    \r\n            })\r\n        \r\n        },\r\n\r\n        /**\r\n         * Execute la recharge\r\n         */\r\n        doRecharge(bvModalEvt) {\r\n            bvModalEvt.preventDefault()\r\n\r\n            if (php.empty(this.recharge.idCompte) || php.empty(this.recharge.montant)) {\r\n                return App.error('Veuillez remplir tous les champs du formulaire')\r\n            }\r\n            this.submitted = true\r\n            axios.post('comptes/' + this.recharge.idCompte + '/recharge', this.recharge).then(response => {\r\n                this.occupation.comptes = this.occupation.comptes.map(elt => {\r\n                    if (elt.idCompte == this.recharge.idCompte) {\r\n                        elt.solde += parseInt(this.recharge.montant)\r\n                    }\r\n                    return elt\r\n                })\r\n                this.$bvModal.hide('rechargeCompte')\r\n                this.$emit('change', this.occupation)\r\n                return App.notifySuccess(response.message)\r\n            }).catch(error => {\r\n                this.submitted = false\r\n                return App.alertError(error.message)\r\n            })\r\n        },\r\n        /**\r\n         * \r\n         */\r\n        createCompte(bvModalEvt) {\r\n            bvModalEvt.preventDefault()\r\n\r\n            if (php.empty(this.creerCompte.typeCompte) || php.empty(this.creerCompte.solde)) {\r\n                return App.error('Veuillez remplir tous les champs du formulaire')\r\n            }\r\n            const data = {...this.creerCompte, idOccupation: this.occupation.idOccupation}\r\n            this.submitted = true\r\n            axios.post('comptes', data).then(response => {\r\n                this.occupation.comptes.push(response.result)\r\n                this.$bvModal.hide('creerCompte')\r\n                this.$emit('change', this.occupation)\r\n                return App.notifySuccess(response.message)\r\n            }).catch(error => {\r\n                this.submitted = false\r\n                return App.alertError(error.message)\r\n            })\r\n        },\r\n\r\n        buyCharge(charge) {\r\n            this.payerCharge.idCharge = charge.idCharge\r\n            this.payerCharge.montant = charge.montant - charge.montantPayer\r\n            this.$bvModal.show('payerCharge')\r\n        },\r\n        payCharge(bvModalEvt) {\r\n            bvModalEvt.preventDefault()\r\n            if (php.empty(this.payerCharge.montant)) {\r\n                return App.error('Veuillez entrer le montant à payer')\r\n            }\r\n            this.submitted = true \r\n            axios.put('charges/' + this.payerCharge.idCharge + '/buy', {montant: this.payerCharge.montant}).then(async(response) => {\r\n                this.occupation.charges = await axios.get('occupations/'+this.occupation.idOccupation+'/charges').then(res => res.result || [])\r\n                this.occupation.comptes = await axios.get('occupations/'+this.occupation.idOccupation+'/comptes').then(res => res.result || [])\r\n                this.submitted = false \r\n                this.$bvModal.hide('payerCharge')\r\n                return App.notifySuccess(response.message)\r\n            }).catch(error => {\r\n                this.submitted = false \r\n                return App.alertError(error.message)\r\n            })\r\n        },\r\n\r\n\r\n        resetForm() {\r\n            this.recharge = {idCompte: null, montant: null}\r\n            this.creerCompte = {typeCompte: null, solde: 0}\r\n            this.payerCharge = {montant: 0, idCharge: null}\r\n            this.submitted = false\r\n        },\r\n        //traitement affichage du contrat de bail\r\n        showContrat(){\r\n            console.log('contrat',this.occupation)\r\n            this.$emit('showDetails', this.occupation)\r\n        }\r\n\r\n    }\r\n    \r\n}\r\n</script>\r\n<style scoped>\r\n.text-form-charge {\r\n    font-size: 1em;\r\n    color: #212121ef;\r\n    font-weight: 800;\r\n    text-align: center;\r\n    margin-top: 2px;\r\n}\r\n\r\n.positionner{\r\n    position: relative;\r\n}\r\n.positionner1{\r\n    position: absolute;\r\n    top:-5%;\r\n    left: 48%;\r\n}\r\n.positionner2{\r\n    position: absolute;\r\n    top:-5%;\r\n    left: 62%;\r\n}\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Occupation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Occupation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Occupation.vue?vue&type=template&id=31ec0134&scoped=true&\"\nimport script from \"./Occupation.vue?vue&type=script&lang=js&\"\nexport * from \"./Occupation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Occupation.vue?vue&type=style&index=0&id=31ec0134&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31ec0134\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chargeForm.vue?vue&type=style&index=0&id=20547aed&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Occupation.vue?vue&type=style&index=0&id=31ec0134&scoped=true&lang=css&\""],"sourceRoot":""}