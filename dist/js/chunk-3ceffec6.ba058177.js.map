{"version":3,"sources":["webpack:///./src/views/gestion-immobiliere/depenses/ListDepenses.vue?3c14","webpack:///./src/views/gestion-immobiliere/depenses/ListDepenses.vue?4fdb","webpack:///src/views/gestion-immobiliere/depenses/ListDepenses.vue","webpack:///./src/views/gestion-immobiliere/depenses/ListDepenses.vue?cd11","webpack:///./src/views/gestion-immobiliere/depenses/ListDepenses.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","model","value","callback","$$v","filtre_categories","expression","_v","directives","name","rawName","domProps","on","$event","target","composing","search","_m","modifiers","showOverlay","depenses","length","_l","depense","i","key","idDepense","source","updateDepense","removeDepense","showDetails","offset","perPage","currentPage","page","limit","_s","motif","_e","scopedSlots","_u","fn","title","proxy","action","pushDepense","staticRenderFns","php","components","DepenseForm","Depense","data","cite","batiment","logement","trueDepenses","typesLogements","computed","array_slice","watch","empty","filter","elt","idSousType","nomLogement","toLowerCase","includes","getDepenses","methods","$bvModal","hide","begin","axios","get","then","response","result","cites","autoDetailsTarget","$route","query","window","history","replaceState","location","href","split","console","log","setTimeout","$","modal","e","component"],"mappings":"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","file":"js/chunk-3ceffec6.ba058177.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListDepenses.vue?vue&type=style&index=0&id=2a94f0da&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('page-description',{attrs:{\"title\":\"Dépenses\",\"description\":\"Gestion de vos dépenses\",\"icon\":\"home\",\"path\":['Statistiques', 'Mes Dépenses']}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"mb-2 clearfix\"},[_c('div',{staticClass:\"collapse d-md-block display-options\",attrs:{\"id\":\"displayOptions\"}},[_c('div',{staticClass:\"d-block d-md-inline-block\"},[_c('div',{staticClass:\"btn-group float-md-left mr-1 mb-1\"},[_c('b-form-select',{staticStyle:{\"box-shadow\":\"none\"},attrs:{\"size\":\"sm\"},model:{value:(_vm.filtre_categories),callback:function ($$v) {_vm.filtre_categories=$$v},expression:\"filtre_categories\"}},[_c('b-form-select-option',{attrs:{\"value\":null}},[_vm._v(\"Filtre de catégories\")]),_c('b-form-select-option-group',[_c('b-form-select-option')],1)],1)],1),_c('div',{staticClass:\"search-sm d-inline-block float-md-left mr-1 mb-1 align-top\"},[_c('form',{attrs:{\"action\":\"\",\"onsubmit\":\"return false\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Recherche...\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}}),_vm._m(0)])])]),_c('div',{staticClass:\"float-md-right\"},[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.depenseForm\",modifiers:{\"depenseForm\":true}}],attrs:{\"variant\":\"danger\"}},[_c('i',{staticClass:\"fa fa-plus-circle\"}),_vm._v(\" Nouvelle dépense \")])],1)])]),_c('div',{staticClass:\"separator mb-20\"}),_c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[(!_vm.depenses.length)?_c('b-alert',{staticClass:\"text-center\",attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('i',{staticClass:\"fa fa-exclamation-triangle fa-3x\"}),_c('br'),_c('span',{staticClass:\"h4 d-inline-flex ml-2\"},[_vm._v(\"Aucune dépense enregistrée pour le moment\")])]):_c('b-row',{staticClass:\"layout-wrap\"},_vm._l((_vm.depenses),function(depense,i){return _c('b-col',{key:depense.idDepense || i,staticClass:\"animated flipInX mb-4\",attrs:{\"lg\":\"4\",\"cols\":\"12\",\"sm\":\"6\"}},[_c('depense',{attrs:{\"depense\":depense,\"soure\":_vm.source},on:{\"makeUpdate\":_vm.updateDepense,\"deleted\":_vm.removeDepense,\"showDetails\":_vm.showDetails}})],1)}),1),_c('paginator',{attrs:{\"hr\":\"top\",\"offset\":_vm.offset,\"total\":_vm.depenses.length || 0,\"limit\":_vm.perPage,\"page\":_vm.currentPage},on:{\"pageChanged\":function (page) {_vm.currentPage = page},\"limitChanged\":function (limit) {_vm.perPage = limit}}})],1)],1)]),(_vm.depense)?_c('div',{staticClass:\"modal fade edit-layout-modal\",attrs:{\"id\":\"editLayoutItem\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"editLayoutItemLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"editLayoutItemLabel\"}},[_vm._v(\" Détails de la dépense: \"),_c('b',[_vm._v(_vm._s(_vm.depense.motif))]),_vm._v(\". \")]),_vm._m(1)]),_c('div',{staticClass:\"modal-body pt-2\"},[_c('details-depense',{attrs:{\"depense\":_vm.depense}})],1)])])]):_vm._e(),_c('b-modal',{attrs:{\"id\":\"depenseForm\",\"size\":\"lg\",\"hide-footer\":\"\",\"no-close-on-backdrop\":\"\"},scopedSlots:_vm._u([{key:\"modal-title\",fn:function(){return [_c('span',{staticClass:\"ml-4 text-form-annone\"},[_vm._v(_vm._s(_vm.title))])]},proxy:true}])},[_c('div',[_c('depense-form',{attrs:{\"action\":_vm.action},on:{\"depenseAdded\":_vm.pushDepense}})],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-icon\",attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"ik ik-search\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container-fluid\">\r\n    <!--page header start -->\r\n    <page-description\r\n      title=\"Dépenses\"\r\n      description=\"Gestion de vos dépenses\"\r\n      icon=\"home\"\r\n      :path=\"['Statistiques', 'Mes Dépenses']\"\r\n    />\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"mb-2 clearfix\">\r\n          <div class=\"collapse d-md-block display-options\" id=\"displayOptions\">\r\n            <div class=\"d-block d-md-inline-block\">\r\n              <div class=\"btn-group float-md-left mr-1 mb-1\">\r\n                <b-form-select v-model=\"filtre_categories\" size=\"sm\" style=\"box-shadow: none\">\r\n                  <b-form-select-option :value=\"null\">Filtre de catégories</b-form-select-option>\r\n                  <b-form-select-option-group\r\n            \r\n                  >\r\n                    <b-form-select-option\r\n                  \r\n                    ></b-form-select-option>\r\n                  </b-form-select-option-group>\r\n                </b-form-select>\r\n              </div>\r\n              <div class=\"search-sm d-inline-block float-md-left mr-1 mb-1 align-top\">\r\n                <form action onsubmit=\"return false\">\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Recherche...\"\r\n                    v-model=\"search\"\r\n                  />\r\n                  <button type=\"submit\" class=\"btn btn-icon\">\r\n                    <i class=\"ik ik-search\"></i>\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"float-md-right\">\r\n              <b-button variant=\"danger\" v-b-modal.depenseForm>\r\n                <i class=\"fa fa-plus-circle\"></i> Nouvelle dépense\r\n              </b-button>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"separator mb-20\"></div>\r\n        <b-overlay :show=\"showOverlay\" rounded=\"sm\">\r\n          <b-alert variant=\"info\" class=\"text-center\" show v-if=\"!depenses.length\">\r\n            <i class=\"fa fa-exclamation-triangle fa-3x\"></i>\r\n            <br />\r\n            <span class=\"h4 d-inline-flex ml-2\">Aucune dépense enregistrée pour le moment</span>\r\n          </b-alert>\r\n          <b-row v-else class=\"layout-wrap\">\r\n            <b-col\r\n              v-for=\"(depense, i) in depenses\"\r\n              :key=\"depense.idDepense || i\"\r\n              lg=\"4\"\r\n              cols=\"12\"\r\n              sm=\"6\"\r\n              class=\"animated flipInX mb-4\"\r\n            >\r\n              <depense\r\n                @makeUpdate=\"updateDepense\"\r\n                @deleted=\"removeDepense\"\r\n                :depense=\"depense\"\r\n                :soure=\"source\"\r\n                @showDetails=\"showDetails\"\r\n              />\r\n            </b-col>\r\n          </b-row>\r\n          <paginator\r\n            hr=\"top\"\r\n            :offset=\"offset\"\r\n            :total=\"depenses.length || 0\"\r\n            :limit=\"perPage\"\r\n            :page=\"currentPage\"\r\n            @pageChanged=\"(page) => {currentPage = page}\"\r\n            @limitChanged=\"(limit) => {perPage = limit}\"\r\n          />\r\n        </b-overlay>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- MODALE POUR AFFICHER LES DETAILS D'UNE  DEPENSE -->\r\n    <div\r\n      v-if=\"depense\"\r\n      class=\"modal fade edit-layout-modal\"\r\n      id=\"editLayoutItem\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"editLayoutItemLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"editLayoutItemLabel\">\r\n              Détails de la dépense:\r\n              <b>{{ depense.motif }}</b>.\r\n            </h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body pt-2\">\r\n            <details-depense :depense=\"depense\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--MODAL POUR AJOUTER OU MODIFIER UNE DEPENSE-->\r\n    <b-modal id=\"depenseForm\" size=\"lg\" hide-footer no-close-on-backdrop>\r\n        <template #modal-title>\r\n          <span class=\"ml-4 text-form-annone\">{{ title }}</span>\r\n        </template>\r\n        <div>\r\n            <depense-form @depenseAdded=\"pushDepense\" :action=\"action\" />\r\n        </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport DepenseForm from \"@/views/gestion-immobiliere/depenses/DepenseForm.vue\";\r\nimport Depense from \"@/views/gestion-immobiliere/depenses/Depense.vue\";\r\n/*import DetailsLogement from \"@/components/_patrimoine/DetailsLogement.vue\";*/\r\n\r\nconst php = require(\"phpjs\");\r\n\r\nexport default {\r\n  name: \"depenses\",\r\n  components: {\r\n    DepenseForm,\r\n    Depense\r\n  },\r\n  data: () => ({\r\n    //données liées au composant dépense\r\n    cite:null,\r\n    batiment:null,\r\n    logement:null,\r\n    source:0,\r\n    title:\"Définir une dépense\",\r\n    search: null,\r\n    showOverlay: true,\r\n    currentPage: 1,\r\n    perPage: 10,\r\n    action:'add',\r\n    depenses: [],\r\n    trueDepenses: [],\r\n    depense: null,\r\n\r\n    typesLogements: [],\r\n    filtre_categories: null,\r\n\r\n  }),\r\n  computed: {\r\n    /**\r\n     * Elements affichés avec prise en charge de la pagination\r\n     */\r\n    items() {\r\n      return php.array_slice(this.depenses, this.offset, this.perPage);\r\n    },\r\n    offset() {\r\n      return this.currentPage * this.perPage - this.perPage;\r\n    }\r\n  },\r\n  watch: {\r\n    /**\r\n     * Filtre les logements en fonction du type de logement selectionné\r\n     */\r\n    filtre_categories(value) {\r\n      this.depenses = !php.empty(value)\r\n        ? this.trueDepenses.filter(elt => elt.idSousType == value)\r\n        : this.trueDepenses;\r\n    },\r\n    search(value) {\r\n      this.depenses = !php.empty(value)\r\n        ? this.trueDepenses.filter(elt =>\r\n            elt.nomLogement.toLowerCase().includes(value.toLowerCase())\r\n          )\r\n        : this.trueDepenses;\r\n    }\r\n  },\r\n  beforeMount() {\r\n    this.getDepenses();\r\n  },\r\n  mounted() {\r\n\r\n    /*this.$root.$on(\"depenseAdded\", newDepense => {\r\n      this.depenses.unshift(newDepense);\r\n    });*/\r\n  },\r\n  methods: {\r\n    pushDepense(){\r\n      this.getDepenses();\r\n      this.$bvModal.hide('depenseForm');\r\n    },\r\n\r\n    //recupération de la liste des logements\r\n    async getDepenses(begin) {\r\n      this.showOverlay = true;\r\n      this.depenses = this.trueDepenses = await axios\r\n        .get(\"depenses\")\r\n        .then(response => response.result || []);\r\n      this.showOverlay = false;\r\n      if (begin !== false) {\r\n        this.cites = await axios.get(\"cites\").then(response => response.result || [])\r\n        \r\n      }\r\n      this.autoDetailsTarget();\r\n    },\r\n    /**\r\n     * Affiche automatiquement les details d'une dépense au chargement\r\n     * ceci est utilise dans le cas où on a cliqué sur la dépense en etant sur le details d'une cité, d'un batiment ou d'un logement\r\n     */\r\n    autoDetailsTarget() {\r\n      const target = this.$route.query.target || null;\r\n      if (target) {\r\n        const depense = this.trueDepenses.filter(\r\n          elt => elt.idDepense == target\r\n        )[0];\r\n        if (depense) {\r\n          this.showDetails(depense);\r\n          window.history.replaceState(\r\n            {},\r\n            \"\",\r\n            window.location.href.split(\"?\")[0]\r\n          );\r\n        }\r\n      }\r\n    },\r\n    updateDepense(depense) {\r\n      console.log(\"depense\", depense);\r\n    },\r\n    removeDepense(depense) {\r\n      console.log(\"depense\", depense);\r\n    },\r\n\r\n    /**\r\n     * Affiche les details d'un logement\r\n     *\r\n     * @param {Object} depense\r\n     */\r\n    showDetails(depense) {\r\n      this.depense = depense;\r\n      setTimeout(() => {\r\n        $(\"#editLayoutItem\").modal(\"show\");\r\n        $(\"#editLayoutItem\").on(\"hide.bs.modal\", e => {\r\n          this.depense = null;\r\n        });\r\n        $(\"#editLayoutItem\").on(\"hidden.bs.modal\", e => {\r\n          this.depense = null;\r\n        });\r\n      }, 100);\r\n    },\r\n\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.text-form-annone {\r\n    font-size: 1.3em;\r\n    color: #212121ef;\r\n    font-weight: 800;\r\n    text-align: center;\r\n    margin-top: 2px;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListDepenses.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListDepenses.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListDepenses.vue?vue&type=template&id=2a94f0da&scoped=true&\"\nimport script from \"./ListDepenses.vue?vue&type=script&lang=js&\"\nexport * from \"./ListDepenses.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListDepenses.vue?vue&type=style&index=0&id=2a94f0da&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a94f0da\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}