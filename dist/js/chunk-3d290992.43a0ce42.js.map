{"version":3,"sources":["webpack:///./src/views/gestion-immobiliere/occupations/OccupationForm.vue?5194","webpack:///./src/views/gestion-immobiliere/occupations/OccupationForm.vue?8939","webpack:///./src/components/parts/CustomInputGroup.vue?f361","webpack:///src/components/parts/CustomInputGroup.vue","webpack:///./src/components/parts/CustomInputGroup.vue?115b","webpack:///./src/components/parts/CustomInputGroup.vue","webpack:///./src/components/parts/CustomSelectGroup.vue?56ce","webpack:///src/components/parts/CustomSelectGroup.vue","webpack:///./src/components/parts/CustomSelectGroup.vue?ac6b","webpack:///./src/components/parts/CustomSelectGroup.vue","webpack:///src/views/gestion-immobiliere/occupations/OccupationForm.vue","webpack:///./src/views/gestion-immobiliere/occupations/OccupationForm.vue?dc1c","webpack:///./src/views/gestion-immobiliere/occupations/OccupationForm.vue","webpack:///./src/components/parts/SearchForm.vue?a393","webpack:///src/components/parts/SearchForm.vue","webpack:///./src/components/parts/SearchForm.vue?d005","webpack:///./src/components/parts/SearchForm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","showOverlay","on","onComplete","setLoading","validateFirst","staticClass","staticStyle","logements","logement","idLogement","setSlide_logement","model","value","occupation","callback","$$v","$set","expression","ref","selected_index_logement","_l","i","key","empty","photos","image","locataires","locataire","idLocataire","disabled","setSlide_locataire","provenance","selected_index_locataire","avatar","_e","_v","validateAsync","class","requiredLoyer","requiredMode","payoptions","mode","requiredAvance","requiredCaution","validateSecond","requiredEau","eauoptions","eau","requiredPuEau","requiredIndex","requiredELectricite","energie","requiredPuEnergie","staticRenderFns","label","description","type","min","placeholder","data","$emit","val","name","props","String","required","Number","default","mounted","JSON","parse","stringify","component","options","Array","php","components","DatePicker","CustomInputGroup","CustomSelectGroup","FormWizard","TabContent","Object","action","duree","selected_value","loyer","puEnergie","puEau","debut","indexEnergie","indexEau","endLastBail","avance","caution","sendForm","loadingWizard","check0","check","check2","requiredLogement","requiredLocataire","stateLocataire","text","watch","lastIndexEnergie","nouveau","lastIndexEau","computed","find","elt","logementSelected","prixMin","prixMax","methods","index","length","$refs","logementCarousel","setSlide","locataireCarousel","Promise","resolve","reject","setTimeout","alreadyset","requireCaution","console","log","axios","post","then","response","resetModal","App","notifySuccess","message","catch","error","alertError","get","result","notif","getInitialiseData","_m"],"mappings":"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","file":"js/chunk-3d290992.43a0ce42.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OccupationForm.vue?vue&type=style&index=0&id=4b89e204&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[_c('form-wizard',{attrs:{\"title\":\"\",\"subtitle\":\"\",\"nextButtonText\":\"suivant\",\"backButtonText\":\"Précedent\",\"finishButtonText\":\"Enregistrer\",\"aria-labelledby\":\"demoModalLabel\",\"shape\":\"circle\",\"color\":\"#e74c3c\"},on:{\"on-complete\":_vm.onComplete,\"on-loading\":_vm.setLoading}},[_c('tab-content',{attrs:{\"title\":\"Habitation\",\"icon\":\"fas fa-info-circle\",\"before-change\":_vm.validateFirst}},[_c('b-row',{staticClass:\"mb-4\"},[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Quel est le logement concerné par l'occupation\"}},[_c('div',{staticStyle:{\"height\":\"10.5em\"}},[_c('v-select',{attrs:{\"options\":_vm.logements,\"reduce\":function (logement) { return logement.idLogement; },\"label\":\"refLogement\"},on:{\"input\":_vm.setSlide_logement},model:{value:(_vm.occupation.idLogement),callback:function ($$v) {_vm.$set(_vm.occupation, \"idLogement\", $$v)},expression:\"occupation.idLogement\"}}),_c('b-carousel',{ref:\"logementCarousel\",attrs:{\"interval\":0,\"controls\":\"\"},model:{value:(_vm.selected_index_logement),callback:function ($$v) {_vm.selected_index_logement=$$v},expression:\"selected_index_logement\"}},_vm._l((_vm.logements),function(logement,i){return _c('b-carousel-slide',{key:i,staticClass:\"fluid w-100 responsive border-0\",staticStyle:{\"height\":\"10.5em\"},attrs:{\"img-src\":_vm.empty(logement.photos) ? '/img/bgHousing.jpg' : logement.photos[0].image}})}),1)],1)])],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Qui est le résident pour lequel l'occupation est défini\"}},[_c('div',{staticStyle:{\"height\":\"10.5em\"}},[_c('v-select',{attrs:{\"options\":_vm.locataires,\"reduce\":function (locataire) { return locataire.idLocataire; },\"label\":\"nomLocataire\",\"disabled\":_vm.disabled},on:{\"input\":_vm.setSlide_locataire},model:{value:(_vm.occupation.idLocataire),callback:function ($$v) {_vm.$set(_vm.occupation, \"idLocataire\", $$v)},expression:\"occupation.idLocataire\"}}),(_vm.provenance =='1')?_c('b-carousel',{ref:\"locataireCarousel\",attrs:{\"interval\":0,\"controls\":\"\"},model:{value:(_vm.selected_index_locataire),callback:function ($$v) {_vm.selected_index_locataire=$$v},expression:\"selected_index_locataire\"}},_vm._l((_vm.locataires),function(locataire,i){return _c('b-carousel-slide',{key:i,staticClass:\"fluid w-100 responsive border-0\",staticStyle:{\"height\":\"10.5em\"},attrs:{\"img-src\":locataire.avatar}})}),1):_vm._e(),(_vm.provenance =='2')?_c('b-carousel',{ref:\"locataireCarousel\",attrs:{\"interval\":0,\"controls\":\"\"},model:{value:(_vm.selected_index_locataire),callback:function ($$v) {_vm.selected_index_locataire=$$v},expression:\"selected_index_locataire\"}},[_c('b-carousel-slide',{staticClass:\"fluid w-100 responsive border-0\",staticStyle:{\"height\":\"10.5em\"},attrs:{\"img-src\":_vm.locataire.avatar}})],1):_vm._e()],1)])],1)],1),_c('b-row',{staticClass:\"mt-4\"},[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Date de debut du bail\"}},[_c('date-picker',{staticClass:\"w-100\",attrs:{\"placeholder\":\"Selectionnez une date\",\"format\":\"dddd, DD MMMM YYYY\",\"valueType\":\"YYYY-MM-DD\",\"clearable\":false},model:{value:(_vm.occupation.debut),callback:function ($$v) {_vm.$set(_vm.occupation, \"debut\", $$v)},expression:\"occupation.debut\"}})],1)],1),_c('b-col',{staticClass:\"mt-4\"},[_c('b-form-checkbox',{attrs:{\"switch\":\"\"},model:{value:(_vm.occupation.endLastBail),callback:function ($$v) {_vm.$set(_vm.occupation, \"endLastBail\", $$v)},expression:\"occupation.endLastBail\"}},[_c('span',{staticClass:\"fa-lg\"},[_vm._v(\"Mettre fin au bail précédent\")])])],1)],1)],1),_c('tab-content',{attrs:{\"title\":\"Loyer\",\"icon\":\"fas fa-balance-scale-right\",\"before-change\":_vm.validateAsync}},[_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Loyer\",\"description\":\"Combien devra payer le résident\"}},[_c('b-form-input',{class:!_vm.requiredLoyer ? 'is-red' : '',attrs:{\"type\":\"number\",\"placeholder\":\"Ex: 45000\",\"trim\":\"\"},model:{value:(_vm.occupation.loyer),callback:function ($$v) {_vm.$set(_vm.occupation, \"loyer\", $$v)},expression:\"occupation.loyer\"}}),(!_vm.requiredLoyer)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Ce champ est obligatoire\")]):_vm._e()],1)],1),_c('b-col',[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Mode de paiement\")]),_c('v-select',{class:!_vm.requiredMode ? 'is-red' : '',attrs:{\"label\":\"text\",\"options\":_vm.payoptions,\"reduce\":function (mode) { return mode.value; }},model:{value:(_vm.occupation.mode),callback:function ($$v) {_vm.$set(_vm.occupation, \"mode\", $$v)},expression:\"occupation.mode\"}}),(!_vm.requiredMode)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Ce champ est obligatoire\")]):_vm._e()],1)])],1),_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Nombre de mois d'avance\",\"description\":\"Combien de mois le locataire a t-il avancé\"}},[_c('b-form-input',{class:!_vm.requiredAvance ? 'is-red' : '',attrs:{\"type\":\"number\",\"placeholder\":\"Ex: 6\",\"trim\":\"\"},model:{value:(_vm.occupation.avance),callback:function ($$v) {_vm.$set(_vm.occupation, \"avance\", $$v)},expression:\"occupation.avance\"}}),(!_vm.requiredAvance)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Ce champ est obligatoire\")]):_vm._e()],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Caution\",\"description\":\"somme versée faisant office de caution\"}},[_c('b-form-input',{class:!_vm.requiredCaution ? 'is-red' : '',attrs:{\"type\":\"number\",\"placeholder\":\"Ex: 25000\",\"trim\":\"\"},model:{value:(_vm.occupation.caution),callback:function ($$v) {_vm.$set(_vm.occupation, \"caution\", $$v)},expression:\"occupation.caution\"}}),(!_vm.requiredCaution)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Ce champ est obligatoire\")]):_vm._e()],1)],1)],1)],1),_c('tab-content',{attrs:{\"title\":\"charges\",\"icon\":\"ik ik-settings\",\"before-change\":_vm.validateSecond}},[_c('b-row',[_c('b-col',[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Facturation d'eau\")]),_c('v-select',{class:!_vm.requiredEau ? 'is-red' : '',attrs:{\"label\":\"text\",\"options\":_vm.eauoptions,\"reduce\":function (eau) { return eau.value; }},model:{value:(_vm.occupation.eau),callback:function ($$v) {_vm.$set(_vm.occupation, \"eau\", $$v)},expression:\"occupation.eau\"}}),(!_vm.requiredEau)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Ce champ est obligatoire\")]):_vm._e()],1)]),_c('b-col',[_c('b-form-group',{attrs:{\"label\":_vm.occupation.eau == 'forfait' ? 'Taux forfataire' : 'Prix unitaire de l\\'eau',\"description\":\"\"}},[_c('b-form-input',{class:!_vm.requiredPuEau ? 'is-red' : '',attrs:{\"min\":\"0\",\"type\":\"number\",\"placeholder\":\"Ex: 1500\",\"trim\":\"\"},model:{value:(_vm.occupation.puEau),callback:function ($$v) {_vm.$set(_vm.occupation, \"puEau\", $$v)},expression:\"occupation.puEau\"}}),(!_vm.requiredPuEau)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Ce champ est obligatoire\")]):_vm._e()],1)],1),(_vm.occupation.eau == 'index')?_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Index initial\",\"description\":\"Index du compteur d'eau à l'entrée du locataire\"}},[_c('b-form-input',{class:!_vm.requiredIndex ? 'is-red' : '',attrs:{\"min\":\"0\",\"type\":\"number\",\"placeholder\":\"Ex: 095\",\"trim\":\"\"},model:{value:(_vm.occupation.indexEau),callback:function ($$v) {_vm.$set(_vm.occupation, \"indexEau\", $$v)},expression:\"occupation.indexEau\"}}),(!_vm.requiredIndex)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Ce champ est obligatoire\")]):_vm._e()],1)],1):_vm._e()],1),_c('b-row',[_c('b-col',[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Facturation d'électricité\")]),_c('v-select',{class:!_vm.requiredELectricite ? 'is-red' : '',attrs:{\"label\":\"text\",\"options\":_vm.eauoptions,\"reduce\":function (eau) { return eau.value; }},model:{value:(_vm.occupation.energie),callback:function ($$v) {_vm.$set(_vm.occupation, \"energie\", $$v)},expression:\"occupation.energie\"}}),(!_vm.requiredELectricite)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Ce champ est obligatoire\")]):_vm._e()],1)]),_c('b-col',[_c('b-form-group',{attrs:{\"label\":_vm.occupation.energie == 'forfait' ? 'Taux forfataire' : 'Prix unitaire de l\\'électricité',\"description\":\"L'exemple suggéré suppose une consommation par index\"}},[_c('b-form-input',{class:!_vm.requiredPuEnergie ? 'is-red' : '',attrs:{\"type\":\"number\",\"min\":\"0\",\"placeholder\":\"Ex: 150\",\"trim\":\"\"},model:{value:(_vm.occupation.puEnergie),callback:function ($$v) {_vm.$set(_vm.occupation, \"puEnergie\", $$v)},expression:\"occupation.puEnergie\"}}),(!_vm.requiredPuEnergie)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Ce champ est obligatoire\")]):_vm._e()],1)],1),(_vm.occupation.energie == 'index')?_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Index initial\",\"description\":\"Index du compteur d'électricité à l'entrée du locataire\"}},[_c('b-form-input',{class:!_vm.requiredPuEnergie ? 'is-red' : '',attrs:{\"type\":\"number\",\"min\":\"0\",\"placeholder\":\"Ex: 095\",\"trim\":\"\"},model:{value:(_vm.occupation.indexEnergie),callback:function ($$v) {_vm.$set(_vm.occupation, \"indexEnergie\", $$v)},expression:\"occupation.indexEnergie\"}}),(!_vm.requiredPuEnergie)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Ce champ est obligatoire\")]):_vm._e()],1)],1):_vm._e()],1)],1),_c('tab-content',{attrs:{\"title\":\"Contrat\",\"icon\":\"fas fa-file-contract\"}}),(_vm.loadingWizard)?_c('div',{staticClass:\"leloader\"}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',{attrs:{\"label\":_vm.label,\"description\":_vm.description}},[_c('b-form-input',{attrs:{\"type\":_vm.type,\"min\":_vm.min,\"placeholder\":_vm.placeholder,\"trim\":\"\"},on:{\"input\":function (data) { _vm.$emit('input', data) }},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-form-group :label=\"label\" :description=\"description\">\r\n        <b-form-input :type=\"type\" :min=\"min\" @input=\"(data) => { $emit('input', data) }\" v-model=\"val\" :placeholder=\"placeholder\" trim></b-form-input>\r\n    </b-form-group>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: 'CustomInputGroup',\r\n\r\n    props: {\r\n        label: { \r\n            type: String,\r\n            required: true,\r\n        },\r\n        description: {\r\n            type: String,\r\n            required: true,\r\n        },\r\n        placeholder: {\r\n            type: String,\r\n        },\r\n        value: {\r\n            type: [String, Number],\r\n            required: true,\r\n        },\r\n        min: {\r\n            type: [String, Number],\r\n        },\r\n        type: { type: String, default: 'text' }\r\n    },\r\n    data: () => ({\r\n        val: null\r\n    }),\r\n    mounted: () => {\r\n        this.val = JSON.parse(JSON.stringify(this.value))\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomInputGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomInputGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomInputGroup.vue?vue&type=template&id=43d70647&scoped=true&\"\nimport script from \"./CustomInputGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomInputGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43d70647\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',{attrs:{\"label\":_vm.label,\"description\":_vm.description}},[_c('b-form-select',{attrs:{\"options\":_vm.options},on:{\"input\":function (data) { _vm.$emit('input', data) }},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-form-group :label=\"label\" :description=\"description\">\r\n        <b-form-select @input=\"(data) => { $emit('input', data) }\" v-model=\"val\" :options=\"options\" />\r\n    </b-form-group>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: 'CustomSelectGroup',\r\n\r\n    props: {\r\n        label: { \r\n            type: String,\r\n            required: true,\r\n        },\r\n        description: {\r\n            type: String,\r\n            required: true,\r\n        },\r\n        placeholder: {\r\n            type: String,\r\n        },\r\n        value: {\r\n            type: [String, Number],\r\n            required: true,\r\n        },\r\n        options: {\r\n            type: Array, default: [],\r\n        }\r\n    },\r\n    data: () => ({\r\n        val: null\r\n    }),\r\n    mounted: () => {\r\n        this.val = JSON.parse(JSON.stringify(this.value))\r\n    },\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomSelectGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomSelectGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomSelectGroup.vue?vue&type=template&id=9982fb74&scoped=true&\"\nimport script from \"./CustomSelectGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomSelectGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9982fb74\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <b-overlay :show=\"showOverlay\" rounded=\"sm\">\r\n        <form-wizard  title='' subtitle='' nextButtonText='suivant' backButtonText='Précedent' finishButtonText='Enregistrer' aria-labelledby=\"demoModalLabel\"  @on-complete=\"onComplete\"\r\n            @on-loading=\"setLoading\"\r\n            shape=\"circle\"\r\n            color=\"#e74c3c\">\r\n            <tab-content title=\"Habitation\"\r\n                icon=\"fas fa-info-circle\" \r\n                   :before-change=\"validateFirst\" \r\n                >\r\n                <b-row class=\"mb-4\">\r\n                    <b-col>\r\n                        <b-form-group label=\"Quel est le logement concerné par l'occupation\">\r\n                            <div style=\"height: 10.5em\">\r\n                                <v-select :options=\"logements\" v-model=\"occupation.idLogement\" :reduce=\"logement => logement.idLogement\" label=\"refLogement\"  @input=\"setSlide_logement\" />\r\n                                <b-carousel :interval=\"0\" controls v-model=\"selected_index_logement\" ref=\"logementCarousel\">\r\n                                    <b-carousel-slide style=\"height: 10.5em\" class=\"fluid w-100 responsive border-0\" \r\n                                        v-for=\"(logement, i) in logements\" :key=\"i\" :img-src=\"empty(logement.photos) ? '/img/bgHousing.jpg' : logement.photos[0].image\"\r\n                                    />\r\n                                </b-carousel>\r\n                            </div>\r\n                        </b-form-group>\r\n                    </b-col>\r\n                    <b-col>\r\n                        <b-form-group label=\"Qui est le résident pour lequel l'occupation est défini\">\r\n                            <div style=\"height: 10.5em\">\r\n                                <v-select :options=\"locataires\" v-model=\"occupation.idLocataire\" :reduce=\"locataire => locataire.idLocataire\" label=\"nomLocataire\"  @input=\"setSlide_locataire\" :disabled=\"disabled\" />\r\n                                <!--<v-select :options=\"locataires\" v-model=\"occupation.idLocataire\" label=\"nomLocataire\"  @input=\"setSlide_locataire\"  :class=\"{ disabled: disabled == true }\" />-->\r\n                                <b-carousel :interval=\"0\" controls v-model=\"selected_index_locataire\" ref=\"locataireCarousel\" v-if=\"provenance =='1'\">\r\n                                    <b-carousel-slide style=\"height: 10.5em\" class=\"fluid w-100 responsive border-0\"\r\n                                        v-for=\"(locataire, i) in locataires\" :key=\"i\" :img-src=\"locataire.avatar\"\r\n                                    />\r\n                                </b-carousel>\r\n                                <b-carousel :interval=\"0\" controls v-model=\"selected_index_locataire\" ref=\"locataireCarousel\" v-if=\"provenance =='2'\">\r\n                                    <b-carousel-slide style=\"height: 10.5em\" class=\"fluid w-100 responsive border-0\"\r\n                                    :img-src=\"locataire.avatar\"\r\n                                    />\r\n                                </b-carousel>\r\n                            </div>\r\n                        </b-form-group>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row class=\"mt-4\">\r\n                    <b-col>\r\n                        <b-form-group label=\"Date de debut du bail\">\r\n                            <date-picker v-model=\"occupation.debut\" placeholder=\"Selectionnez une date\" format=\"dddd, DD MMMM YYYY\" valueType=\"YYYY-MM-DD\" class=\"w-100\" :clearable=\"false\" />\r\n                        </b-form-group>\r\n                    </b-col>\r\n                    <b-col class=\"mt-4\">\r\n                        <b-form-checkbox v-model=\"occupation.endLastBail\" switch>\r\n                            <span class=\"fa-lg\">Mettre fin au bail précédent</span>\r\n                        </b-form-checkbox>\r\n                    </b-col>\r\n                </b-row>\r\n            </tab-content>\r\n            <tab-content title=\"Loyer\"\r\n                icon=\"fas fa-balance-scale-right\" \r\n                :before-change=\"validateAsync\">\r\n                <b-row>\r\n                    <b-col>\r\n                        <!--<CustomInputGroup :class=\"!requiredLoyer ? 'is-red' : ''\"   label=\"Loyer\" description=\"Combien devra payer le résident\" placeholder=\"Ex: 45000\" v-model=\"occupation.loyer\" />-->\r\n                            <b-form-group label=\"Loyer\" description=\"Combien devra payer le résident\">\r\n                                <b-form-input :class=\"!requiredLoyer ? 'is-red' : ''\" type=\"number\"  v-model=\"occupation.loyer\" placeholder=\"Ex: 45000\" trim></b-form-input>\r\n                                <span v-if=\"!requiredLoyer\" style=\"color:red;\">Ce champ est obligatoire</span>\r\n                            </b-form-group>\r\n                        \r\n                    </b-col>\r\n                    <b-col>\r\n                        <!--<CustomSelectGroup label=\"Mode de paiement\" description=\"Le résident devra t-il payer son loyer courant avant ou après l'avoir consommé\" v-model=\"occupation.mode\" :options=\"payoptions\"  />-->\r\n                        <div class=\"form-group\">\r\n                            <label>Mode de paiement</label>\r\n                            <v-select label=\"text\" :options=\"payoptions\" v-model=\"occupation.mode\" :reduce=\"mode => mode.value\" :class=\"!requiredMode ? 'is-red' : ''\"></v-select>\r\n                            <span v-if=\"!requiredMode\" style=\"color:red;\">Ce champ est obligatoire</span>\r\n                        </div>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                    <b-col>\r\n                        <!--<CustomInputGroup label=\"Nombre de mois d'avance\" description=\"Combien de mois le locataire a t-il avancé\" placeholder=\"Ex: 6\" v-model=\"occupation.avance\" min=\"1\" type=\"number\" />-->\r\n                        <b-form-group label=\"Nombre de mois d'avance\" description=\"Combien de mois le locataire a t-il avancé\">\r\n                                <b-form-input :class=\"!requiredAvance ? 'is-red' : ''\" type=\"number\"  v-model=\"occupation.avance\" placeholder=\"Ex: 6\" trim></b-form-input>\r\n                                <span v-if=\"!requiredAvance\" style=\"color:red;\">Ce champ est obligatoire</span>\r\n                        </b-form-group>\r\n                    </b-col>\r\n                     <b-col>\r\n                        <!--<CustomInputGroup label=\"Caution\" description=\"somme versée faisant office de caution\" placeholder=\"Ex: 25000\" v-model=\"occupation.caution\" min=\"1\" type=\"number\" />-->\r\n                        <b-form-group label=\"Caution\" description=\"somme versée faisant office de caution\">\r\n                                <b-form-input :class=\"!requiredCaution ? 'is-red' : ''\" type=\"number\"  v-model=\"occupation.caution\" placeholder=\"Ex: 25000\" trim></b-form-input>\r\n                                <span v-if=\"!requiredCaution\" style=\"color:red;\">Ce champ est obligatoire</span>\r\n                        </b-form-group>\r\n                    </b-col>\r\n                </b-row>\r\n          \r\n            </tab-content>\r\n            <tab-content title=\"charges\"\r\n                icon=\"ik ik-settings\"\r\n                :before-change=\"validateSecond\">\r\n                <b-row>\r\n                    <b-col>\r\n                        <!--<CustomSelectGroup label=\"Facturation d'eau\" description=\"Comment s'effectuera la facturation en eau de ce résident\" v-model=\"occupation.eau\" :options=\"eauoptions\"  />-->\r\n                         <div class=\"form-group\">\r\n                            <label>Facturation d'eau</label>\r\n                            <v-select label=\"text\" :options=\"eauoptions\" v-model=\"occupation.eau\" :reduce=\"eau => eau.value\" :class=\"!requiredEau ? 'is-red' : ''\"></v-select>\r\n                            <span v-if=\"!requiredEau\" style=\"color:red;\">Ce champ est obligatoire</span>\r\n                        </div>\r\n                    </b-col>\r\n                    <b-col>\r\n                        <!--<CustomInputGroup :label=\"occupation.eau == 'forfait' ? 'Taux forfataire' : 'Prix unitaire de l\\'eau'\" description=\"\" placeholder=\"Ex: 1500\" v-model=\"occupation.puEau\" min=\"0\" type=\"number\" />-->\r\n                        <b-form-group :label=\"occupation.eau == 'forfait' ? 'Taux forfataire' : 'Prix unitaire de l\\'eau'\" description=\"\">\r\n                            <b-form-input :class=\"!requiredPuEau ? 'is-red' : ''\" min=\"0\" type=\"number\"  v-model=\"occupation.puEau\" placeholder=\"Ex: 1500\" trim></b-form-input>\r\n                            <span v-if=\"!requiredPuEau\" style=\"color:red;\">Ce champ est obligatoire</span>\r\n                        </b-form-group>\r\n                    </b-col>\r\n                    <b-col v-if=\"occupation.eau == 'index'\">\r\n                        <!--<CustomInputGroup label=\"Index initial\" description=\"Index du compteur d'eau à l'entrée du locataire\" placeholder=\"Ex: 095\" v-model=\"occupation.indexEau\" min=\"0\" type=\"number\" />-->\r\n                        <b-form-group label=\"Index initial\" description=\"Index du compteur d'eau à l'entrée du locataire\">\r\n                            <b-form-input :class=\"!requiredIndex ? 'is-red' : ''\" min=\"0\" type=\"number\"  v-model=\"occupation.indexEau\" placeholder=\"Ex: 095\" trim ></b-form-input>\r\n                            <span v-if=\"!requiredIndex\" style=\"color:red;\">Ce champ est obligatoire</span>\r\n                        </b-form-group>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                    <b-col>\r\n                        <!--<CustomSelectGroup label=\"Facturation d'électricité\" description=\"Comment s'effectuera la facturation en électricité de ce résident\" v-model=\"occupation.energie\" :options=\"eauoptions\"  />-->\r\n                        <div class=\"form-group\">\r\n                            <label>Facturation d'électricité</label>\r\n                            <v-select label=\"text\" :options=\"eauoptions\"  v-model=\"occupation.energie\" :reduce=\"eau => eau.value\" :class=\"!requiredELectricite ? 'is-red' : ''\"></v-select>\r\n                            <span v-if=\"!requiredELectricite\" style=\"color:red;\">Ce champ est obligatoire</span>\r\n                        </div>\r\n                    </b-col>\r\n                    <b-col>\r\n                        <!--<CustomInputGroup :label=\"occupation.energie == 'forfait' ? 'Taux forfataire' : 'Prix unitaire de l\\'energie'\" description=\"L'exemple suggéré suppose une consommation par forfait\" placeholder=\"Ex: 2500\" v-model=\"occupation.puEnergie\" min=\"0\" type=\"number\" />-->\r\n                        <b-form-group :label=\"occupation.energie == 'forfait' ? 'Taux forfataire' : 'Prix unitaire de l\\'électricité'\" description=\"L'exemple suggéré suppose une consommation par index\">\r\n                                <b-form-input :class=\"!requiredPuEnergie ? 'is-red' : ''\" type=\"number\" min=\"0\"  v-model=\"occupation.puEnergie\" placeholder=\"Ex: 150\" trim></b-form-input>\r\n                                <span v-if=\"!requiredPuEnergie\" style=\"color:red;\">Ce champ est obligatoire</span>\r\n                        </b-form-group>\r\n                    </b-col>\r\n                    <b-col v-if=\"occupation.energie == 'index'\">\r\n                        <!--<CustomInputGroup label=\"Index initial\" description=\"Index du compteur d'energie à l'entrée du locataire\" placeholder=\"Ex: 095\" v-model=\"occupation.indexEnergie\" min=\"0\" type=\"number\" />-->\r\n                        <b-form-group label=\"Index initial\" description=\"Index du compteur d'électricité à l'entrée du locataire\">\r\n                            <b-form-input :class=\"!requiredPuEnergie ? 'is-red' : ''\" type=\"number\" min=\"0\"  v-model=\"occupation.indexEnergie\" placeholder=\"Ex: 095\" trim></b-form-input>\r\n                            <span v-if=\"!requiredPuEnergie\" style=\"color:red;\">Ce champ est obligatoire</span>\r\n                        </b-form-group>\r\n                    </b-col>\r\n                </b-row>\r\n            </tab-content>\r\n\r\n            <tab-content title=\"Contrat\"\r\n                        icon=\"fas fa-file-contract\"  \r\n                >\r\n                \r\n            </tab-content>\r\n            <div class=\"leloader\" v-if=\"loadingWizard\"></div>\r\n        </form-wizard>                  \r\n    </b-overlay>\r\n</template>\r\n<script>\r\nimport {FormWizard, TabContent} from 'vue-form-wizard'\r\nimport 'vue-form-wizard/dist/vue-form-wizard.min.css'\r\nimport DatePicker from 'vue2-datepicker';\r\nimport 'vue2-datepicker/index.css';\r\nimport 'vue2-datepicker/locale/fr';\r\n\r\n  import CustomInputGroup from \"@/components/parts/CustomInputGroup.vue\";\r\nimport CustomSelectGroup from \"@/components/parts/CustomSelectGroup.vue\";\r\n\r\nimport notif from \"@/plugins/notif.js\";\r\nconst php = require(\"phpjs\");\r\n\r\nexport default {\r\n  name: \"occupation-form\",\r\n    components: {\r\n        DatePicker,\r\n        CustomInputGroup,\r\n        CustomSelectGroup,\r\n        FormWizard,\r\n        TabContent,\r\n    },\r\n    props: {\r\n        locataire: { type: Object},\r\n        provenance: {type: Number, required: true, default: \"1\"},\r\n        action: {type: String, required: true, default: \"add\"}\r\n    },\r\n  data: () => ({\r\n    duree: [null, null],\r\n    selected_index_logement: -1,\r\n    selected_index_locataire: -1,\r\n    selected_value: \"\",\r\n    occupation: {\r\n      loyer: \"\",\r\n      mode: \"\",\r\n      energie: \"index\",\r\n      eau: \"index\",\r\n      puEnergie: \"\",\r\n      puEau: \"\",\r\n      idLogement: \"\",\r\n      idLocataire: \"\",\r\n      debut:\"\",\r\n      indexEnergie: 0,\r\n      indexEau: 0,\r\n      endLastBail: false,\r\n      avance: 1,\r\n      caution:1\r\n    },\r\n    showOverlay: false,\r\n    sendForm: false,\r\n    logements: [],\r\n    locataires: [],\r\n    loadingWizard: false,\r\n    check0:false,\r\n    check:true,\r\n    check2:true,\r\n    requiredLoyer:true,\r\n    requiredAvance:true,\r\n    requiredCaution:true,\r\n    requiredLoyer:true,\r\n    requiredMode:true,\r\n    requiredLogement:true,\r\n    requiredLocataire:true,\r\n    requiredELectricite:true,\r\n    requiredEau:true,\r\n    requiredPuEau:true,\r\n    requiredPuEnergie:true,\r\n    requiredIndex:true,\r\n    /*données manipulées du fait de l'appel du fait\r\n    *de l'appel du formulaire de création d'un occupation \r\n    *à différents endroits\r\n    */\r\n   disabled:false,\r\n   stateLocataire:null,\r\n   payoptions: [{ text: 'Prépayé', value: 'prepayer' }, { text: 'Postpayé', value: 'postpayer' }],\r\n   eauoptions: [{ value: 'index', text: 'Index' }, { value: 'forfait', text: 'Forfait' },],\r\n  }),\r\n  watch: {\r\n    selected_index_logement(value) {\r\n        const logement = this.logements[value]\r\n\r\n        this.occupation.idLogement = logement.idLogement;\r\n        this.indexEnergie = (logement.lastIndexEnergie) ? logement.lastIndexEnergie.nouveau : 0\r\n        this.indexEau = (logement.lastIndexEau) ? logement.lastIndexEau.nouveau : 0\r\n    },\r\n     selected_index_locataire(value) {\r\n      this.occupation.idLocataire = this.locataires[value].idLocataire;\r\n    },\r\n    loyer(value)  {\r\n        this.occupation.loyer = value\r\n    }\r\n  },\r\n    computed: {\r\n        logementSelected() {\r\n            return this.logements.find(elt => elt.idLogement == this.occupation.idLogement)\r\n        },\r\n        loyer: {\r\n            get() {\r\n                const logement = this.logementSelected\r\n                if (!logement) {\r\n                    return 0;\r\n                }\r\n                return (logement.prixMin + logement.prixMax) / 2\r\n            },\r\n            set(value) {\r\n                this.occupation.loyer = value\r\n            }      \r\n        },\r\n        indexEnergie: {\r\n            get() {\r\n                const logement = this.logementSelected\r\n                if (logement && logement.lastIndexEnergie) {\r\n                    return logement.lastIndexEnergie.nouveau\r\n                }\r\n                return 0\r\n            },\r\n            set(value) {\r\n               this.occupation.indexEnergie = value\r\n            }\r\n        },\r\n        indexEau: {\r\n            get() {\r\n                const logement = this.logementSelected\r\n                if (logement && logement.lastIndexEau) {\r\n                    return logement.lastIndexEau.nouveau\r\n                }\r\n                return 0\r\n            },\r\n            set(value) {\r\n              this.occupation.indexEau = value\r\n            }\r\n        }\r\n    },\r\n  methods: {\r\n    /**emission évènement pour fermer le formulaire\r\n     * de création d'une annonce et basculer à la création préalable d'un logement\r\n     */\r\n    createLogement(){\r\n      this.$emit('createLogementSecond') \r\n    },\r\n    /**emission évènement pour fermer le formulaire de création d'une occupation\r\n     *  et basculer à la création préalable d'un locataire\r\n     */\r\n    createLocataire(){\r\n      this.$emit('createLocataire') \r\n    },\r\n    empty(val) {\r\n        return php.empty(val)\r\n    },\r\n\r\n    /**\r\n     * Set l'image du carousel lorsqu'on change le logement\r\n     */\r\n    setSlide_logement(value) {\r\n        for (let index = 0; index < this.logements.length; index++) {\r\n            const logement = this.logements[index]\r\n            if (logement.idLogement == value) {\r\n                this.$refs.logementCarousel.setSlide(index);\r\n                this.indexEnergie = (logement.lastIndexEnergie) ? logement.lastIndexEnergie.nouveau : 0\r\n                this.indexEau = (logement.lastIndexEau) ? logement.lastIndexEau.nouveau : 0\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    setSlide_locataire(value) {\r\n      for (let index = 0; index < this.locataires.length; index++) {\r\n        if (this.locataires[index].idLocataire == value) {\r\n          this.$refs.locataireCarousel.setSlide(index);\r\n          break;\r\n        }\r\n      }\r\n    },\r\n\r\n    resetModal() {\r\n      this.occupation = {\r\n        loyer: \"\",\r\n        mode: \"\",\r\n        energie: \"index\",\r\n        eau: \"index\",\r\n        puEnergie: \"\",\r\n        puEau: \"\",\r\n        idLogement: \"\",\r\n        debut:\"\",\r\n        indexEnergie: 0,\r\n        indexEau: 0,\r\n        endLastBail: false\r\n      };\r\n      if(this.provenance !=2){\r\n        this.occupation.idLocataire=''\r\n        this.occupation.idLogement=''\r\n      }\r\n    },\r\n    //méthodes liées au form-wizard\r\n    setLoading: function(value) {\r\n        this.loadingWizard = value\r\n    },\r\n    validateFirst:function() {\r\n        return new Promise((resolve, reject) => {\r\n            \r\n            if(!this.occupation.idLogement || !this.occupation.idLocataire){\r\n                if(!this.occupation.idLogement){this.requiredLogement=false;}\r\n                else {this.requiredLogement=true;}\r\n                if(!this.occupation.idLocataire){this.requiredLocataire=false;}\r\n                else{this.requiredLocataire=true;}\r\n        \r\n                this.check0=false\r\n            }else{\r\n                this.check0=true\r\n            }\r\n        setTimeout(() => {\r\n            resolve(this.check0)\r\n        }, 1000)\r\n        })\r\n    },\r\n    validateAsync:function() {\r\n        return new Promise((resolve, reject) => {\r\n            \r\n            if(!this.occupation.loyer || !this.occupation.avance  || !this.occupation.mode || !this.occupation.caution){\r\n                if(!this.occupation.loyer){this.requiredLoyer=false;}\r\n                else {this.requiredLoyer=true;}\r\n                if(!this.occupation.avance){this.requiredAvance=false;}\r\n                else{this.requiredAvance=true;}\r\n                if(!this.occupation.mode){this.requiredMode=false;}\r\n                else{this.requiredMode=true;}\r\n                if(!this.occupation.caution){this.requireCaution=false;}\r\n                else{this.requireCaution=true;}\r\n                this.check=false\r\n            }else{\r\n                this.check=true\r\n                this.alreadyset=true;\r\n            }\r\n        setTimeout(() => {\r\n            resolve(this.check)\r\n        }, 1000)\r\n        })\r\n    },\r\n    validateSecond:function() {\r\n        return new Promise((resolve, reject) => {\r\n            \r\n            /*if(!this.habitant.tel){\r\n                this.check2=false\r\n            }else{\r\n                this.check2=true\r\n            }*/\r\n        setTimeout(() => {\r\n            resolve(this.check2)\r\n        }, 1000)\r\n        })\r\n    },\r\n    //validation formulaire d'ajout/modification d'ajout d'une occupation\r\n    onComplete() {\r\n        //bvModalEvt.preventDefault();\r\n        \r\n            console.log(this.occupation);\r\n        if (this.action == \"add\") {\r\n            this.showOverlay = true;\r\n\r\n            axios.post('occupations', this.occupation).then(response => {\r\n                this.$emit('occupationAdded')\r\n                this.resetModal();\r\n                console.log(response);\r\n                this.showOverlay = false;\r\n                return App.notifySuccess(response.message)\r\n            }).catch(error => {\r\n                this.showOverlay = false;\r\n                return  App.alertError(error.message)\r\n            })\r\n        }\r\n    },\r\n\r\n   async getInitialiseData(){\r\n     //this.showOverlay = true\r\n        try {\r\n            //this.logements = await axios.get(\"logements\").then(response => response.result || []);\r\n    \r\n                this.logements = await axios.get(\"logements\").then(response => response.result || []);\r\n                if (this.logements[0]) {\r\n                    const logement = this.logements[0]\r\n                    this.occupation.idLogement = logement.idLogement;\r\n\r\n                    if (logement.lastIndexEnergie) {\r\n                        this.indexEnergie = logement.lastIndexEnergie.nouveau\r\n                    }\r\n                    if (logement.lastIndexEau) {\r\n                        this.indexEau = logement.lastIndexEau.nouveau\r\n                    }\r\n                    this.loyer = (logement.prixMin + logement.prixMax) / 2\r\n                }\r\n                } catch (error) {\r\n                    notif.error(error.message);\r\n                }\r\n            if(this.provenance!=2){\r\n                try {\r\n                this.locataires = await axios.get(\"locataires\").then(response => response.result || []);\r\n                if (this.locataires[0]) {\r\n                    this.occupation.idLocataire = this.locataires[0].idLocataire;\r\n                }\r\n                } catch (error) {\r\n                notif.error(error.message);\r\n                }\r\n            }\r\n        //this.showOverlay = false\r\n    },\r\n  \r\n  },\r\n  async mounted() {\r\n    await this.getInitialiseData();\r\n    if(this.locataire !=null){\r\n        this.provenance=2\r\n        this.disabled=true;\r\n      this.stateLocataire=this.locataire;\r\n      this.occupation.idLocataire = this.locataire.idLocataire\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n\r\n.is-red{\r\n    border-color:red;\r\n}\r\n\r\n.text-form-annone {\r\n  font-family: \"font-1\", sans-serif;\r\n  font-size: 2.1em;\r\n  color: #0a0701fa;\r\n  \r\n}\r\n .disabled {\r\n    pointer-events:none;\r\n    color: #bfcbd9;\r\n    cursor: not-allowed;\r\n    background-image: none;\r\n    background-color: #eef1f6;\r\n    border-color: #d1dbe5;   \r\n }\r\n     .leloader,\r\n.leloader:after {\r\n  border-radius: 50%;\r\n  width: 10em;\r\n  height: 10em;\r\n}\r\n.leloader {\r\n  margin: 60px auto;\r\n  font-size: 10px;\r\n  position: relative;\r\n  text-indent: -9999em;\r\n  border-top: 1.1em solid rgba(255, 255, 255, 0.2);\r\n  border-right: 1.1em solid rgba(255, 255, 255, 0.2);\r\n  border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);\r\n  border-left: 1.1em solid #e74c3c;\r\n  -webkit-transform: translateZ(0);\r\n  -ms-transform: translateZ(0);\r\n  transform: translateZ(0);\r\n  -webkit-animation: load8 1.1s infinite linear;\r\n  animation: load8 1.1s infinite linear;\r\n}\r\n@-webkit-keyframes load8 {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n@keyframes load8 {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OccupationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OccupationForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OccupationForm.vue?vue&type=template&id=4b89e204&scoped=true&\"\nimport script from \"./OccupationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./OccupationForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OccupationForm.vue?vue&type=style&index=0&id=4b89e204&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b89e204\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-sm d-inline-block float-md-left mr-1 mb-1 align-top\"},[_c('form',{attrs:{\"action\":\"\",\"onSubmit\":\"return false\"}},[_c('b-form-input',{staticStyle:{\"height\":\"40px\",\"width\":\"350px\",\"border-radius\":\"5px\"},attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder},on:{\"input\":function (data) { _vm.$emit('input', data) }},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}}),_vm._m(0)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-icon\",staticStyle:{\"height\":\"40px\",\"width\":\"50px\"},attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"ik ik-search\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"search-sm d-inline-block float-md-left mr-1 mb-1 align-top\">\r\n        <form action=\"\" onSubmit=\"return false\">\r\n            <b-form-input type=\"text\" :placeholder=\"placeholder\" @input=\"(data) => { $emit('input', data) }\" style=\"height: 40px; width: 350px; border-radius: 5px;\" v-model=\"val\" />\r\n            <button type=\"submit\" class=\"btn btn-icon\" style=\"height: 40px; width:50px;\"><i class=\"ik ik-search\"></i></button>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: \"SearchForm\",\r\n    props: {\r\n        placeholder: { type: String, default: \"Rechercher...\"},\r\n        value: { default: null, },\r\n    },\r\n    data: () => ({\r\n        val: null,\r\n    }),\r\n    mounted: () => {\r\n        console.log(\"ldldldld: \"+ \" this.value\")\r\n        console.log(JSON.parse(JSON.stringify(this.value)))\r\n        \r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchForm.vue?vue&type=template&id=394c7419&scoped=true&\"\nimport script from \"./SearchForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"394c7419\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}