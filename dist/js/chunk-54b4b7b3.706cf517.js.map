{"version":3,"sources":["webpack:///./src/views/gestion-immobiliere/Occupations.vue?87b2","webpack:///./src/components/_gestion-immobiliere/OccupationForm.vue?16e7","webpack:///src/components/_gestion-immobiliere/OccupationForm.vue","webpack:///./src/components/_gestion-immobiliere/OccupationForm.vue?a746","webpack:///./src/components/_gestion-immobiliere/OccupationForm.vue","webpack:///src/views/gestion-immobiliere/Occupations.vue","webpack:///./src/views/gestion-immobiliere/Occupations.vue?52bf","webpack:///./src/views/gestion-immobiliere/Occupations.vue","webpack:///./src/components/_gestion-immobiliere/OccupationForm.vue?7f14"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","directives","name","rawName","value","expression","domProps","on","$event","target","composing","search","_m","modifiers","preventDefault","addOccupation","apply","arguments","_v","showOverlay","occupations","length","_l","occupation","key","idOccupation","_s","locataire","idLocataire","nomLocataire","email","tel","profession","showDetails","offset","perPage","currentPage","page","limit","habitant","titre","_e","addedOccupation","staticRenderFns","ref","action","resetModal","submitModal","model","callback","$$v","loyer","options","$set","optionscharges","staticStyle","logements","setSlide_logement","selected_index_logement","logement","i","empty","photos","image","locataires","setSlide_locataire","selected_index_locataire","avatar","php","data","duree","selected_value","text","mode","energie","eau","puEnergie","puEau","idLogement","debut","sendForm","watch","computed","filter","elt","prixMin","prixMax","props","methods","val","index","$refs","logementCarousel","setSlide","locataireCarousel","bvModalEvt","annonce","join","description","App","error","axios","post","then","response","notif","success","message","hide","$emit","notifySuccess","catch","alertError","setTimeout","get","result","getInitialiseData","component","components","OccupationForm","commandeOccupation","trueOccupations","array_slice","getOccupations","$root","$on","console","log","$","modal","e"],"mappings":"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","file":"js/chunk-54b4b7b3.706cf517.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('page-description',{attrs:{\"title\":\"Occupations\",\"description\":\"Gestion de vos occupations\",\"icon\":\"fas fa-users\",\"path\":['Gestion Immobilière', 'Mes Occupations']}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"mb-2 clearfix\"},[_c('div',{staticClass:\"collapse d-md-block display-options\",attrs:{\"id\":\"displayOptions\"}},[_c('div',{staticClass:\"d-block d-md-inline-block\"},[_c('div',{staticClass:\"search-sm d-inline-block float-md-left mr-1 mb-1 align-top\"},[_c('form',{attrs:{\"action\":\"\",\"onSubmit\":\"return false\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Recherche...\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}}),_vm._m(0)])])]),_c('div',{staticClass:\"float-md-right\"},[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-lg\",modifiers:{\"modal-lg\":true}}],attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addOccupation.apply(null, arguments)}}},[_c('i',{staticClass:\"fa fa-plus-circle\"}),_vm._v(\" Définir une occupation\")])],1)])]),_c('div',{staticClass:\"separator mb-20\"}),_c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[(!_vm.occupations.length)?_c('b-alert',{staticClass:\"text-center\",attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('i',{staticClass:\"fa fa-exclamation-triangle fa-3x\"}),_vm._v(\" \"),_c('br'),_c('span',{staticClass:\"h4 d-inline-flex ml-2\"},[_vm._v(\"Vous n'avez défini aucune occupation pour le moment\")])]):_c('b-row',{staticClass:\"layout-wrap\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-hover table-bordered table-striped\",attrs:{\"id\":\"sampleTable\"}},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"id\")]),_c('th',[_vm._v(\"Avatar\")]),_c('th',[_vm._v(\"Nom\")]),_c('th',[_vm._v(\"E-Mail\")]),_c('th',[_vm._v(\"N° Téléphone\")]),_c('th',[_vm._v(\"Proféssion\")]),_c('th',[_vm._v(\"Actions\")])])]),_c('tbody',_vm._l((_vm.occupations),function(occupation){return _c('tr',{key:occupation.idOccupation},[_c('td',[_vm._v(_vm._s(_vm.locataire.idLocataire))]),_c('td',[_c('img',{staticClass:\"rounded-circle\",attrs:{\"src\":\"/img/profile-picture.jpg\",\"alt\":\"avatar\",\"width\":\"30\"}})]),_c('td',[_vm._v(_vm._s(_vm.locataire.nomLocataire))]),_c('td',[_vm._v(_vm._s(_vm.locataire.email))]),_c('td',[_vm._v(_vm._s(_vm.locataire.tel))]),_c('td',[_vm._v(_vm._s(_vm.locataire.profession))]),_c('td',[_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.top\",value:('Modifier'),expression:\"'Modifier'\",modifiers:{\"top\":true}}],attrs:{\"href\":\"#!\"}},[_c('i',{staticClass:\"ik ik-edit f-16 mr-15 text-green\"})]),_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.top\",value:('Supprimer'),expression:\"'Supprimer'\",modifiers:{\"top\":true}}],attrs:{\"href\":\"#!\"}},[_c('i',{staticClass:\"ik ik-trash-2 f-16 mr-15 text-red\"})]),_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.top\",value:('Détails'),expression:\"'Détails'\",modifiers:{\"top\":true}}],attrs:{\"href\":\"#!\"},on:{\"click\":function($event){$event.preventDefault();return _vm.showDetails.apply(null, arguments)}}},[_c('i',{staticClass:\"ik ik-eye f-16 text-blue\"})])])])}),0)])])])]),_c('paginator',{attrs:{\"hr\":\"top\",\"offset\":_vm.offset,\"total\":_vm.occupations.length,\"limit\":_vm.perPage,\"page\":_vm.currentPage},on:{\"pageChanged\":function (page) {_vm.currentPage = page},\"limitChanged\":function (limit) {_vm.perPage = limit}}})],1)],1)]),(_vm.occupation)?_c('div',{staticClass:\"modal fade edit-layout-modal\",attrs:{\"id\":\"editLayoutItem\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"editLayoutItemLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"editLayoutItemLabel\"}},[_vm._v(\"Détails de \"),_c('b',[_vm._v(_vm._s(_vm.habitant.titre))]),_vm._v(\" \"),_c('b',[_vm._v(_vm._s(_vm.habitant.nomLocataire))])]),_vm._m(1)]),_c('div',{staticClass:\"modal-body pt-2\"})])])]):_vm._e(),(_vm.commandeOccupation)?_c('occupation-form',{attrs:{\"action\":\"add\"},on:{\"occupationAdded\":_vm.addedOccupation}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-icon\",attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"ik ik-search\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{ref:\"occupation-modal\",attrs:{\"id\":\"modal-lg\",\"size\":\"lg\",\"ok-only\":\"\",\"ok-title\":\"Valider\",\"title\":_vm.action == 'add' ? 'Affecter une occupation' : 'Edition'},on:{\"hidden\":_vm.resetModal,\"ok\":_vm.submitModal}},[_c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Loyer\",\"description\":\"Combien devra payer le résident\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: 45000\",\"trim\":\"\"},model:{value:(_vm.loyer),callback:function ($$v) {_vm.loyer=$$v},expression:\"loyer\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Mode de paiement\",\"description\":\"Le résident devra t-il payer son loyer courant avant ou après l'avoir consommé\"}},[_c('b-form-radio-group',{attrs:{\"id\":\"radio-slots\",\"options\":_vm.options,\"name\":\"radio-options-slots\"},model:{value:(_vm.occupation.mode),callback:function ($$v) {_vm.$set(_vm.occupation, \"mode\", $$v)},expression:\"occupation.mode\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Comment s'effectuera la facturation en eau de ce résident\"}},[_c('b-form-select',{staticClass:\"mb-1\",attrs:{\"options\":_vm.optionscharges},model:{value:(_vm.occupation.eau),callback:function ($$v) {_vm.$set(_vm.occupation, \"eau\", $$v)},expression:\"occupation.eau\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Comment s'effectuera la facturation en électricité de ce résident\"}},[_c('b-form-select',{staticClass:\"mb-1\",attrs:{\"options\":_vm.optionscharges},model:{value:(_vm.occupation.energie),callback:function ($$v) {_vm.$set(_vm.occupation, \"energie\", $$v)},expression:\"occupation.energie\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Prix unitaire de l'energie\",\"description\":\"L'exemple suggéré suppose une consommation par forfait\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: 2500\",\"trim\":\"\"},model:{value:(_vm.occupation.puEnergie),callback:function ($$v) {_vm.$set(_vm.occupation, \"puEnergie\", $$v)},expression:\"occupation.puEnergie\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Prix unitaire de l'eau\",\"description\":\"l'exemple suggéré suppose une facturation par index du compteur\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: 150\",\"trim\":\"\"},model:{value:(_vm.occupation.puEau),callback:function ($$v) {_vm.$set(_vm.occupation, \"puEau\", $$v)},expression:\"occupation.puEau\"}})],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"5\"}},[_c('b-form-group',{attrs:{\"label\":\"Quel est le logement concerné par l'occupation\"}},[_c('div',{staticStyle:{\"height\":\"10.5em\"}},[_c('b-form-select',{staticClass:\"mb-1\",attrs:{\"options\":_vm.logements,\"value-field\":\"idLogement\",\"text-field\":\"refLogement\",\"disabled-field\":\"notEnabled\"},on:{\"input\":_vm.setSlide_logement},model:{value:(_vm.occupation.idLogement),callback:function ($$v) {_vm.$set(_vm.occupation, \"idLogement\", $$v)},expression:\"occupation.idLogement\"}}),_c('b-carousel',{ref:\"logementCarousel\",attrs:{\"interval\":0,\"controls\":\"\"},model:{value:(_vm.selected_index_logement),callback:function ($$v) {_vm.selected_index_logement=$$v},expression:\"selected_index_logement\"}},_vm._l((_vm.logements),function(logement,i){return _c('b-carousel-slide',{key:i,staticClass:\"fluid w-100 responsive border-0\",staticStyle:{\"height\":\"10.5em\"},attrs:{\"img-src\":_vm.empty(logement.photos) ? '/img/bgHousing.jpg' : logement.photos[0].image}})}),1)],1)])],1),_c('b-col',{attrs:{\"cols\":\"7\"}},[_c('b-form-group',{attrs:{\"label\":\"Qui est le résident pour lequel l'occupation est défini\"}},[_c('div',{staticStyle:{\"height\":\"10.5em\"}},[_c('b-form-select',{staticClass:\"mb-1\",attrs:{\"options\":_vm.locataires,\"value-field\":\"idLocataire\",\"text-field\":\"nomLocataire\",\"disabled-field\":\"notEnabled\"},on:{\"input\":_vm.setSlide_locataire},model:{value:(_vm.occupation.idLocataire),callback:function ($$v) {_vm.$set(_vm.occupation, \"idLocataire\", $$v)},expression:\"occupation.idLocataire\"}}),_c('b-carousel',{ref:\"locataireCarousel\",attrs:{\"interval\":0,\"controls\":\"\"},model:{value:(_vm.selected_index_locataire),callback:function ($$v) {_vm.selected_index_locataire=$$v},expression:\"selected_index_locataire\"}},_vm._l((_vm.locataires),function(locataire,i){return _c('b-carousel-slide',{key:i,staticClass:\"fluid w-100 responsive border-0\",staticStyle:{\"height\":\"10.5em\"},attrs:{\"img-src\":locataire.avatar}})}),1)],1)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-modal\r\n    id=\"modal-lg\"\r\n    size=\"lg\"\r\n    ok-only\r\n    ok-title=\"Valider\"\r\n    ref=\"occupation-modal\"\r\n    @hidden=\"resetModal\"\r\n    @ok=\"submitModal\"\r\n    :title=\"action == 'add' ? 'Affecter une occupation' : 'Edition'\"\r\n  >\r\n    <b-overlay :show=\"showOverlay\" rounded=\"sm\">\r\n      <b-row>\r\n        <b-col>\r\n            <b-form-group label=\"Loyer\" description=\"Combien devra payer le résident\" >\r\n                <b-form-input v-model=\"loyer\" placeholder=\"Ex: 45000\" trim></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col>\r\n          <b-form-group\r\n            label=\"Mode de paiement\"\r\n            description=\"Le résident devra t-il payer son loyer courant avant ou après l'avoir consommé\"\r\n          >\r\n             <b-form-radio-group\r\n                  id=\"radio-slots\"\r\n                  v-model=\"occupation.mode\"\r\n                  :options=\"options\"\r\n                  name=\"radio-options-slots\"\r\n              >\r\n              </b-form-radio-group>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group label=\"Comment s'effectuera la facturation en eau de ce résident\">\r\n              <b-form-select\r\n                v-model=\"occupation.eau\"\r\n                :options=\"optionscharges\"\r\n                class=\"mb-1\"\r\n              ></b-form-select>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col>\r\n          <b-form-group label=\"Comment s'effectuera la facturation en électricité de ce résident\">\r\n              <b-form-select\r\n                v-model=\"occupation.energie\"\r\n                :options=\"optionscharges\"\r\n                class=\"mb-1\"\r\n              ></b-form-select>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group\r\n            label=\"Prix unitaire de l'energie\"\r\n            description=\"L'exemple suggéré suppose une consommation par forfait\"\r\n          >\r\n            <b-form-input\r\n              v-model=\"occupation.puEnergie\"\r\n              placeholder=\"Ex: 2500\"\r\n              trim\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col>\r\n          <b-form-group\r\n            label=\"Prix unitaire de l'eau\"\r\n            description=\"l'exemple suggéré suppose une facturation par index du compteur\"\r\n          >\r\n            <b-form-input\r\n              v-model=\"occupation.puEau\"\r\n              placeholder=\"Ex: 150\"\r\n              trim\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col cols=\"5\">\r\n          <b-form-group label=\"Quel est le logement concerné par l'occupation\">\r\n            <div style=\"height: 10.5em\">\r\n                <b-form-select\r\n                v-model=\"occupation.idLogement\"\r\n                :options=\"logements\"\r\n                class=\"mb-1\"\r\n                @input=\"setSlide_logement\"\r\n                value-field=\"idLogement\"\r\n                text-field=\"refLogement\"\r\n                disabled-field=\"notEnabled\"\r\n              ></b-form-select>\r\n              <b-carousel :interval=\"0\" controls v-model=\"selected_index_logement\" ref=\"logementCarousel\">\r\n                <b-carousel-slide\r\n                  style=\"height: 10.5em\"\r\n                  class=\"fluid w-100 responsive border-0\"\r\n                  v-for=\"(logement, i) in logements\"\r\n                  :key=\"i\"\r\n                   :img-src=\"empty(logement.photos) ? '/img/bgHousing.jpg' : logement.photos[0].image\"\r\n                />\r\n              </b-carousel>\r\n            </div>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col cols=\"7\">\r\n          <b-form-group label=\"Qui est le résident pour lequel l'occupation est défini\">\r\n            <div style=\"height: 10.5em\">\r\n              <b-form-select\r\n                v-model=\"occupation.idLocataire\"\r\n                :options=\"locataires\"\r\n                class=\"mb-1\"\r\n                @input=\"setSlide_locataire\"\r\n                value-field=\"idLocataire\"\r\n                text-field=\"nomLocataire\"\r\n                disabled-field=\"notEnabled\"\r\n              ></b-form-select>\r\n              <b-carousel :interval=\"0\" controls v-model=\"selected_index_locataire\" ref=\"locataireCarousel\">\r\n                <b-carousel-slide\r\n                  style=\"height: 10.5em\"\r\n                  class=\"fluid w-100 responsive border-0\"\r\n                  v-for=\"(locataire, i) in locataires\"\r\n                  :key=\"i\"\r\n                  :img-src=\"locataire.avatar\"\r\n                />\r\n              </b-carousel>\r\n            </div>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n    </b-overlay>\r\n  </b-modal>\r\n</template>\r\n<script>\r\nimport notif from \"@/plugins/notif.js\";\r\nconst php = require(\"phpjs\");\r\n\r\nexport default {\r\n  name: \"occupation-form\",\r\n  data: () => ({\r\n    duree: [null, null],\r\n    selected_index_logement: -1,\r\n    selected_index_locataire: -1,\r\n    selected_value: \"\",\r\n    options: [\r\n          { text: 'Prépayé', value: 'prepayer' },\r\n          { text: 'Postpayé', value: 'postpayer' }\r\n    ],\r\n    optionscharges: [\r\n          { value: 'index', text: 'Index' },\r\n          { value: 'forfait', text: 'Forfait' },\r\n    ],\r\n    occupation: {\r\n      loyer: \"\",\r\n      mode: \"\",\r\n      energie: \"\",\r\n      eau: \"\",\r\n      puEnergie: \"\",\r\n      puEau: \"\",\r\n      idLogement:\"\",\r\n      debut:\"\"\r\n    },\r\n    showOverlay: false,\r\n    sendForm: false,\r\n    logements: [],\r\n    locataires: []\r\n  }),\r\n  watch: {\r\n    selected_index_logement(value) {\r\n      this.occupation.idLogement = this.logements[value].idLogement;\r\n    },\r\n     selected_index_locataire(value) {\r\n      this.occupation.idLocataire = this.locataires[value].idLocataire;\r\n    }\r\n  },\r\n    computed: {\r\n        loyer: {\r\n            get() {\r\n                const logement = this.logements.filter(elt => elt.idLogement == this.occupation.idLogement)[0]\r\n                if (!logement) {\r\n                    return 0;\r\n                }\r\n                return (logement.prixMin + logement.prixMax) / 2\r\n            },\r\n            set(value) {\r\n                this.occupation.loyer = value\r\n            }      \r\n        }\r\n    },\r\n  props: [\"action\"],\r\n  methods: {\r\n    empty(val) {\r\n        return php.empty(val)\r\n    },\r\n    /**\r\n     * Set l'image du carousel lorsqu'on change le logement\r\n     */\r\n    setSlide_logement(value) {\r\n      for (let index = 0; index < this.logements.length; index++) {\r\n        if (this.logements[index].idLogement == value) {\r\n          this.$refs.logementCarousel.setSlide(index);\r\n          break;\r\n        }\r\n      }\r\n    },\r\n    setSlide_locataire(value) {\r\n      for (let index = 0; index < this.locataires.length; index++) {\r\n        if (this.locataires[index].idLocataire == value) {\r\n          this.$refs.locataireCarousel.setSlide(index);\r\n          break;\r\n        }\r\n      }\r\n    },\r\n\r\n    resetModal() {\r\n      this.occupation = {\r\n        loyer: \"\",\r\n        mode: \"\",\r\n        energie: \"\",\r\n        eau: \"\",\r\n        puEnergie: \"\",\r\n        puEau: \"\",\r\n        idLogement: \"\",\r\n        idLocataire: \"\",\r\n        debut:\"\"\r\n      };\r\n    },\r\n\r\n    //validation formulaire d'ajout/modification d'una annonce\r\n    submitModal(bvModalEvt) {\r\n         this.annonce.duree = this.duree.join(\",\");\r\n      bvModalEvt.preventDefault();\r\n      if (php.empty(this.annonce.titre) || php.empty(this.annonce.description)|| php.empty(this.annonce.duree)) {\r\n                return App.error('Un titre, une description et une durée sont obligatoires')\r\n      }\r\n      if (this.annonce.titre.length <20) {\r\n        return App.error('Le titre doit contenir au moins 20 caractères')\r\n      }\r\n      if (this.annonce.description.length<200) {\r\n        return App.error('La description doit contenir au moins 200 caractères')\r\n      }\r\n      if (this.action == \"add\") {\r\n        this.showOverlay = true;\r\n          axios\r\n            .post(\"annonces\", this.annonce)\r\n            .then(response => {\r\n              notif.success(response.message);\r\n              this.$refs[\"annonce-modal\"].hide();\r\n              this.$emit(\"annonceAdded\");\r\n              return App.notifySuccess(response.message);\r\n            })\r\n            .catch(error => {\r\n              return App.alertError(error.message);\r\n            });\r\n            setTimeout(() => {\r\n                this.showOverlay = false;\r\n            }, 500);\r\n            \r\n      }\r\n    },\r\n   async getInitialiseData(){\r\n     //this.showOverlay = true\r\n        try {\r\n           this.logements = await axios.get(\"logements\").then(response => response.result || []);\r\n        } catch (error) {\r\n           notif.error(error.message);\r\n        }\r\n        try {\r\n           this.locataires = await axios.get(\"locataires\").then(response => response.result || []);\r\n        } catch (error) {\r\n           notif.error(error.message);\r\n        }\r\n        if (this.logements[0]) {\r\n            this.occupation.idLogement = this.logements[0].idLogement;\r\n        }\r\n        if (this.locataires[0]) {\r\n            this.occupation.idLogement = this.logements[0].idLogement;\r\n        }\r\n        //this.showOverlay = false\r\n    },\r\n  \r\n  },\r\n  async mounted() {\r\n    await this.getInitialiseData();\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n@font-face {\r\n  font-family: \"font-1\";\r\n  src: url(/fonts/rampart-one-Font/RampartOne-Regular.ttf);\r\n}\r\n.text-form-annone {\r\n  font-family: \"font-1\", sans-serif;\r\n  font-size: 2.1em;\r\n  color: #0a0701fa;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OccupationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OccupationForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OccupationForm.vue?vue&type=template&id=a4226b64&scoped=true&\"\nimport script from \"./OccupationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./OccupationForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OccupationForm.vue?vue&type=style&index=0&id=a4226b64&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a4226b64\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container-fluid\">\r\n    <!--page header start -->\r\n    <page-description title=\"Occupations\" description=\"Gestion de vos occupations\" icon=\"fas fa-users\" :path=\"['Gestion Immobilière', 'Mes Occupations']\" />\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <div class=\"mb-2 clearfix\">\r\n                    <div class=\"collapse d-md-block display-options\" id=\"displayOptions\">               \r\n                        <div class=\"d-block d-md-inline-block\">\r\n                            <div class=\"search-sm d-inline-block float-md-left mr-1 mb-1 align-top\">\r\n                                <form action=\"\" onSubmit=\"return false\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Recherche...\" v-model=\"search\">\r\n                                    <button type=\"submit\" class=\"btn btn-icon\"><i class=\"ik ik-search\"></i></button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"float-md-right\">\r\n                            <b-button variant=\"danger\"  @click.prevent=\"addOccupation\"  v-b-modal.modal-lg><i class=\"fa fa-plus-circle\"></i> Définir une occupation</b-button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"separator mb-20\"></div>\r\n                <b-overlay :show=\"showOverlay\" rounded=\"sm\">\r\n                    <b-alert variant=\"info\" class=\"text-center\" show v-if=\"!occupations.length\">\r\n                        <i class=\"fa fa-exclamation-triangle fa-3x\"></i> <br>\r\n                        <span class=\"h4 d-inline-flex ml-2\">Vous n'avez défini aucune occupation pour le moment</span>\r\n                    </b-alert> \r\n                    <b-row v-else class=\"layout-wrap\">\r\n                        <!--<b-col v-for=\"(habitant, i) in habitants\" :key=\"habitant.idHabitant || i\" cols=\"6\" class=\"animated flipInX mb-4\">\r\n                            <habitant-component @makeUpdate=\"updateHabitant\" @deleted=\"removeHabitant\" :habitant=\"habitant\" @showDetails=\"showDetails\" />\r\n                            ok\r\n                        </b-col>-->\r\n                        <div class=\"card-body\">\r\n                            <div class=\"table-responsive\">\r\n                                <table class=\"table table-hover table-bordered table-striped\" id=\"sampleTable\">\r\n                                <thead>\r\n                                    <tr>\r\n                                    <th>id</th>\r\n                                    <th>Avatar</th>\r\n                                    <th>Nom</th>\r\n                                    <th>E-Mail</th>\r\n                                    <th>N° Téléphone</th>\r\n                                    <th>Proféssion</th>\r\n                                    <th>Actions</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr v-for=\"occupation in occupations\" :key=\"occupation.idOccupation\">\r\n                                    <td>{{locataire.idLocataire}}</td>\r\n                                    <td><img src=\"/img/profile-picture.jpg\" alt=\"avatar\" width=\"30\" class=\"rounded-circle\"></td>\r\n                                   <!--<td><img :src=\"locataire.avatar\" alt=\"avatar\" width=\"30\" class=\"rounded-circle\"></td>--> \r\n                                    <td>{{locataire.nomLocataire}}</td>\r\n                                    <td>{{locataire.email}}</td>\r\n                                    <td>{{locataire.tel}}</td>\r\n                                    <td>{{locataire.profession}}</td>\r\n                                    <td>\r\n                                        <a href=\"#!\" v-b-tooltip.top=\"'Modifier'\"><i class=\"ik ik-edit f-16 mr-15 text-green\"></i></a>\r\n                                        <a href=\"#!\" v-b-tooltip.top=\"'Supprimer'\"><i class=\"ik ik-trash-2 f-16 mr-15 text-red\"></i></a>\r\n                                        <a href=\"#!\" v-b-tooltip.top=\"'Détails'\" @click.prevent=\"showDetails\"><i class=\"ik ik-eye f-16 text-blue\"></i></a>\r\n                                    </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </b-row>\r\n                    <paginator hr=\"top\" :offset=\"offset\" :total=\"occupations.length\" :limit=\"perPage\" :page=\"currentPage\" @pageChanged=\"(page) => {currentPage = page}\" @limitChanged=\"(limit) => {perPage = limit}\" />                   \r\n                </b-overlay>\r\n            </div>\r\n        </div>\r\n        <!-- MODALE POUR AFFICHER LES DETAILS D'UNE OCCUPATION -->\r\n        <div v-if=\"occupation\" class=\"modal fade edit-layout-modal\" id=\"editLayoutItem\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"editLayoutItemLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"editLayoutItemLabel\">Détails de <b>{{ habitant.titre }}</b> <b>{{ habitant.nomLocataire }}</b></h5>\r\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n                    </div>\r\n                    <div class=\"modal-body pt-2\">\r\n                        <!-- <details-habitant :habitant=\"habitant\" /> -->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n     \r\n  \r\n       <occupation-form v-if=\"commandeOccupation\" action=\"add\" @occupationAdded=\"addedOccupation\" />\r\n  </div>\r\n</template>\r\n<script>\r\n  import OccupationForm from \"@/components/_gestion-immobiliere/OccupationForm.vue\";\r\n//   import DetailsOccupation from '@/components/_patrimoine/DetailsOccupation.vue'\r\n\r\n  const php  = require ( 'phpjs' ) ; \r\n\r\nexport default {\r\n  name: \"list-occupations\",\r\n  components: {\r\n      OccupationForm,\r\n  //  DetailsOccupation,\r\n  },\r\n  data: () => ({\r\n     action:\"add\",\r\n     commandeOccupation:false,\r\n     search: null,\r\n     showOverlay: true,\r\n     currentPage: 1,\r\n     perPage: 4,\r\n     occupation: null,\r\n     occupations:[],\r\n     trueOccupations:[]\r\n\r\n  }),\r\n  computed: {\r\n        /**\r\n         * Elements affichés avec prise en charge de la pagination\r\n         */\r\n        items() { \r\n            return php.array_slice(this.occupations, this.offset, this.perPage) \r\n        },\r\n        offset() {\r\n            return (this.currentPage * this.perPage) - this.perPage\r\n        }\r\n    },\r\n\r\n    beforeMount() {\r\n        this.getOccupations()\r\n    },\r\n    mounted(){\r\n        this.$root.$on(\"new-occupation-added\", () => {\r\n         this.getOccupations();\r\n         this.commandeOccupation=false;\r\n     });\r\n    },\r\n    methods: {\r\n        sendData(){\r\n            \r\n        },\r\n\r\n        addOccupation(){\r\n            this.action=\"add\";\r\n            this.commandeOccupation=true;\r\n        },\r\n        addedOccupation(){\r\n            console.log(\"occupation ajoutée\")\r\n        },\r\n    //recupération de la liste des logements\r\n     getOccupations() {\r\n            axios.get('occupations').then(response => response.result || []).then(occupations => {\r\n                this.occupations = this.occupations = occupations\r\n                this.showOverlay = false\r\n            })\r\n     },\r\n     addHabitant(){\r\n         this.commandeOccupation=true;\r\n     },\r\n     updateOccupation(occupation) {\r\n           console.log(\"occupation\",occupation)\r\n      },\r\n      removeOccupation(occupation) {\r\n           console.log(\"occupation\",occupation)\r\n      },\r\n      showDetails(occupation) {\r\n        this.occupation = occupation\r\n        setTimeout(() => {\r\n            $('#editLayoutItem').modal('show')\r\n            $('#editLayoutItem').on('hide.bs.modal', (e) => {\r\n                this.occupation = null\r\n            })\r\n            $('#editLayoutItem').on('hidden.bs.modal', (e) => {\r\n                this.occupation = null\r\n            })\r\n        }, 100)          \r\n      },\r\n  \r\n      \r\n    \r\n    \r\n  }\r\n\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Occupations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Occupations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Occupations.vue?vue&type=template&id=dfd0f05a&\"\nimport script from \"./Occupations.vue?vue&type=script&lang=js&\"\nexport * from \"./Occupations.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OccupationForm.vue?vue&type=style&index=0&id=a4226b64&scoped=true&lang=css&\""],"sourceRoot":""}