{"version":3,"sources":["webpack:///./src/views/gestion-immobiliere/depenses/DepenseForm.vue?d3e2","webpack:///./src/views/gestion-immobiliere/depenses/Depense.vue?bcf6","webpack:///src/views/gestion-immobiliere/depenses/Depense.vue","webpack:///./src/views/gestion-immobiliere/depenses/Depense.vue?5f65","webpack:///./src/views/gestion-immobiliere/depenses/Depense.vue","webpack:///./src/views/logements/ListLogements.vue?60dc","webpack:///./src/views/logements/ListLogements.vue?55bd","webpack:///./src/views/logements/LoadCsv.vue?bf29","webpack:///src/views/logements/LoadCsv.vue","webpack:///./src/views/logements/LoadCsv.vue?eff0","webpack:///./src/views/logements/LoadCsv.vue","webpack:///./src/components/_patrimoine/DetailsLogement.vue?d093","webpack:///src/components/_patrimoine/DetailsLogement.vue","webpack:///./src/components/_patrimoine/DetailsLogement.vue?60a3","webpack:///./src/components/_patrimoine/DetailsLogement.vue","webpack:///src/views/logements/ListLogements.vue","webpack:///./src/views/logements/ListLogements.vue?da37","webpack:///./src/views/logements/ListLogements.vue","webpack:///./src/views/gestion-immobiliere/depenses/DepenseForm.vue?eaf4","webpack:///src/views/gestion-immobiliere/depenses/DepenseForm.vue","webpack:///./src/views/gestion-immobiliere/depenses/DepenseForm.vue?6dc7","webpack:///./src/views/gestion-immobiliere/depenses/DepenseForm.vue","webpack:///./src/components/_patrimoine/DetailsLogement.vue?27a6","webpack:///./node_modules/@flatfile/vuejs/dist/vuejs.umd.js","webpack:///./node_modules/vue-json-excel/dist/vue-json-excel.esm.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","depense","photo","_v","_s","php","ucfirst","motif","toLowerCase","directives","name","rawName","value","expression","modifiers","montant","$dayjs","dateDepense","format","source","cite","_m","nomCite","_e","batiment","nomBatiment","logement","refLogement","observation","isSub","on","$event","preventDefault","showDetails","apply","arguments","accessTo","$emit","remove","staticRenderFns","props","type","Object","required","Boolean","default","Number","computed","day","$date","createdAt","methods","$","modal","$router","push","query","target","idDepense","App","confirm","axios","delete","then","response","success","notifySuccess","message","notifyError","component","model","callback","$$v","filtre_categories","_l","tl","i","key","libelleType","stl","j","idSousType","libelleSousType","search","loadCsv","licenseKey","customer","settings","onData","showOverlay","logements","length","idLogement","cloneLogement","updateLogement","removeLogement","offset","perPage","currentPage","page","limit","validateClone","resetCloneForm","scopedSlots","_u","fn","ref","ok","clone","submitted","$set","class","error","c","b","idBatiment","title","proxy","action","addedLogement","editSuccessfull","resetLogementFormProps","resetModal","dataForExcel","finishDownload","stopPropagation","handleSubmit","tousLesBatiments","requiredSousType","sousTypesLogements","data","getLogementsData","get","result","console","log","$refs","hide","active","section","adresse","pays","ville","quartier","lat","parseFloat","lng","lon","marker","sousTypeLogement","slice","idCaracteristique","valeur","libelleCaracteristique","descLogement","photos","goUp","goDown","currentPicture","prixMin","prixMax","annonces","annonce","idAnnonce","publish","titreAnnonce","tags","split","tag","depenses","removeDepense","provenance","addedDepense","occupations","occupation","idOccupation","locataire","avatar","dateFin","goToDetailLocataire","goToDetaiOccupation","titre","nomLocataire","prenomLocataire","tel","email","cniLocataire","dateNaiss","dateDeb","components","VueEasyLightbox","VueUploadMultipleImage","Depense","DepenseForm","GmapCustomMarker","section_photo","index","visible","images","commandeDepense","newPhotos","map","elt","image","caracteristiques","filter","parseInt","array_slice","setTimeout","idLocataire","formData","fileList","width","document","querySelector","offsetHeight","querySelectorAll","style","height","indexOf","AddLogement","Logement","DetailsLogement","FlatfileButton","LoadCsv","SearchForm","disableManualInput","displayEncoding","fields","label","validators","validate","userId","overrides","manual","dropzone","button","commandeLoadCsv","trueLogements","typesLogements","cites","enabled","nbr","housingToUpload","watch","empty","includes","getHousing","$bvModal","begin","autoAddTarget","batiments","autoDetailsTarget","formLogement","$route","show","window","history","replaceState","location","href","bvModalEvt","post","catch","alertError","e","errorState","$data","nom","description","libelle","nombreChambres","nombreDouches","nombreParkings","Promise","resolve","reject","showOverlayP","onrecuLoad","ariaDescribedby","options","disableState","setAction","commandeAction","disabled","id","submitModal","text","date","responsable","obs","showSelectCite","showSelectBatiment","showSelectLogement","sendForm","DatePicker","String","fileDepense","getBase64","notif","idCite","file","reader","FileReader","readAsDataURL","onload","onerror","root","factory","module","exports","self","modules","installedModules","__webpack_require__","moduleId","l","call","m","d","getter","o","defineProperty","enumerable","r","Symbol","toStringTag","t","mode","__esModule","ns","create","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","getCurrentScript","descriptor","getOwnPropertyDescriptor","currentScript","Error","err","pageSource","inlineScriptSourceRegExp","inlineScriptSource","ieStackRegExp","ffStackRegExp","stackDetails","exec","stack","scriptLocation","line","currentLocation","replace","hash","scripts","getElementsByTagName","documentElement","outerHTML","RegExp","trim","readyState","src","innerHTML","g","Function","__webpack_exports__","global","commonjsGlobal","unwrapExports","x","createCommonjsModule","finallyConstructor","constructor","reason","allSettled","arr","P","TypeError","args","Array","remaining","res","val","status","setTimeoutFunc","isArray","noop","thisArg","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","promise","newValue","finale","_unhandledRejectionFn","len","Handler","done","ex","prom","all","race","setImmediate","warn","globalNS","contains","other","node","parentNode","registerDocumentContainsPolyfill","getPrototypeOf","extendStatics","setPrototypeOf","__proto__","__extends","__","__assign","assign","__awaiter","_arguments","generator","adopt","fulfilled","step","next","rejected","__generator","body","f","y","_","sent","trys","ops","verb","iterator","v","op","pop","eventemitter3","has","prefix","Events","EE","context","once","addListener","emitter","event","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","names","getOwnPropertySymbols","concat","listeners","handlers","ee","listenerCount","emit","a1","a2","a3","a4","a5","removeListener","removeAllListeners","off","prefixed","eventemitter3_1","loadedStates","whenDomReady","doc","addEventListener","resume","containers","styleElements","usage","insertCss","css","styleElement","position","prepend","container","containerId","createStyleElement","insertBefore","childNodes","appendChild","charCodeAt","substr","styleSheet","cssText","textContent","createElement","setAttribute","insertCss_1","insertCss_2","elementClass","opts","ElementClass","prop","nodeType","el","add","className","classes","join","idx","splice","toggle","lib","ERR_IFRAME_ALREADY_ATTACHED_TO_DOM","ERR_NOT_IN_IFRAME","ERR_CONNECTION_TIMEOUT","ERR_CONNECTION_DESTROYED","HANDSHAKE","HANDSHAKE_REPLY","CALL","REPLY","FULFILLED","REJECTED","MESSAGE","DATA_CLONE_ERROR","CHECK_IFRAME_IN_DOC_INTERVAL","DEFAULT_PORTS","URL_REGEX","Penpal","debug","generateId","_console","_len","_key","getOriginFromUrl","url","protocol","hostname","port","regexResult","portSuffix","DestructionPromise","executor","forEach","handler","serializeError","_ref","deserializeError","obj","deserializedError","keys","connectCallSender","callSender","info","methodNames","destroy","destructionPromise","localName","local","remote","remoteOrigin","destroyed","createMethodProxy","methodName","_len2","_key2","closed","code","handleMessageEvent","origin","penpal","removeEventListener","returnValue","returnValueIsError","resolution","postMessage","reduce","api","connectCallReceiver","_event$data","createPromiseHandler","connectToChild","_ref2","appendTo","iframe","_ref2$methods","timeout","connectionDestructionPromise","resolveConnectionDestructionPromise","parent","childOrigin","resolveConnectionPromise","connectionTimeoutId","receiverMethodNames","destroyCallReceiver","handleMessage","child","contentWindow","callReceiverDestructionPromise","resolveCallReceiverDestructionPromise","receiverMethodName","clearTimeout","checkIframeInDocIntervalId","setInterval","clearInterval","removeChild","connectToParent","_ref3","_ref3$parentOrigin","parentOrigin","_ref3$methods","top","_default","Stats","meta","$meta","count_rows","configurable","count_rows_accepted","count_columns","count_columns_matched","EndUser","$user","companyName","companyId","UploadFile","$file","filename","filesize","filetype","StreamedResults","validData","valid","deleted","Math","ceil","totalChunks","currentChunk","inChunks","pointer","chunkSize","hasMore","Results","importer","$importer","blobOnly","batchID","endUser","originalFile","csvFile","managed","config","parsing_config","skipped_rows","headers_raw","headers_matched","custom_columns","category_field_map","failure_reason","submitted_at","failed_at","created_at","stylesheet","method","alt","nextChunk","_this","$ready","results","FlatfileImporter$1","_super","FlatfileImporter","apiKey","$fieldHooks","$stepHooks","uuid","$generateUuid","$resolver","$rejecter","initialize","setMountUrl","MOUNT_URL","setVersion","version","open","bulkInit","hasRecordHook","$recordHook","hasInteractionEventCallback","$interactionEventCallback","stepHooks","fieldHooks","field","getElementById","display","load","cleanup","loadRejectHandler","loadResolveHandler","rows","requestDataFromUser","expectsExpandedResults","responsePromise","displayLoader","msg","displayError","requestCorrectionsFromUser","corrections","displaySuccess","handleSuccess","setCustomer","setLanguage","lang","addVirtualField","registerRecordHook","registerNetworkErrorCallback","$networkErrorCallback","registerBeforeFetchCallback","$beforeFetchCallback","registerInteractionEventCallback","registerFieldHook","registerStepHook","close","handleClose","insertAdjacentHTML","handshake","complete","networkErrorCallback","beforeFetchCallback","req","interactionEventCallback","dataHookCallback","row","_a","bulkHookCallback","fieldHookCallback","values","fieldHook","find","stepHookCallback","payload","_b","ready","setUser","random","toString","substring","match","launch","_t","hasSlotData","browser","FlatfileButtonvue_type_script_lang_js_","validator","onCancel","onInteractionEvent","onBeforeFetch","onRecordChange","onRecordInit","preload","mountUrl","flatfileImporter","loaded","importerLoaded","mounted","loadImporter","hasDefaultSlot","$slots","tempImporter","record","eventType","dataHandler","_this$onData","_this2","optionalMessage","_this2$flatfileImport","_this2$flatfileImport2","current","_this2$flatfileImport3","_this2$onCancel","_this3","validateInputs","_this3$onCancel","loadOptions","_this3$onCancel2","_this$customer","_this$settings","_this$settings2","isImporterLoaded","components_FlatfileButtonvue_type_script_lang_js_","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","download","strFileName","strMimeType","blob","defaultMime","mimeType","anchor","a","myBlob","Blob","MozBlob","WebKitBlob","fileName","ajax","XMLHttpRequest","responseType","send","test","navigator","msSaveBlob","dataUrlToBlob","saver","tempUiArr","Uint8Array","mx","strUrl","parts","decoder","atob","decodeURIComponent","binData","uiArr","winMode","click","URL","revokeObjectURL","userAgent","createObjectURL","btoa","encodeURIComponent","script","exportFields","defaultValue","header","footer","fetch","worksheet","beforeGenerate","beforeFinish","escapeCsv","stringifyLongNum","now","Date","getTime","json","getProcessedJson","downloadFields","export","jsonToXLS","jsonToCSV","async","mime","base64ToBlob","xlsTemp","xlsData","colspan","$attrs","parseExtraData","item","preprocessLongNum","valueReformattedForMultilines","csvData","escapedCSV","getKeys","newData","newItem","getValue","extraData","parseData","indexes","getValueFromNestedItem","parseValue","getValueFromCallback","startsWith","isNaN","nestedItem","base64","unescape","bstr","u8arr","Uint8ClampedArray","template","isFunctionalTemplate","createInjector","createInjectorSSR","createInjectorShadow","normalizeComponent_1","__vue_script__","__vue_render__","idName","generate","__vue_staticRenderFns__","_withStripped","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","JsonExcel"],"mappings":"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","file":"js/chunk-5580d1d6.53743ec1.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepenseForm.vue?vue&type=style&index=0&id=47a744a2&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card d-flex flex-row justify-justify-content-start align-items-start\"},[_c('a',{staticClass:\"d-flex card-img\",attrs:{\"href\":\"#editLayoutItem\",\"data-toggle\":\"modal\",\"data-target\":\"#editLayoutItem\"}},[_c('img',{staticClass:\"list-thumbnail responsive border-0\",staticStyle:{\"height\":\"10em\"},attrs:{\"src\":_vm.depense.photo || '/img/depenseImage.jpg',\"alt\":\"\"}})]),_c('div',{staticClass:\"d-flex flex-grow-1 min-width-zero card-content\"},[_c('div',{staticClass:\"card-body align-self-center d-flex flex-column justify-content-between min-width-zero align-items-md-center\"},[_c('div',{staticClass:\"list-item-heading mb-1 truncate w-100 w-xs-100\",attrs:{\"href\":\"#editLayoutItem\",\"data-toggle\":\"modal\",\"data-target\":\"#editLayoutItem\"}},[_c('h5',{staticClass:\"text-red\"},[_vm._v(_vm._s(_vm.php.ucfirst(_vm.depense.motif.toLowerCase())))]),_c('div',{staticClass:\"d-flex\"},[_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.bottom\",value:('Montant de la dépense'),expression:\"'Montant de la dépense'\",modifiers:{\"bottom\":true}}],staticClass:\"text-muted small date mr-3\"},[_c('i',{staticClass:\"fa fa-dollar-sign\"}),_vm._v(\" \"+_vm._s(_vm.depense.montant)+\" F\")]),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.bottom\",value:('Date de l\\'opération'),expression:\"'Date de l\\\\'opération'\",modifiers:{\"bottom\":true}}],staticClass:\"text-muted small date ml-3\"},[_c('i',{staticClass:\"far fa-calendar-alt\"}),_vm._v(\" \"+_vm._s(_vm.$dayjs(_vm.depense.dateDepense).format('DD MMMM YYYY'))+\" \")])]),_c('div',{staticClass:\"w-100\"},[(_vm.depense.etatDepense)?_c('span',{staticClass:\"badge badge-pill badge-success\"}):_c('span',{staticClass:\"badge badge-danger small\"},[_vm._v(\"Non traitée\")])])]),_c('div',{staticClass:\"card-content w-100\"},[_c('hr'),(_vm.source==0)?_c('div',[(_vm.depense.cite !==null)?_c('div',{staticClass:\"text-muted w-100 my-1\"},[_vm._m(0),_c('span',[_vm._v(\"Cité :\"+_vm._s(_vm.depense.cite.nomCite)+\" \")])]):_vm._e(),(_vm.depense.batiment !==null)?_c('div',{staticClass:\"text-muted w-100 my-1\"},[_vm._m(1),_c('span',[_vm._v(\"Batiment :\"+_vm._s(_vm.depense.batiment.nomBatiment)+\" \")])]):_vm._e(),(_vm.depense.logement !==null)?_c('div',{staticClass:\"text-muted w-100 my-1\"},[_vm._m(2),_c('span',[_vm._v(\"Logement :\"+_vm._s(_vm.depense.logement.refLogement)+\" \")])]):_vm._e()]):_vm._e(),(_vm.depense.observation)?_c('div',{staticClass:\"jumbotron pt-5 pb-5 px-3 my-0\"},[_c('p',{staticClass:\"text-muted text-small\"},[_vm._v(_vm._s(_vm.depense.observation))])]):_vm._e()])]),_c('div',{staticClass:\"list-actions\"},[(!_vm.isSub)?_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.showDetails.apply(null, arguments)}}},[_c('i',{staticClass:\"ik ik-eye\"})]):_vm._e(),(_vm.isSub)?_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.accessTo.apply(null, arguments)}}},[_c('i',{staticClass:\"ik ik-link\"})]):_vm._e(),(!_vm.isSub)?_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('makeUpdate', _vm.depense)}}},[_c('i',{staticClass:\"ik ik-edit-2\"})]):_vm._e(),_c('a',{staticClass:\"list-delete\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.remove.apply(null, arguments)}}},[_c('i',{staticClass:\"ik ik-trash-2\"})])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"d-inline-block w-10 text-center\"},[_c('i',{staticClass:\"fas fa-city\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"d-inline-block w-10 text-center\"},[_c('i',{staticClass:\"fa fa-building\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"d-inline-block w-10 text-center\"},[_c('i',{staticClass:\"fas fa-home\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"card d-flex flex-row justify-justify-content-start align-items-start\">\r\n\t\t<a class=\"d-flex card-img\" href=\"#editLayoutItem\" data-toggle=\"modal\" data-target=\"#editLayoutItem\">\r\n\t\t\t<img :src=\"depense.photo || '/img/depenseImage.jpg'\" alt=\"\" style=\"height: 10em\" class=\"list-thumbnail responsive border-0\">\r\n\t\t</a>\r\n\t\t<div class=\"d-flex flex-grow-1 min-width-zero card-content\">\r\n            <div class=\"card-body align-self-center d-flex flex-column justify-content-between min-width-zero align-items-md-center\">\r\n                <div class=\"list-item-heading mb-1 truncate w-100 w-xs-100\" href=\"#editLayoutItem\" data-toggle=\"modal\" data-target=\"#editLayoutItem\">\r\n                    <h5 class=\"text-red\">{{ php.ucfirst(depense.motif.toLowerCase()) }}</h5>\r\n                    <div class=\"d-flex\">\r\n                        <span class=\"text-muted small date mr-3\" v-b-tooltip.bottom=\"'Montant de la dépense'\"><i class=\"fa fa-dollar-sign\"></i> {{ depense.montant }} F</span>\r\n                        <span class=\"text-muted small date ml-3\" v-b-tooltip.bottom=\"'Date de l\\'opération'\"><i class=\"far fa-calendar-alt\"></i> {{ $dayjs(depense.dateDepense).format('DD MMMM YYYY') }} </span>\r\n                    </div>\r\n                    <div class=\"w-100\">\r\n                        <span v-if=\"depense.etatDepense\" class=\"badge badge-pill badge-success\"></span>\r\n                        <span v-else class=\"badge badge-danger small\">Non traitée</span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-content w-100\">\r\n                    <hr>\r\n                    <div v-if=\"source==0\">\r\n                        <div v-if=\"depense.cite !==null\" class=\"text-muted w-100 my-1\">\r\n                            <span class=\"d-inline-block w-10 text-center\"><i class=\"fas fa-city\"></i></span>\r\n                            <span>Cité  :{{ depense.cite.nomCite }} </span>\r\n                        </div>\r\n                        <div v-if=\"depense.batiment !==null\" class=\"text-muted w-100 my-1\">\r\n                            <span class=\"d-inline-block w-10 text-center\"><i class=\"fa fa-building\"></i></span>\r\n                            <span>Batiment  :{{ depense.batiment.nomBatiment }} </span>\r\n                        </div>\r\n                        <div v-if=\"depense.logement !==null\" class=\"text-muted w-100 my-1\">\r\n                            <span class=\"d-inline-block w-10 text-center\"><i class=\"fas fa-home\"></i></span>\r\n                            <span>Logement  :{{ depense.logement.refLogement }} </span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"jumbotron pt-5 pb-5 px-3 my-0\" v-if=\"depense.observation\"><p class=\"text-muted text-small\">{{ depense.observation }}</p></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"list-actions\">\r\n                <a href=\"#\" @click.prevent=\"showDetails\" v-if=\"!isSub\"><i class=\"ik ik-eye\"></i></a>\r\n                <a href=\"#\" @click.prevent=\"accessTo\" v-if=\"isSub\"><i class=\"ik ik-link\"></i></a>\r\n                <a href=\"#\" @click.prevent=\"$emit('makeUpdate', depense)\" v-if=\"!isSub\" ><i class=\"ik ik-edit-2\"></i></a>\r\n                <a href=\"#\" @click.prevent=\"remove\" class=\"list-delete\"><i class=\"ik ik-trash-2\"></i></a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nconst php = require('phpjs')\r\nexport default {\r\n    props: {\r\n        depense: { type: Object, required: true },\r\n        isSub: {type: Boolean, default: false},\r\n        source:{type:Number, default:0}\r\n    },\r\n    computed: {\r\n        dateCreation() {\r\n            const day = this.$date(this.depense.createdAt)\r\n            return `Crée le ${day.format(\"dddd, DD MMMM YYYY\")} à ${day.format(\"HH:mm\")}`\r\n        },\r\n        php() {\r\n            return php;\r\n        }\r\n\r\n    },\r\n    methods: {\r\n        /**\r\n         * Affiche la modale avec les details de l'element\r\n         */\r\n        showDetails() {\r\n            if (this.isSub) {\r\n                return false\r\n            }\r\n            this.$emit('showDetails', this.depense)\r\n        },\r\n        /**\r\n         * Acces rapide aux details de l'element\r\n         */\r\n        accessTo() {\r\n            $('#editLayoutItem').modal('hide')\r\n            this.$router.push({name: 'depenses', query: {target: this.depense.idDepense}})\r\n        },\r\n        /**\r\n         * Suppression d'une dépense\r\n         */\r\n        remove() {\r\n            App.confirm(`Voullez vous vraiment supprimer la dépense \" <b>${this.depense.motif}</b> \" ?`, { confirm: () => {\r\n                axios.delete(`depenses/${this.depense.idDepense}`).then(response => {\r\n                    if (!response.success) {\r\n                        return App.notifyError(response.message)\r\n                    }\r\n                    this.$emit('deleted', this.depense.idDepense)\r\n                    return App.notifySuccess(response.message)\r\n                })\r\n            }})\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Depense.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Depense.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Depense.vue?vue&type=template&id=50e942d0&\"\nimport script from \"./Depense.vue?vue&type=script&lang=js&\"\nexport * from \"./Depense.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListLogements.vue?vue&type=style&index=0&id=3e9154bc&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"mb-2 clearfix\"},[_c('div',{staticClass:\"collapse d-md-block display-options\",attrs:{\"id\":\"displayOptions\"}},[_c('div',{staticClass:\"d-block d-md-inline-block\"},[_c('div',{staticClass:\"btn-group d-inline-block float-md-left mr-1 mb-1 \"},[_c('b-form-select',{staticStyle:{\"height\":\"40px\",\"width\":\"260px\",\"border-radius\":\"5px\",\"box-shadow\":\"none\"},model:{value:(_vm.filtre_categories),callback:function ($$v) {_vm.filtre_categories=$$v},expression:\"filtre_categories\"}},[_c('b-form-select-option',{attrs:{\"value\":null}},[_vm._v(\"Filtre de catégories\")]),_vm._l((_vm.typesLogements),function(tl,i){return _c('b-form-select-option-group',{key:i,attrs:{\"label\":tl.libelleType}},_vm._l((tl.sousTypesLogement),function(stl,j){return _c('b-form-select-option',{key:j,attrs:{\"value\":stl.idSousType}},[_vm._v(_vm._s(stl.libelleSousType))])}),1)})],2)],1),_c('SearchForm',{model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('div',{staticClass:\"float-md-right\"},[_c('btnAdd',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.logementForm\",modifiers:{\"logementForm\":true}}],attrs:{\"message\":\"Ajouter un logement\"}}),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.top\",value:('Télécharger un fichier modèle pour l\\'import de logements en masse'),expression:\"'Télécharger un fichier modèle pour l\\\\'import de logements en masse'\",modifiers:{\"top\":true}},{name:\"b-modal\",rawName:\"v-b-modal.modal-prevent-closing\",modifiers:{\"modal-prevent-closing\":true}}],staticClass:\"btn btn-info ml-4 dispose\",staticStyle:{\"height\":\"45px\"},on:{\"click\":function($event){$event.preventDefault();return _vm.loadCsv.apply(null, arguments)}}},[_c('i',{staticClass:\"fa fa-download\"})]),_c('flatfile-button',{staticClass:\"mt-2\",attrs:{\"licenseKey\":_vm.licenseKey,\"customer\":_vm.customer,\"settings\":_vm.settings,\"onData\":_vm.onData,\"type\":\"logement\"}},[_vm._v(\"Ajout de logements en masse\")])],1)])]),_c('div',{staticClass:\"separator mb-20\"}),_c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[(!_vm.logements.length)?_c('b-alert',{staticClass:\"text-center\",attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('i',{staticClass:\"fa fa-exclamation-triangle fa-3x\"}),_c('br'),_c('span',{staticClass:\"h4 d-inline-flex ml-2\"},[_vm._v(\"Aucun logement enregistré pour le moment\")])]):_c('b-row',{staticClass:\"layout-wrap\"},_vm._l((_vm.items),function(logement,i){return _c('b-col',{key:logement.idLogement || i,staticClass:\"animated flipInX mb-4\",attrs:{\"lg\":\"4\",\"cols\":\"12\",\"sm\":\"6\"}},[_c('logement',{attrs:{\"logement\":logement},on:{\"makeClone\":_vm.cloneLogement,\"makeUpdate\":_vm.updateLogement,\"deleted\":_vm.removeLogement,\"showDetails\":_vm.showDetails}})],1)}),1),_c('paginator',{attrs:{\"hr\":\"top\",\"offset\":_vm.offset,\"total\":_vm.logements.length || 0,\"limit\":_vm.perPage,\"page\":_vm.currentPage},on:{\"pageChanged\":function (page) {_vm.currentPage = page},\"limitChanged\":function (limit) {_vm.perPage = limit}}})],1)],1)]),(_vm.logement)?_c('div',{staticClass:\"modal fade edit-layout-modal\",attrs:{\"id\":\"editLayoutItem\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"editLayoutItemLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"editLayoutItemLabel\"}},[_vm._v(\" Détails du logement : \"),_c('b',[_vm._v(_vm._s(_vm.logement.refLogement))]),_vm._v(\". \")]),_vm._m(0)]),_c('div',{staticClass:\"modal-body pt-2\"},[_c('details-logement',{attrs:{\"logement\":_vm.logement}})],1)])])]):_vm._e(),(_vm.logement)?_c('div',[_c('b-modal',{attrs:{\"title\":'Clonner le logement ' + _vm.logement.refLogement},on:{\"ok\":_vm.validateClone,\"hidden\":_vm.resetCloneForm},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nreturn [_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\",\"disabled\":_vm.clone.submitted},on:{\"click\":function($event){return ok()}}},[_vm._v(\" Valider \"),(_vm.clone.submitted)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e()],1)]}}],null,false,2706565153),model:{value:(_vm.clone.enabled),callback:function ($$v) {_vm.$set(_vm.clone, \"enabled\", $$v)},expression:\"clone.enabled\"}},[_c('div',{staticClass:\"jumbotron pt-10 pb-10\"},[_c('p',[_vm._v(\"Le clonnage de logement vous permet d'ajouter une multitude de logement en se servant d'un logement pré-existant pour générer de nouveaux.\")])]),_c('b-form-group',{attrs:{\"description\":\"Entrez le nombre de logement à générer\",\"label\":\"Nombre de clone\"}},[_c('b-form-input',{class:{'is-invalid' : _vm.clone.error},attrs:{\"type\":\"number\",\"min\":1},model:{value:(_vm.clone.nbr),callback:function ($$v) {_vm.$set(_vm.clone, \"nbr\", $$v)},expression:\"clone.nbr\"}})],1),_c('b-form-group',{attrs:{\"description\":\"Selectionnez le batiment auquel sera rataché les logements générés\",\"label\":\"Batiment\"}},[_c('b-form-select',{model:{value:(_vm.clone.idBatiment),callback:function ($$v) {_vm.$set(_vm.clone, \"idBatiment\", $$v)},expression:\"clone.idBatiment\"}},[_c('b-form-select-option',{attrs:{\"value\":null}},[_vm._v(\"Pas de batiment\")]),_vm._l((_vm.cites),function(c,i){return _c('b-form-select-option-group',{key:i,attrs:{\"label\":c.nomCite}},_vm._l((c.batiments),function(b,j){return _c('b-form-select-option',{key:j,attrs:{\"value\":b.idBatiment}},[_vm._v(_vm._s(b.nomBatiment))])}),1)})],2)],1)],1)],1):_vm._e(),_c('b-modal',{ref:\"logement-form\",attrs:{\"id\":\"logementForm\",\"size\":\"lg\",\"title\":_vm.title,\"hide-footer\":\"\",\"no-close-on-backdrop\":\"\",\"hide-header-close\":\"\"},scopedSlots:_vm._u([{key:\"modal-title\",fn:function(){return [_c('span',{staticClass:\"ml-4 text-form-logement\"},[_vm._v(_vm._s(_vm.title))])]},proxy:true}])},[_c('div',[_c('add-logement',{attrs:{\"editLogement\":_vm.logement,\"action\":_vm.action},on:{\"logementAdded\":_vm.addedLogement,\"editSuccessfull\":_vm.editSuccessfull,\"closeLogementModal\":_vm.resetLogementFormProps}})],1)]),(_vm.commandeLoadCsv)?_c('load-csv'):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{ref:\"load-csv-modal\",attrs:{\"id\":\"modal-prevent-closing\",\"title\":\"Configurer votre fichier Modèle\"},on:{\"show\":_vm.resetModal,\"hidden\":_vm.resetModal},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('download-excel',{staticClass:\"btn btn-default\",attrs:{\"data\":_vm.dataForExcel,\"type\":\"csv\",\"name\":\"fichiermodel.xls\",\"before-finish\":_vm.finishDownload}},[_c('b-button',{staticClass:\"btn btn-info ml-4\"},[_c('i',{staticClass:\"fa fa-download\"}),_vm._v(\"Télécharger\")])],1)]},proxy:true}])},[_c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[_c('form',{ref:\"form\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Batiment associé\")]),_c('b-form-select',{staticClass:\"mb-3\",attrs:{\"options\":_vm.tousLesBatiments,\"value-field\":\"idBatiment\",\"text-field\":\"nomBatiment\",\"disabled-field\":\"notEnabled\"},model:{value:(_vm.idBatiment),callback:function ($$v) {_vm.idBatiment=$$v},expression:\"idBatiment\"}})],1),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Catégorie associée \")]),_c('b-form-select',{staticClass:\"mb-3\",class:!_vm.requiredSousType ? 'is-red' : '',attrs:{\"options\":_vm.sousTypesLogements || [],\"value-field\":\"idSousType\",\"text-field\":\"libelleSousType\"},model:{value:(_vm.idSousType),callback:function ($$v) {_vm.idSousType=$$v},expression:\"idSousType\"}}),(!_vm.requiredSousType)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Vous devez choisir au moins un sous-type\")]):_vm._e()],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-modal\r\n      id=\"modal-prevent-closing\"\r\n      ref=\"load-csv-modal\"\r\n      title=\"Configurer votre fichier Modèle\"\r\n      @show=\"resetModal\"\r\n      @hidden=\"resetModal\"\r\n    >\r\n        <b-overlay :show=\"showOverlay\" rounded=\"sm\">\r\n                <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\r\n                    <div class=\"form-group\">\r\n                        <label>Batiment associé</label>\r\n                        <b-form-select\r\n                            v-model=\"idBatiment\"\r\n                            :options=\"tousLesBatiments\"\r\n                            class=\"mb-3\"\r\n                            value-field=\"idBatiment\"\r\n                            text-field=\"nomBatiment\"\r\n                            disabled-field=\"notEnabled\"\r\n                        ></b-form-select>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label>Catégorie associée </label>\r\n                        <b-form-select\r\n                            v-model=\"idSousType\"\r\n                            :options=\"sousTypesLogements || []\"\r\n                            class=\"mb-3\"\r\n                            :class=\"!requiredSousType ? 'is-red' : ''\"\r\n                            value-field=\"idSousType\"\r\n                            text-field=\"libelleSousType\"\r\n                        ></b-form-select>\r\n                        <span v-if=\"!requiredSousType\" style=\"color:red;\">Vous devez choisir au moins un sous-type</span>\r\n                    </div>\r\n\r\n                    \r\n\r\n                </form>\r\n        </b-overlay>\r\n        <template #modal-footer>\r\n            <download-excel\r\n                class=\"btn btn-default\"\r\n                :data=\"dataForExcel\"\r\n                type=\"csv\"\r\n                name=\"fichiermodel.xls\"\r\n                :before-finish = \"finishDownload\">\r\n            \r\n                <b-button class=\"btn btn-info ml-4\"><i class=\"fa fa-download\"></i>Télécharger</b-button>\r\n            </download-excel>\r\n    \r\n    </template>\r\n    </b-modal>\r\n</template>\r\n<script>\r\n  import Vue from \"vue\";\r\n  import JsonExcel from \"vue-json-excel\";\r\n  Vue.component(\"downloadExcel\", JsonExcel);\r\nexport default {\r\n    name:'load-csv_model',\r\n    data:()=>({\r\n        tousLesBatiments:[],\r\n        idBatiment:\"\",\r\n        sousTypesLogements:[],\r\n        idSousType:\"\",\r\n        requiredSousType:true,\r\n        showOverlay:true,\r\n\r\n    }),\r\n    computed: {\r\n         dataForExcel() {\r\n             return [\r\n                {\"ref\": '',\"description\":'',\"prixMin\":'',\"prixMax\":'',\r\n                \"SousTypeLogement\": this.idSousType,\r\n                \"batiment\":this.idBatiment,\r\n                \"pays\":'',\r\n                \"ville\":'',\"quartier\":'',\"lat\":'',\"lon\":'',\"nombreChambres\":'',\"nombreCuisines\":'',\"nombreDouches\":'',\"nombreSalons\":'', \"nombreParkings\":''},\r\n                ]\r\n         },\r\n    },\r\n    async beforeMount() {\r\n        await this.getLogementsData()\r\n    },\r\n    methods:{\r\n        //je récupère la liste des sous-types de logements et des batiments\r\n        async getLogementsData(){\r\n            try {\r\n                 this.tousLesBatiments=await axios.get(\"batiments\").then(response => response.result)\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n            try {\r\n                 this.sousTypesLogements = await axios.get(\"soustypes-logements\").then(response => response.result);\r\n            } catch (error) {\r\n                 console.log(error);\r\n            }\r\n            this.showOverlay=false;\r\n        },\r\n        resetModal(){\r\n            this.idBatiment=\"\";\r\n        },\r\n        //methode permettant la gestion et la configuration du fichier modèle\r\n\r\n        finishDownload(){\r\n            this.$refs['load-csv-modal'].hide()\r\n        }\r\n\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadCsv.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadCsv.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoadCsv.vue?vue&type=template&id=19ad31f4&\"\nimport script from \"./LoadCsv.vue?vue&type=script&lang=js&\"\nexport * from \"./LoadCsv.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{staticClass:\"nav nav-tabs\"},[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",class:{ active: _vm.section == 'caracteristiques' },attrs:{\"data-toggle\":\"tab\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.section = 'caracteristiques'}}},[_vm._v(\"Caractéristiques\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",class:{ active: _vm.section == 'annonces' },attrs:{\"data-toggle\":\"tab\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.section = 'annonces'}}},[_vm._v(\"Annonces\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",class:{ active: _vm.section == 'depenses' || _vm.section == 'add-depense' },attrs:{\"data-toggle\":\"tab\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.section = 'depenses'}}},[_vm._v(\"Dépenses\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",class:{ active: _vm.section == 'locataire' },attrs:{\"data-toggle\":\"tab\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.section = 'locataire'}}},[_vm._v(\"Locataires\")])])]),_c('div',{staticClass:\"tab-content mt-3\"},[_c('div',{staticClass:\"tab-pane fade show active\"},[(_vm.section == 'caracteristiques')?_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('h2',{staticClass:\"text-capitalize font-weight-bold fs-4\"},[_vm._v(\"Localisation\")]),_c('b-row',{staticClass:\"rounded text-white py-2\",staticStyle:{\"margin\":\"0\",\"background\":\"#f5365c\"}},[_c('b-col',{attrs:{\"lg\":\"4\",\"md\":\"6\",\"sm\":\"12\"}},[_c('span',{staticClass:\"d-inline-block w-100 my-1\"},[_vm._v(\" Pays: \"),_c('b',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.logement.adresse != null ? _vm.logement.adresse.pays : (_vm.logement.batiment != null ? _vm.logement.batiment.adresse.pays : '')))])])]),_c('b-col',{attrs:{\"lg\":\"4\",\"md\":\"6\",\"sm\":\"12\"}},[_c('span',{staticClass:\"d-inline-block w-100 my-1\"},[_vm._v(\" Ville: \"),_c('b',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.logement.adresse != null ? _vm.logement.adresse.ville : (_vm.logement.batiment != null ? _vm.logement.batiment.adresse.ville : '')))])])]),_c('b-col',{attrs:{\"lg\":\"4\",\"md\":\"6\",\"sm\":\"12\"}},[_c('span',{staticClass:\"d-inline-block w-100 my-1\"},[_vm._v(\" Quartier: \"),_c('b',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.logement.adresse != null ? _vm.logement.adresse.quartier : (_vm.logement.batiment != null ? _vm.logement.batiment.adresse.quartier : '')))])])])],1),_c('b-container',{staticClass:\"mt-4 p-0\"},[_c('GmapMap',{staticClass:\"w-100\",staticStyle:{\"height\":\"340px\"},attrs:{\"center\":{\n              lat: parseFloat(_vm.logement.adresse != null ? _vm.logement.adresse.lat : (_vm.logement.batiment != null ? _vm.logement.batiment.adresse.lat || 0 : 0)),\n              lng: parseFloat(_vm.logement.adresse != null ? _vm.logement.adresse.lon : (_vm.logement.batiment != null ? _vm.logement.batiment.adresse.lon || 0 : 0)),\n            },\"zoom\":16}},[_c('gmap-custom-marker',{attrs:{\"marker\":_vm.marker}},[_c('img',{attrs:{\"src\":\"/img/mapMarker.png\"}})])],1)],1),_c('hr'),_c('h2',{staticClass:\"text-capitalize font-weight-bold fs-4\"},[_vm._v(\" Caractéristiques approfondies \")]),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('span',{staticClass:\"d-inline-block w-100 my-1\"},[_vm._v(\" Type de logement: \"),_c('b',[_vm._v(_vm._s(_vm.logement.sousTypeLogement.libelleSousType))])]),_c('span',{staticClass:\"d-inline-block w-100 text-muted\"},[_vm._v(\" Posté le : \"),_c('small',[_vm._v(_vm._s(_vm.logement.createdAt.slice(0, 10)))])])]),_c('b-col',{attrs:{\"cols\":\"12\"}},_vm._l((_vm.caracteristiques),function(c,i){return _c('b-badge',{key:c.idCaracteristique || i,staticClass:\"m-1 background\"},[_c('b',{staticClass:\"fa-lg\"},[_vm._v(_vm._s(c.valeur))]),_vm._v(\" \"+_vm._s(c.libelleCaracteristique)+\" \")])}),1)],1),_c('div',{staticClass:\"jumbotron pt-10 pb-10 mt-2 mb-0\"},[_c('p',{staticClass:\"description\"},[_vm._v(_vm._s(_vm.logement.descLogement))])]),_c('h2',{staticClass:\"text-capitalize font-weight-bold fs-4 my-4\"},[_vm._v(\"Photos\")]),_c('div',{staticClass:\"row my-4\"},[(!_vm.photos.length)?_c('div',{staticClass:\"col-md-12\"},[_c('div',{attrs:{\"id\":\"logement-main-img\"}},[_c('div',{staticClass:\"logement-preview\"},[_c('img',{attrs:{\"src\":\"/img/imagelogementdefault-.jpg\",\"alt\":\"\"}})])])]):_vm._e(),(_vm.photos.length > 1)?_c('div',{staticClass:\"col-md-3\"},[_c('div',{attrs:{\"id\":\"logement-imgs\"}},[_vm._l((_vm.newPhotos),function(photo,i){return _c('div',{key:i,staticClass:\"logement-preview logement-image\"},[_c('img',{attrs:{\"src\":photo,\"alt\":\"\"}})])}),_c('div',{staticClass:\"icon-up\",on:{\"click\":_vm.goUp}},[_c('i',{staticClass:\"fa fa-chevron-up\"})]),_c('div',{staticClass:\"icon-down\",on:{\"click\":_vm.goDown}},[_c('i',{staticClass:\"fa fa-chevron-down\"})])],2)]):_vm._e(),(_vm.photos.length > 1)?_c('div',{staticClass:\"col-md-9\"},[_c('div',{attrs:{\"id\":\"logement-main-img\"}},[_c('div',{staticClass:\"logement-preview\"},[_c('img',{attrs:{\"src\":_vm.currentPicture,\"alt\":\"\"}})])])]):_vm._e()]),_c('p',{staticClass:\"mt-5\"}),_c('table',{staticClass:\"table table-hover table-dark\"},[_c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Libellé\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Valeur\")])])]),_c('tbody',[_c('tr',[_c('td',[_vm._v(\"Etat du logement\")]),_c('td',[(_vm.logement.etatLogement)?_c('b-badge',{staticClass:\"mt--1 mr-2 btn bg-badge background rounded-pill\"},[_c('small',{staticClass:\"fa-sm\"},[_vm._v(\"Logement occupé\")])]):_c('b-badge',{staticClass:\"mt--1 mr-2 btn bg-badge bg-danger rounded-pill\"},[_c('small',{staticClass:\"fa-sm\"},[_vm._v(\"Logement libre\")])])],1)]),_c('tr',[_c('td',[_vm._v(\"Prix du minimal\")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.logement.prixMin)+\" FCFA \")])]),_c('tr',[_c('td',[_vm._v(\"Prix du maximal\")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.logement.prixMax)+\" FCFA \")])])])]),_c('hr')],1):_vm._e(),(_vm.section == 'annonces')?_c('div',{staticStyle:{\"height\":\"75vh\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\"}},[(!_vm.logement.annonces.length)?_c('b-alert',{staticClass:\"text-center\",attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('i',{staticClass:\"fa fa-exclamation-triangle fa-3x float-left\"}),_c('span',{staticClass:\"h4 d-inline-flex ml-2\"},[_vm._v(\"Aucune annonce enregistrée pour le moment\")])]):_vm._e(),_c('b-row',_vm._l((_vm.logement.annonces),function(annonce,i){return _c('b-col',{key:annonce.idAnnonce || i,attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"card p-0 shadow\"},[_c('div',{staticClass:\"card-body p-0 d-flex\"},[_c('b-img',{staticStyle:{\"height\":\"8em\",\"width\":\"8em\"},attrs:{\"src\":_vm.photos[i] || _vm.photos[0]}}),_c('div',{staticClass:\"ml-2 p-2\"},[_c('div',[_c('b-badge',{attrs:{\"variant\":annonce.publish ? 'success' : 'danger'}},[_vm._v(_vm._s(annonce.publish ? \"Déja publiée\" : \"Pas encore publiée\"))]),_vm._v(\"  \"),_c('b-badge',{attrs:{\"variant\":\"light\"}},[_c('i',{staticClass:\"fa fa-clock\"}),_vm._v(\" Créée le \"+_vm._s(_vm.$date(annonce.createdAt).format(\"DD.MM.YYYY\"))+\" \")])],1),_c('h5',{staticClass:\"my-2\"},[_c('a',{staticClass:\"text-red\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(annonce.titreAnnonce))])]),_vm._l((annonce.tags.split(',')),function(tag,i){return _c('b-badge',{key:i,attrs:{\"variant\":\"secondary\"}},[_vm._v(_vm._s(tag))])})],2)],1)])])}),1)],1):_vm._e(),(_vm.section == 'depenses' || _vm.section == 'add-depense')?_c('b-container',[(_vm.section == 'depenses')?_c('div',[_c('div',{staticClass:\"d-flex justify-content-between border-bottom pb-1 mb-2\"},[_c('div',[(_vm.logement.depenses.length)?_c('paginator',{attrs:{\"no-control\":\"\",\"total\":_vm.logement.depenses.length,\"limit\":_vm.perPage,\"page\":_vm.currentPage},on:{\"pageChanged\":function (page) {\n                    _vm.currentPage = page;\n                  },\"limitChanged\":function (limit) {\n                    _vm.perPage = limit;\n                  }}}):_vm._e()],1),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-secondary\"},on:{\"click\":function($event){$event.preventDefault();_vm.section = 'add-depense'}}},[_vm._v(\"Ajouter une dépense\")])],1),(!_vm.logement.depenses.length)?_c('b-alert',{attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('i',{staticClass:\"fa fa-exclamation-triangle fa-3x float-left\"}),_c('span',{staticClass:\"h4 d-inline-flex ml-2\"},[_vm._v(\"Aucune dépense enregistrée pour le moment\")])]):_c('div',{staticStyle:{\"height\":\"75vh\"}},[_c('div',{staticStyle:{\"height\":\"90%\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\"}},[_c('b-row',{staticClass:\"layout-wrap\"},_vm._l((_vm.itemsDepenses),function(depense,i){return _c('div',{key:depense.idDepense || i,staticClass:\"col-12 list-item list-item-thumb\"},[_c('depense',{attrs:{\"depense\":depense,\"source\":_vm.source,\"is-sub\":\"\"},on:{\"deleted\":_vm.removeDepense}})],1)}),0)],1)])],1):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.section == 'add-depense'),expression:\"section == 'add-depense'\"}]},[_c('depense-form',{attrs:{\"logement\":_vm.logement,\"provenance\":_vm.provenance,\"action\":_vm.action},on:{\"cancel\":function($event){_vm.section = 'depenses'},\"depenseAdded\":_vm.addedDepense}})],1)]):_vm._e(),(_vm.section == 'locataire')?_c('div',{staticStyle:{\"height\":\"38em\",\"overflow-y\":\"auto\"}},[(!_vm.logement.occupations.length)?_c('b-alert',{staticClass:\"text-center\",attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('i',{staticClass:\"fa fa-exclamation-triangle fa-3x\"}),_vm._v(\" \"),_c('br'),_c('span',{staticClass:\"h4 d-inline-flex ml-2\"},[_vm._v(\"Aucun locataire n'a occupé ce logement pour le moment\")])]):_vm._e(),_vm._l((_vm.logement.occupations),function(occupation,i){return _c('b-card',{key:occupation.idOccupation || i,staticClass:\"mb-3\",attrs:{\"img-fluid\":\"\",\"img-src\":occupation.locataire.avatar || '/img/profile-picture.jpg',\"img-height\":\"250em\",\"img-width\":\"200em\",\"img-left\":\"\"}},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[(occupation.dateFin == null)?_c('b-badge',{staticClass:\"w-90\",attrs:{\"variant\":\"success\"}},[_vm._v(\"Bail en cours\")]):_c('b-badge',{staticClass:\"w-90\",attrs:{\"variant\":\"danger\"}},[_vm._v(\"Bail terminé le \"+_vm._s(_vm.$date(occupation.dateFin).format(\"DD MMMM YYYY\")))]),_c('b-dropdown',{attrs:{\"size\":\"sm\",\"right\":\"\",\"variant\":\"link\",\"toggle-class\":\"text-decoration-none\",\"no-caret\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fa fa-ellipsis-h\"})]},proxy:true}],null,true)},[_c('b-dropdown-item',{on:{\"click\":function($event){$event.preventDefault();return _vm.goToDetailLocataire(occupation)}}},[_vm._v(\"Détails du locataire\")]),_c('b-dropdown-item',{on:{\"click\":function($event){$event.preventDefault();return _vm.goToDetaiOccupation(occupation)}}},[_vm._v(\"Détails de l'occupation\")])],1)],1),_c('hr',{staticClass:\"mt-1\"}),_c('dl',{staticClass:\"row text-muted\"},[_c('dd',{staticClass:\"my-1 col-1\"},[_c('i',{staticClass:\"fa fa-user\"})]),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.left\",value:('nom et prénom'),expression:\"'nom et prénom'\",modifiers:{\"left\":true}}],staticClass:\"my-1 col-11 truncate\"},[_vm._v(\" \"+_vm._s(occupation.locataire.titre + \" \" + occupation.locataire.nomLocataire + \" \" + occupation.locataire.prenomLocataire)+\" \")]),_c('dd',{staticClass:\"my-1 col-1\"},[_c('i',{staticClass:\"fa fa-phone\"})]),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.left\",value:('Numéro de téléphone'),expression:\"'Numéro de téléphone'\",modifiers:{\"left\":true}}],staticClass:\"my-1 col-11 truncate\"},[_vm._v(\" \"+_vm._s(occupation.locataire.tel)+\" \")]),_c('dd',{staticClass:\"my-1 col-1\"},[_c('i',{staticClass:\"fa fa-envelope\"})]),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.left\",value:('Email'),expression:\"'Email'\",modifiers:{\"left\":true}}],staticClass:\"my-1 col-11 truncate\"},[_vm._v(\" \"+_vm._s(occupation.locataire.email)+\" \")]),_c('dd',{staticClass:\"my-1 col-1\"},[_c('i',{staticClass:\"fa fa-id-card\"})]),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.left\",value:('Numéro de CNI'),expression:\"'Numéro de CNI'\",modifiers:{\"left\":true}}],staticClass:\"my-1 col-11 truncate\"},[_vm._v(\" \"+_vm._s(occupation.locataire.cniLocataire)+\" \")]),_c('dd',{staticClass:\"my-1 col-1\"},[_c('i',{staticClass:\"fas fa-birthday-cake\"})]),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.left\",value:('Date de naissance'),expression:\"'Date de naissance'\",modifiers:{\"left\":true}}],staticClass:\"my-1 col-11 truncate\"},[_vm._v(\" \"+_vm._s(_vm.$dayjs(occupation.locataire.dateNaiss).format(\"DD MMMM YYYY\"))+\" \")]),_c('dd',{staticClass:\"my-1 col-1\"},[_c('i',{staticClass:\"fa fa-calendar\"})]),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.left\",value:('Date de début du bail'),expression:\"'Date de début du bail'\",modifiers:{\"left\":true}}],staticClass:\"my-1 col-11 truncate\"},[_vm._v(\" \"+_vm._s(_vm.$dayjs(occupation.dateDeb).format(\"dddd, DD MMMM YYYY\"))+\" \")])])])})],2):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <ul class=\"nav nav-tabs\">\r\n      <li class=\"nav-item\">\r\n        <a\r\n          data-toggle=\"tab\"\r\n          href=\"#\"\r\n          class=\"nav-link\"\r\n          :class=\"{ active: section == 'caracteristiques' }\"\r\n          @click.prevent=\"section = 'caracteristiques'\"\r\n          >Caractéristiques</a\r\n        >\r\n      </li>\r\n      <li class=\"nav-item\">\r\n        <a\r\n          data-toggle=\"tab\"\r\n          href=\"#\"\r\n          class=\"nav-link\"\r\n          :class=\"{ active: section == 'annonces' }\"\r\n          @click.prevent=\"section = 'annonces'\"\r\n          >Annonces</a\r\n        >\r\n      </li>\r\n      <li class=\"nav-item\">\r\n        <a\r\n          data-toggle=\"tab\"\r\n          href=\"#\"\r\n          class=\"nav-link\"\r\n          :class=\"{ active: section == 'depenses' || section == 'add-depense' }\"\r\n          @click.prevent=\"section = 'depenses'\"\r\n          >Dépenses</a\r\n        >\r\n      </li>\r\n      <li class=\"nav-item\">\r\n        <a\r\n          data-toggle=\"tab\"\r\n          href=\"#\"\r\n          class=\"nav-link\"\r\n          :class=\"{ active: section == 'locataire' }\"\r\n          @click.prevent=\"section = 'locataire'\"\r\n          >Locataires</a\r\n        >\r\n      </li>\r\n    </ul>\r\n    <div class=\"tab-content mt-3\">\r\n      <div class=\"tab-pane fade show active\">\r\n        <!--<b-container\r\n          fluid\r\n          v-if=\"section == 'photos'\"\r\n          style=\"height: 75vh; overflow-y: auto; overflow-x: hidden\"\r\n        >\r\n          <b-row class=\"layout-wrap\">\r\n            <b-col cols=\"4\">\r\n              <vue-upload-multiple-image\r\n                @upload-success=\"section_photo_uploadImageSuccess\"\r\n                :data-images=\"section_photo.images\"\r\n              />\r\n            </b-col>\r\n            <b-col cols=\"4\" v-for=\"(photo, i) in photos\" :key=\"i\">\r\n              <div class=\"shadow list-item list-item-grid\">\r\n                <div class=\"card d-flex flex-row mb-3\">\r\n                  <a\r\n                    class=\"d-flex card-img\"\r\n                    @click.prevent=\"() => section_photo_showImg(i)\"\r\n                    href=\"#\"\r\n                  >\r\n                    <img\r\n                      :src=\"photo\"\r\n                      alt\r\n                      style=\"height: 15em\"\r\n                      class=\"list-thumbnail responsive border-0\"\r\n                    />\r\n                  </a>\r\n                  <div class=\"d-flex flex-grow-1 min-width-zero card-content\">\r\n                    <div class=\"list-actions\">\r\n                      <a href=\"#\" @click.prevent=\"() => section_photo_showImg(i)\">\r\n                        <i class=\"ik ik-eye\"></i>\r\n                      </a>\r\n                      <a href=\"#\" class=\"list-delete\">\r\n                        <i class=\"ik ik-trash-2\"></i>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n          <vue-easy-lightbox\r\n            :visible=\"section_photo.visible\"\r\n            :imgs=\"photos\"\r\n            :index=\"section_photo.index\"\r\n            @hide=\"section_photo_handleHide\"\r\n          />\r\n        </b-container>-->\r\n        <!--<b-container fluid v-if=\"section == 'details'\">\r\n          <b-row>\r\n            <b-col cols=\"6\">\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Pays:\r\n                <b>{{ logement.adresse.pays }}</b>\r\n              </span>\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Ville:\r\n                <b>{{ logement.adresse.ville }}</b>\r\n              </span>\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Quartier:\r\n                <b>{{ logement.adresse.quartier }}</b>\r\n              </span>\r\n            </b-col>\r\n            <b-col cols=\"6\">\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Logitude:\r\n                <b>{{ logement.adresse.lon }}</b>\r\n              </span>\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Latitue:\r\n                <b>{{ logement.adresse.lat }}</b>\r\n              </span>\r\n            </b-col>\r\n          </b-row>\r\n          <b-container class=\"mt-4 p-0\">\r\n            <GmapMap\r\n              :center=\"{lat: parseFloat(logement.adresse.lat), lng: parseFloat(logement.adresse.lon)}\"\r\n              :zoom=\"14\"\r\n              class=\"w-100\"\r\n              style=\"height:340px;\"\r\n            />\r\n          </b-container>\r\n        </b-container>-->\r\n        <b-container fluid v-if=\"section == 'caracteristiques'\">\r\n          <!--LOGEMENT SUR LA MAP -->\r\n          <h2 class=\"text-capitalize font-weight-bold fs-4\">Localisation</h2>\r\n          <!-- <b-row>\r\n            <b-col cols=\"6\">\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Pays:\r\n                <b>{{ logement.adresse.pays }}</b>\r\n              </span>\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Ville:\r\n                <b>{{ logement.adresse.ville }}</b>\r\n              </span>\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Quartier:\r\n                <b>{{ logement.adresse.quartier }}</b>\r\n              </span>\r\n            </b-col>\r\n            <b-col cols=\"6\">\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Logitude:\r\n                <b>{{ logement.adresse.lon }}</b>\r\n              </span>\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Latitue:\r\n                <b>{{ logement.adresse.lat }}</b>\r\n              </span>\r\n            </b-col>\r\n          </b-row> -->\r\n          <b-row\r\n            class=\"rounded text-white py-2\"\r\n            style=\"margin: 0; background: #f5365c\"\r\n          >\r\n            <b-col lg=\"4\" md=\"6\" sm=\"12\">\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Pays:\r\n                <b class=\"font-weight-bold\">{{ logement.adresse != null ? logement.adresse.pays : (logement.batiment != null ? logement.batiment.adresse.pays : '') }}</b>\r\n              </span>\r\n            </b-col>\r\n            <b-col lg=\"4\" md=\"6\" sm=\"12\">\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Ville:\r\n                <b class=\"font-weight-bold\">{{ logement.adresse != null ? logement.adresse.ville : (logement.batiment != null ? logement.batiment.adresse.ville : '') }}</b>\r\n              </span>\r\n            </b-col>\r\n            <b-col lg=\"4\" md=\"6\" sm=\"12\">\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Quartier:\r\n                <b class=\"font-weight-bold\">{{ logement.adresse != null ? logement.adresse.quartier : (logement.batiment != null ? logement.batiment.adresse.quartier : '') }}</b>\r\n              </span>\r\n            </b-col>\r\n          </b-row>\r\n          <b-container class=\"mt-4 p-0\">\r\n            <GmapMap\r\n              :center=\"{\r\n                lat: parseFloat(logement.adresse != null ? logement.adresse.lat : (logement.batiment != null ? logement.batiment.adresse.lat || 0 : 0)),\r\n                lng: parseFloat(logement.adresse != null ? logement.adresse.lon : (logement.batiment != null ? logement.batiment.adresse.lon || 0 : 0)),\r\n              }\"\r\n              :zoom=\"16\"\r\n              class=\"w-100\"\r\n              style=\"height: 340px\"\r\n            >\r\n              <gmap-custom-marker :marker=\"marker\">\r\n                <img src=\"/img/mapMarker.png\" />\r\n              </gmap-custom-marker>\r\n            </GmapMap>\r\n          </b-container>\r\n          <hr />\r\n          \r\n          <h2 class=\"text-capitalize font-weight-bold fs-4\">\r\n            Caractéristiques approfondies\r\n          </h2>\r\n          <b-row>\r\n            <b-col cols=\"12\">\r\n              <span class=\"d-inline-block w-100 my-1\">\r\n                Type de logement:\r\n                <b>{{ logement.sousTypeLogement.libelleSousType }}</b>\r\n              </span>\r\n              <span class=\"d-inline-block w-100 text-muted\">\r\n                Posté le :\r\n                <small>{{ logement.createdAt.slice(0, 10) }}</small>\r\n              </span>\r\n            </b-col>\r\n\r\n            <b-col cols=\"12\">\r\n              <b-badge\r\n                class=\"m-1 background\"\r\n                v-for=\"(c, i) in caracteristiques\"\r\n                :key=\"c.idCaracteristique || i\"\r\n              >\r\n                <b class=\"fa-lg\">{{ c.valeur }}</b>\r\n                {{ c.libelleCaracteristique }}\r\n              </b-badge>\r\n            </b-col>\r\n          </b-row>\r\n          <div class=\"jumbotron pt-10 pb-10 mt-2 mb-0\">\r\n            <p class=\"description\">{{ logement.descLogement }}</p>\r\n          </div>\r\n          <h2 class=\"text-capitalize font-weight-bold fs-4 my-4\">Photos</h2>\r\n\r\n          <div class=\"row my-4\">\r\n            <div v-if=\"!photos.length\" class=\"col-md-12\">\r\n              <div id=\"logement-main-img\">\r\n                <div class=\"logement-preview\">\r\n                  <img src=\"/img/imagelogementdefault-.jpg\" alt=\"\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"photos.length > 1\" class=\"col-md-3\">\r\n              <div id=\"logement-imgs\">\r\n                <div\r\n                  class=\"logement-preview logement-image\"\r\n                  v-for=\"(photo, i) in newPhotos\"\r\n                  :key=\"i\"\r\n                >\r\n                  <img :src=\"photo\" alt=\"\" />\r\n                </div>\r\n\r\n                <div class=\"icon-up\" @click=\"goUp\">\r\n                  <i class=\"fa fa-chevron-up\"></i>\r\n                </div>\r\n                <div class=\"icon-down\" @click=\"goDown\">\r\n                  <i class=\"fa fa-chevron-down\"></i>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"photos.length > 1\" class=\"col-md-9\">\r\n              <div id=\"logement-main-img\">\r\n                <div class=\"logement-preview\">\r\n                  <img :src=\"currentPicture\" alt=\"\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <p class=\"mt-5\"></p>\r\n          <table class=\"table table-hover table-dark\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Libellé</th>\r\n                <th scope=\"col\">Valeur</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>Etat du logement</td>\r\n                <td>\r\n                  <b-badge\r\n                    v-if=\"logement.etatLogement\"\r\n                    class=\"mt--1 mr-2 btn bg-badge background rounded-pill\"\r\n                  >\r\n                    <small class=\"fa-sm\">Logement occupé</small>\r\n                  </b-badge>\r\n                  <b-badge\r\n                    v-else\r\n                    class=\"mt--1 mr-2 btn bg-badge bg-danger rounded-pill\"\r\n                  >\r\n                    <small class=\"fa-sm\">Logement libre</small>\r\n                  </b-badge>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>Prix du minimal</td>\r\n                <td>\r\n                  {{ logement.prixMin }}\r\n                  FCFA\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>Prix du maximal</td>\r\n                <td>\r\n                  {{ logement.prixMax }}\r\n                  FCFA\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <hr />\r\n        </b-container>\r\n        <div\r\n          v-if=\"section == 'annonces'\"\r\n          style=\"height: 75vh; overflow-y: auto; overflow-x: hidden\"\r\n        >\r\n          <b-alert\r\n            variant=\"info\"\r\n            show\r\n            class=\"text-center\"\r\n            v-if=\"!logement.annonces.length\"\r\n          >\r\n            <i class=\"fa fa-exclamation-triangle fa-3x float-left\"></i>\r\n            <span class=\"h4 d-inline-flex ml-2\"\r\n              >Aucune annonce enregistrée pour le moment</span\r\n            >\r\n          </b-alert>\r\n          <b-row>\r\n            <b-col\r\n              cols=\"12\"\r\n              v-for=\"(annonce, i) in logement.annonces\"\r\n              :key=\"annonce.idAnnonce || i\"\r\n            >\r\n              <div class=\"card p-0 shadow\">\r\n                <div class=\"card-body p-0 d-flex\">\r\n                  <b-img\r\n                    :src=\"photos[i] || photos[0]\"\r\n                    style=\"height: 8em; width: 8em\"\r\n                  ></b-img>\r\n                  <div class=\"ml-2 p-2\">\r\n                    <div>\r\n                      <b-badge\r\n                        :variant=\"annonce.publish ? 'success' : 'danger'\"\r\n                        >{{\r\n                          annonce.publish\r\n                            ? \"Déja publiée\"\r\n                            : \"Pas encore publiée\"\r\n                        }}</b-badge\r\n                      >&nbsp;\r\n                      <b-badge variant=\"light\">\r\n                        <i class=\"fa fa-clock\"></i>\r\n                        Créée le\r\n                        {{ $date(annonce.createdAt).format(\"DD.MM.YYYY\") }}\r\n                      </b-badge>\r\n                    </div>\r\n                    <h5 class=\"my-2\">\r\n                      <a href=\"#\" class=\"text-red\">{{\r\n                        annonce.titreAnnonce\r\n                      }}</a>\r\n                    </h5>\r\n                    <b-badge\r\n                      v-for=\"(tag, i) in annonce.tags.split(',')\"\r\n                      :key=\"i\"\r\n                      variant=\"secondary\"\r\n                      >{{ tag }}</b-badge\r\n                    >\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n        </div>\r\n        <b-container v-if=\"section == 'depenses' || section == 'add-depense'\">\r\n          <div v-if=\"section == 'depenses'\">\r\n            <div class=\"d-flex justify-content-between border-bottom pb-1 mb-2\">\r\n              <div>\r\n                <paginator\r\n                  v-if=\"logement.depenses.length\"\r\n                  no-control\r\n                  :total=\"logement.depenses.length\"\r\n                  :limit=\"perPage\"\r\n                  :page=\"currentPage\"\r\n                  @pageChanged=\"\r\n                    (page) => {\r\n                      currentPage = page;\r\n                    }\r\n                  \"\r\n                  @limitChanged=\"\r\n                    (limit) => {\r\n                      perPage = limit;\r\n                    }\r\n                  \"\r\n                />\r\n              </div>\r\n              <b-button\r\n                size=\"sm\"\r\n                variant=\"outline-secondary\"\r\n                @click.prevent=\"section = 'add-depense'\"\r\n                >Ajouter une dépense</b-button\r\n              >\r\n            </div>\r\n            <b-alert variant=\"info\" show v-if=\"!logement.depenses.length\">\r\n              <i class=\"fa fa-exclamation-triangle fa-3x float-left\"></i>\r\n              <span class=\"h4 d-inline-flex ml-2\"\r\n                >Aucune dépense enregistrée pour le moment</span\r\n              >\r\n            </b-alert>\r\n            <div v-else style=\"height: 75vh\">\r\n              <div style=\"height: 90%; overflow-y: auto; overflow-x: hidden\">\r\n                <b-row class=\"layout-wrap\">\r\n                  <div\r\n                    v-for=\"(depense, i) in itemsDepenses\"\r\n                    :key=\"depense.idDepense || i\"\r\n                    class=\"col-12 list-item list-item-thumb\"\r\n                  >\r\n                    <depense\r\n                      @deleted=\"removeDepense\"\r\n                      :depense=\"depense\"\r\n                      :source=\"source\"\r\n                      is-sub\r\n                    />\r\n                  </div>\r\n                </b-row>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div v-show=\"section == 'add-depense'\">\r\n            <depense-form\r\n              :logement=\"logement\"\r\n              @cancel=\"section = 'depenses'\"\r\n              @depenseAdded=\"addedDepense\"\r\n              :provenance=\"provenance\"\r\n              :action=\"action\"\r\n            />\r\n          </div>\r\n        </b-container>\r\n\r\n        <div\r\n          v-if=\"section == 'locataire'\"\r\n          style=\"height: 38em; overflow-y: auto\"\r\n        >\r\n          <b-alert\r\n            variant=\"info\"\r\n            show\r\n            class=\"text-center\"\r\n            v-if=\"!logement.occupations.length\"\r\n          >\r\n            <i class=\"fa fa-exclamation-triangle fa-3x\"></i> <br />\r\n            <span class=\"h4 d-inline-flex ml-2\"\r\n              >Aucun locataire n'a occupé ce logement pour le moment</span\r\n            >\r\n          </b-alert>\r\n          <b-card\r\n            v-for=\"(occupation, i) in logement.occupations\"\r\n            :key=\"occupation.idOccupation || i\"\r\n            img-fluid\r\n            :img-src=\"occupation.locataire.avatar || '/img/profile-picture.jpg'\"\r\n            img-height=\"250em\"\r\n            img-width=\"200em\"\r\n            img-left\r\n            class=\"mb-3\"\r\n          >\r\n            <div class=\"d-flex justify-content-between align-items-center\">\r\n              <b-badge\r\n                class=\"w-90\"\r\n                variant=\"success\"\r\n                v-if=\"occupation.dateFin == null\"\r\n                >Bail en cours</b-badge\r\n              >\r\n              <b-badge class=\"w-90\" variant=\"danger\" v-else\r\n                >Bail terminé le\r\n                {{ $date(occupation.dateFin).format(\"DD MMMM YYYY\") }}</b-badge\r\n              >\r\n              <b-dropdown\r\n                size=\"sm\"\r\n                right\r\n                variant=\"link\"\r\n                toggle-class=\"text-decoration-none\"\r\n                no-caret\r\n              >\r\n                <template #button-content\r\n                  ><i class=\"fa fa-ellipsis-h\"></i\r\n                ></template>\r\n                <!--<b-dropdown-item :to=\"{name: 'habitants', query: {target: occupation.locataire.idLocataire}}\">Détails du locataire</b-dropdown-item>\r\n                        <b-dropdown-item :to=\"{name: 'details-occupation', params: {id: occupation.idOccupation}}\">Détails de l'occupation</b-dropdown-item>-->\r\n                <b-dropdown-item\r\n                  @click.prevent=\"goToDetailLocataire(occupation)\"\r\n                  >Détails du locataire</b-dropdown-item\r\n                >\r\n                <b-dropdown-item\r\n                  @click.prevent=\"goToDetaiOccupation(occupation)\"\r\n                  >Détails de l'occupation</b-dropdown-item\r\n                >\r\n              </b-dropdown>\r\n            </div>\r\n            <hr class=\"mt-1\" />\r\n            <dl class=\"row text-muted\">\r\n              <dd class=\"my-1 col-1\"><i class=\"fa fa-user\"></i></dd>\r\n              <dt\r\n                class=\"my-1 col-11 truncate\"\r\n                v-b-tooltip.left=\"'nom et prénom'\"\r\n              >\r\n                {{\r\n                  occupation.locataire.titre +\r\n                  \" \" +\r\n                  occupation.locataire.nomLocataire +\r\n                  \" \" +\r\n                  occupation.locataire.prenomLocataire\r\n                }}\r\n              </dt>\r\n              <dd class=\"my-1 col-1\"><i class=\"fa fa-phone\"></i></dd>\r\n              <dt\r\n                class=\"my-1 col-11 truncate\"\r\n                v-b-tooltip.left=\"'Numéro de téléphone'\"\r\n              >\r\n                {{ occupation.locataire.tel }}\r\n              </dt>\r\n              <dd class=\"my-1 col-1\"><i class=\"fa fa-envelope\"></i></dd>\r\n              <dt class=\"my-1 col-11 truncate\" v-b-tooltip.left=\"'Email'\">\r\n                {{ occupation.locataire.email }}\r\n              </dt>\r\n              <dd class=\"my-1 col-1\"><i class=\"fa fa-id-card\"></i></dd>\r\n              <dt\r\n                class=\"my-1 col-11 truncate\"\r\n                v-b-tooltip.left=\"'Numéro de CNI'\"\r\n              >\r\n                {{ occupation.locataire.cniLocataire }}\r\n              </dt>\r\n              <dd class=\"my-1 col-1\"><i class=\"fas fa-birthday-cake\"></i></dd>\r\n              <dt\r\n                class=\"my-1 col-11 truncate\"\r\n                v-b-tooltip.left=\"'Date de naissance'\"\r\n              >\r\n                {{\r\n                  $dayjs(occupation.locataire.dateNaiss).format(\"DD MMMM YYYY\")\r\n                }}\r\n              </dt>\r\n              <dd class=\"my-1 col-1\"><i class=\"fa fa-calendar\"></i></dd>\r\n              <dt\r\n                class=\"my-1 col-11 truncate\"\r\n                v-b-tooltip.left=\"'Date de début du bail'\"\r\n              >\r\n                {{ $dayjs(occupation.dateDeb).format(\"dddd, DD MMMM YYYY\") }}\r\n              </dt>\r\n            </dl>\r\n          </b-card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueEasyLightbox from \"vue-easy-lightbox\";\r\nimport VueUploadMultipleImage from \"vue-upload-multiple-image\";\r\nimport Depense from \"@/views/gestion-immobiliere/depenses/Depense.vue\";\r\nimport DepenseForm from \"@/views/gestion-immobiliere/depenses/DepenseForm.vue\";\r\nimport GmapCustomMarker from \"vue2-gmap-custom-marker\";\r\nconst php = require(\"phpjs\");\r\nexport default {\r\n  components: {\r\n    VueEasyLightbox,\r\n    VueUploadMultipleImage,\r\n    Depense,\r\n    DepenseForm,\r\n    GmapCustomMarker,\r\n  },\r\n  props: {\r\n    logement: { type: Object, required: true },\r\n  },\r\n  data: () => ({\r\n    section: \"caracteristiques\",\r\n    /**\r\n     * Données manipuler par la section des photos\r\n     */\r\n    section_photo: {\r\n      index: 0,\r\n      visible: false,\r\n      images: [],\r\n    },\r\n    //données manipulées pour l'ajout d'une dépense\r\n    commandeDepense: false,\r\n    action: \"add\",\r\n    currentPage: 1,\r\n    perPage: 10,\r\n    source: 2,\r\n    provenance: \"2\",\r\n    marker: {\r\n      lat: \"\",\r\n      lng: \"\",\r\n    },\r\n    currentPicture: \"\",\r\n    newPhotos: [],\r\n  }),\r\n  computed: {\r\n    photos() {\r\n      return this.logement.photos.map((elt) => elt.image);\r\n    },\r\n    caracteristiques() {\r\n      //return this.logement.caracteristiques\r\n      return this.logement.caracteristiques.filter(\r\n        (elt) => parseInt(elt.valeur) > 0\r\n      );\r\n    },\r\n    itemsDepenses() {\r\n      return php.array_slice(this.logement.depenses, this.offset, this.perPage);\r\n    },\r\n    offset() {\r\n      return this.currentPage * this.perPage - this.perPage;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.newPhotos = this.photos.slice(0, 3);\r\n    this.currentPicture = this.newPhotos[0];\r\n\r\n    console.log(\"logement\", this.logement);\r\n    this.marker.lat = this.logement.adresse.lat;\r\n    this.marker.lng = this.logement.adresse.lon;\r\n  },\r\n  methods: {\r\n    /**Méthode permettant de voir le détails du locataire\r\n     * directement à partir du détail du logement\r\n     */\r\n    goToDetailLocataire(occupation) {\r\n      console.log(\"locataire\", occupation);\r\n      $(\"#editLayoutItem\").modal(\"hide\");\r\n      setTimeout(() => {\r\n        this.$router.push({\r\n          name: \"habitants\",\r\n          query: { target: occupation.locataire.idLocataire },\r\n        });\r\n      }, 100);\r\n    },\r\n    /**Méthode permettant de voir l'occupation\r\n     * directement à partir du détail du logement\r\n     */\r\n    goToDetaiOccupation(occupation) {\r\n      console.log(\"locataire\", occupation);\r\n      $(\"#editLayoutItem\").modal(\"hide\");\r\n      setTimeout(() => {\r\n        this.$router.push({\r\n          name: \"occupations\",\r\n          query: { target: occupation.idOccupation },\r\n        });\r\n      }, 100);\r\n    },\r\n\r\n    /**\r\n     * réponse à l'évènement d'ajout d'une dépense\r\n     * dans le détail de la cité, la réponse consiste juste à mettre à jour la liste des dépenses d'un logement\r\n     */\r\n    addedDepense() {\r\n      axios\r\n        .get(`logements/${this.logement.idLogement}/depenses`)\r\n        .then((response) => response.result || [])\r\n        .then((depenses) => {\r\n          this.logement.depenses = depenses;\r\n          this.section = \"depenses\";\r\n        });\r\n    },\r\n    /**\r\n     * Methodes relatives a la section des photos\r\n     */\r\n    section_photo_showImg(index) {\r\n      this.section_photo.index = index;\r\n      this.section_photo.visible = true;\r\n    },\r\n    section_photo_handleHide() {\r\n      this.section_photo.visible = false;\r\n    },\r\n    section_photo_uploadImageSuccess(formData, index, fileList) {\r\n      console.log(\"data\", formData, index, fileList);\r\n      // Upload image api\r\n      // axios.post('http://your-url-upload', formData).then(response => {\r\n      //   console.log(response)\r\n      // })\r\n    },\r\n    /**\r\n     * supprimer une dépense\r\n     * ceci à pour but de  la marquer comme traitée en back\r\n     */\r\n    removeDepense(idDepense) {\r\n      this.logement.depenses = this.logement.depenses.filter(\r\n        (elt) => elt.idDepense != idDepense\r\n      );\r\n      this.$emit(\"depensesChanged\", this.logement.depenses);\r\n    },\r\n\r\n    onCloseSet() {\r\n      this.commandeDepense = false;\r\n    },\r\n\r\n    goUp() {\r\n      let width = document.querySelector(\"#logement-main-img\").offsetHeight / 3;\r\n      let images = document.querySelectorAll(\".logement-image\");\r\n\r\n      for (let i = 0; i < images.length; i++) {\r\n        images[i].style.height = width + \"px\";\r\n      }\r\n      let index = this.photos.indexOf(this.currentPicture);\r\n\r\n      this.newPhotos = this.photos.slice(index, index + 3);\r\n      if (this.newPhotos.length < 3) {\r\n        console.log(\"Taille incomplète !!!\");\r\n        let j = 0;\r\n        while (this.newPhotos.length < 3) {\r\n          this.newPhotos.push(this.photos[j]);\r\n          j += 1;\r\n        }\r\n      }\r\n      if (this.photos[index + 1]) {\r\n        this.currentPicture = this.photos[index + 1];\r\n      } else {\r\n        this.currentPicture = this.photos[0];\r\n      }\r\n    },\r\n    goDown() {},\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#logement-main-img {\r\n  height: 100%;\r\n  overflow: hidden;\r\n  border-radius: 8px;\r\n}\r\n\r\n#logement-main-img .logement-preview,\r\n#logement-main-img .logement-preview img {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n#logement-imgs {\r\n  overflow: hidden;\r\n}\r\n\r\n#logement-imgs .logement-preview {\r\n  width: 100%;\r\n  height: 8rem;\r\n  overflow: inherit;\r\n}\r\n#logement-imgs .logement-preview img {\r\n  width: 100%;\r\n  height: 100%;\r\n  transition: 1s all ease;\r\n}\r\n.logement-preview:nth-child(2) {\r\n  border: 2px solid blue;\r\n  transition: 1s all ease;\r\n}\r\n\r\n.icon-up,\r\n.icon-down {\r\n  background: gray;\r\n  padding: 5px;\r\n  border-radius: 50%;\r\n  width: 3rem;\r\n  height: 3rem;\r\n  cursor: pointer;\r\n  position: absolute;\r\n  left: 50%;\r\n}\r\n\r\n.icon-up {\r\n  top: 0;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.icon-down {\r\n  display: none;\r\n  bottom: 0;\r\n  transform: translate(-50%, 50%);\r\n}\r\n\r\n.icon-up .fa,\r\n.icon-down .fa {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 22px;\r\n  padding-top: 8px;\r\n}\r\n.background {\r\n  background: #f5365c;\r\n}\r\np.description::first-letter {\r\n  font-size: 40px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsLogement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsLogement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailsLogement.vue?vue&type=template&id=6553397f&scoped=true&\"\nimport script from \"./DetailsLogement.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailsLogement.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailsLogement.vue?vue&type=style&index=0&id=6553397f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6553397f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container-fluid\">\r\n    <!--page header start -->\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"mb-2 clearfix\">\r\n          <div class=\"collapse d-md-block display-options\" id=\"displayOptions\">\r\n            <div class=\"d-block d-md-inline-block\">\r\n              <div class=\"btn-group d-inline-block float-md-left mr-1 mb-1 \">\r\n                <b-form-select v-model=\"filtre_categories\"  style=\"height: 40px; width: 260px; border-radius: 5px; box-shadow: none\">\r\n                  <b-form-select-option :value=\"null\">Filtre de catégories</b-form-select-option>\r\n                  <b-form-select-option-group\r\n                    v-for=\"(tl, i) in typesLogements\"\r\n                    :key=\"i\"\r\n                    :label=\"tl.libelleType\"\r\n                  \r\n                  >\r\n                    <b-form-select-option\r\n                      v-for=\"(stl, j) in tl.sousTypesLogement\"\r\n                      :key=\"j\"\r\n                      :value=\"stl.idSousType\"\r\n                    >{{ stl.libelleSousType }}</b-form-select-option>\r\n                  </b-form-select-option-group>\r\n                </b-form-select>\r\n              </div>\r\n              <SearchForm v-model=\"search\" />\r\n            </div>\r\n\r\n            <div class=\"float-md-right\">\r\n              <btnAdd  message=\"Ajouter un logement\" v-b-modal.logementForm/>\r\n\r\n              <b-button\r\n                v-b-tooltip.top=\"'Télécharger un fichier modèle pour l\\'import de logements en masse'\"\r\n                v-b-modal.modal-prevent-closing\r\n                @click.prevent=\"loadCsv\"\r\n                class=\"btn btn-info ml-4 dispose\"\r\n                style=\"height:45px;\"\r\n              >\r\n                <i class=\"fa fa-download\"></i>\r\n              </b-button>\r\n\r\n              <!--traitement import liste de logements-->\r\n              <flatfile-button\r\n                class=\"mt-2\"\r\n                :licenseKey=\"licenseKey\"\r\n                :customer=\"customer\"\r\n                :settings=\"settings\"\r\n                :onData=\"onData\"\r\n                type=\"logement\"\r\n              >Ajout de logements en masse</flatfile-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"separator mb-20\"></div>\r\n        <b-overlay :show=\"showOverlay\" rounded=\"sm\">\r\n          <b-alert variant=\"info\" class=\"text-center\" show v-if=\"!logements.length\">\r\n            <i class=\"fa fa-exclamation-triangle fa-3x\"></i>\r\n            <br />\r\n            <span class=\"h4 d-inline-flex ml-2\">Aucun logement enregistré pour le moment</span>\r\n          </b-alert>\r\n          <b-row v-else class=\"layout-wrap\">\r\n            <b-col\r\n              v-for=\"(logement, i) in items\"\r\n              :key=\"logement.idLogement || i\"\r\n              lg=\"4\"\r\n              cols=\"12\"\r\n              sm=\"6\"\r\n              class=\"animated flipInX mb-4\"\r\n            >\r\n              <logement\r\n                @makeClone=\"cloneLogement\"\r\n                @makeUpdate=\"updateLogement\"\r\n                @deleted=\"removeLogement\"\r\n                :logement=\"logement\"\r\n                @showDetails=\"showDetails\"\r\n              />\r\n            </b-col>\r\n          </b-row>\r\n          <paginator\r\n            hr=\"top\"\r\n            :offset=\"offset\"\r\n            :total=\"logements.length || 0\"\r\n            :limit=\"perPage\"\r\n            :page=\"currentPage\"\r\n            @pageChanged=\"(page) => {currentPage = page}\"\r\n            @limitChanged=\"(limit) => {perPage = limit}\"\r\n          />\r\n        </b-overlay>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- MODALE POUR AFFICHER LES DETAILS D'UN LOGEMENT -->\r\n    <div\r\n      v-if=\"logement\"\r\n      class=\"modal fade edit-layout-modal\"\r\n      id=\"editLayoutItem\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"editLayoutItemLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"editLayoutItemLabel\">\r\n              Détails du logement :\r\n              <b>{{ logement.refLogement }}</b>.\r\n            </h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body pt-2\">\r\n            <details-logement :logement=\"logement\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"logement\">\r\n      <b-modal\r\n        v-model=\"clone.enabled\"\r\n        :title=\"'Clonner le logement ' + logement.refLogement\"\r\n        @ok=\"validateClone\"\r\n        @hidden=\"resetCloneForm\"\r\n      >\r\n        <template #modal-footer=\"{ ok }\">\r\n          <b-button size=\"sm\" variant=\"danger\" @click=\"ok()\" :disabled=\"clone.submitted\">\r\n            Valider\r\n            <b-spinner v-if=\"clone.submitted\" small />\r\n          </b-button>\r\n        </template>\r\n        <div class=\"jumbotron pt-10 pb-10\">\r\n          <p>Le clonnage de logement vous permet d'ajouter une multitude de logement en se servant d'un logement pré-existant pour générer de nouveaux.</p>\r\n        </div>\r\n        <b-form-group description=\"Entrez le nombre de logement à générer\" label=\"Nombre de clone\">\r\n          <b-form-input\r\n            v-model=\"clone.nbr\"\r\n            type=\"number\"\r\n            :min=\"1\"\r\n            :class=\"{'is-invalid' : clone.error}\"\r\n          />\r\n        </b-form-group>\r\n        <b-form-group\r\n          description=\"Selectionnez le batiment auquel sera rataché les logements générés\"\r\n          label=\"Batiment\"\r\n        >\r\n          <b-form-select v-model=\"clone.idBatiment\">\r\n            <b-form-select-option :value=\"null\">Pas de batiment</b-form-select-option>\r\n            <b-form-select-option-group v-for=\"(c, i) in cites\" :key=\"i\" :label=\"c.nomCite\">\r\n              <b-form-select-option\r\n                v-for=\"(b, j) in c.batiments\"\r\n                :key=\"j\"\r\n                :value=\"b.idBatiment\"\r\n              >{{ b.nomBatiment }}</b-form-select-option>\r\n            </b-form-select-option-group>\r\n          </b-form-select>\r\n        </b-form-group>\r\n      </b-modal>\r\n    </div>\r\n    <!--MODAL POUR AJOUTER OU MODIFIER UN LOGEMENT-->\r\n    <b-modal id=\"logementForm\" ref=\"logement-form\" size=\"lg\" :title=\"title\" hide-footer  no-close-on-backdrop hide-header-close>\r\n         <template #modal-title>\r\n                <span class=\"ml-4 text-form-logement\">{{ title }}</span>\r\n            </template>\r\n        <div>\r\n            <add-logement @logementAdded=\"addedLogement\" @editSuccessfull=\"editSuccessfull\" :editLogement=\"logement\" :action='action' @closeLogementModal=\"resetLogementFormProps\"/>\r\n        </div>\r\n    </b-modal>\r\n\r\n    <load-csv v-if=\"commandeLoadCsv\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport AddLogement from \"@/views/logements/LogementForm.vue\";\r\nimport LoadCsv from \"@/views/logements/LoadCsv.vue\";\r\nimport Logement from \"@/components/_patrimoine/Logement.vue\";\r\nimport DetailsLogement from \"@/components/_patrimoine/DetailsLogement.vue\";\r\nimport SearchForm from \"@/components/parts/SearchForm.vue\";\r\n\r\nimport { FlatfileButton } from \"@flatfile/vuejs\";\r\nconst php = require(\"phpjs\");\r\n\r\nexport default {\r\n  name: \"logements\",\r\n  components: {\r\n    AddLogement,\r\n    Logement,\r\n    DetailsLogement,\r\n    FlatfileButton,\r\n    LoadCsv,\r\n    SearchForm,\r\n  },\r\n  data: () => ({\r\n    //début données liées à l'import de plusieurs logements\r\n\r\n    licenseKey: \"6e79e3c9-a02b-44ba-b761-9f18a885e464\",\r\n    settings: {\r\n      disableManualInput: true,\r\n      type: \"logement\",\r\n      title: \"Ajout de logements en masse\",\r\n      displayEncoding: false,\r\n      /* theme: {\r\n                global: {\r\n                    backgroundColor: \"#212327\",\r\n                    textColor: \"#c2c3c3\",\r\n                    primaryTextColor: \"#c2c3c3\",\r\n                    secondaryTextColor: \"#c2c3c3\",\r\n                    successColor: \"#c2c3c3\",\r\n                    warningColor: \"#c2c3c3\",\r\n                    fontFamily: \"font\"\r\n                },\r\n          },*/\r\n      fields: [\r\n        {\r\n          label: \"reférence\",\r\n          key: \"ref\",\r\n          validators: [{ validate: \"required\" }]\r\n        },\r\n        { label: \"description\", key: \"description\" },\r\n        {\r\n          label: \"Prix Minimal\",\r\n          key: \"prixMin\",\r\n          validators: [{ validate: \"required\" }]\r\n        },\r\n        {\r\n          label: \"Prix Maximal\",\r\n          key: \"prixMax\",\r\n          validators: [{ validate: \"required\" }]\r\n        },\r\n        {\r\n          label: \"Nom Sous-type de logement\",\r\n          key: \"sousTypeLogement\",\r\n          validators: [{ validate: \"required\" }]\r\n        },\r\n        { label: \"Nom Batiment\", key: \"batiment\" },\r\n        { label: \"Pays\", key: \"pays\", validators: [{ validate: \"required\" }] },\r\n        {\r\n          label: \"Ville\",\r\n          key: \"ville\",\r\n          validators: [{ validate: \"required\" }]\r\n        },\r\n        { label: \"Quartier\", key: \"quartier\" },\r\n        { label: \"Latitude\", key: \"lat\" },\r\n        { label: \"Longitude\", key: \"lon\" },\r\n        { label: \"Nombre de chambres\", key: \"nombreChambres\" },\r\n        { label: \"Nombre de cuisines\", key: \"nombreCuisines\" },\r\n        { label: \"Nombre de douches\", key: \"nombreDouches\" },\r\n        { label: \"Nombre de salons\", key: \"nombreSalons\" },\r\n        { label: \"Nombre de parkings\", key: \"nombreParkings\" }\r\n      ]\r\n    },\r\n\r\n    customer: {\r\n      userId: \"12345\"\r\n    },\r\n    overrides: {\r\n      manual: \"Did you know you can type in an import below?\",\r\n      dropzone: {\r\n        button: \"Click me to upload some data.\"\r\n      }\r\n    },\r\n\r\n    //fin données liées à l'import de plusieurs logements\r\n    //propriétées, du fichier modèle\r\n\r\n    commandeLoadCsv: false,\r\n    search: null,\r\n    showOverlay: true,\r\n    currentPage: 1,\r\n    perPage: 10,\r\n\r\n    logements: [],\r\n    trueLogements: [],\r\n    logement: null,\r\n\r\n    typesLogements: [],\r\n    filtre_categories: null,\r\n    title:\"Ajouter un logement\",\r\n    action:'add',\r\n    cites: [],\r\n    clone: {\r\n      enabled: false,\r\n      submitted: false,\r\n      error: false,\r\n      nbr: null,\r\n      idBatiment: null\r\n    },\r\n\r\n    housingToUpload: []\r\n  }),\r\n  computed: {\r\n    /**\r\n     * Elements affichés avec prise en charge de la pagination\r\n     */\r\n    items() {\r\n      return php.array_slice(this.logements, this.offset, this.perPage);\r\n    },\r\n    offset() {\r\n      return this.currentPage * this.perPage - this.perPage;\r\n    }\r\n  },\r\n  watch: {\r\n    /**\r\n     * Filtre les logements en fonction du type de logement selectionné\r\n     */\r\n    filtre_categories(value) {\r\n      this.logements = !php.empty(value)\r\n        ? this.trueLogements.filter(elt => elt.idSousType == value)\r\n        : this.trueLogements;\r\n    },\r\n    search(value) {\r\n      this.logements = !php.empty(value)\r\n        ? this.trueLogements.filter(elt =>\r\n            elt.refLogement.toLowerCase().includes(value.toLowerCase())\r\n          )\r\n        : this.trueLogements;\r\n    }\r\n  },\r\n  beforeMount() {\r\n      /*setTimeout(() => {\r\n          this.getHousing();\r\n      }, 5000)*/\r\n      this.getHousing();\r\n  },\r\n  mounted(){\r\n    /*this.$root.$on('logement-modifie', (logement) => {\r\n          this.logements = this.renameLogements(this.logements, logement);\r\n          this.trueLogements = this.renameLogements(this.trueLogements, logement);\r\n     }) */\r\n  },\r\n  methods: {\r\n        /**\r\n         * Methode permettant de reinitialiser les props du modal\r\n         */\r\n        resetLogementFormProps(){\r\n          this.action='add'\r\n          this.title=\"Ajouter un logement\"\r\n          this.$bvModal.hide('logementForm')\r\n          this.logement=null\r\n        },\r\n        //traitement de l'évènement émis d'ajout d'un logement\r\n        addedLogement() {\r\n            this.getHousing(false);\r\n            this.$bvModal.hide('logementForm')\r\n\r\n        },\r\n        editSuccessfull(){\r\n          this.action='add';\r\n          this.title=\"Ajouter un logement\";\r\n          this.$bvModal.hide('logementForm');\r\n          this.logement=null;\r\n          this.getHousing(false);\r\n          /*this.showOverlay=true;\r\n          this.logements = this.renameLogements(this.logements, logement);\r\n          this.trueLogements = this.renameLogements(this.trueLogements, logement);\r\n          this.showOverlay=false;*/\r\n        },\r\n      \r\n\r\n\r\n    //recupération de la liste des logements\r\n    async getHousing(begin) {\r\n        this.showOverlay = true;\r\n   \r\n          this.logements = this.trueLogements = await axios.get(\"logements\").then(response => response.result || []);\r\n          this.autoAddTarget();\r\n        this.showOverlay = false;\r\n      \r\n        if (begin !== false) {\r\n            this.typesLogements = await axios.get(\"types-logements?all=true\").then(response => response.result || []);\r\n            this.cites = (await axios.get(\"cites\").then(response => response.result || [])).filter(elt => elt.batiments.length > 0);\r\n        }\r\n        \r\n        this.autoDetailsTarget();\r\n    },\r\n       /**\r\n       * Affiche le modal de création d'un= logement directement au chargement de la page\r\n       * ceci est utilisé lorsqu'on est arrivé ici en provenant de la homepage\r\n       */\r\n        autoAddTarget() {\r\n            const formLogement = this.$route.query.formLogement || null;\r\n            if (formLogement) {\r\n                 this.$refs['logement-form'].show();\r\n                window.history.replaceState(\r\n                    {},\r\n                    \"\",\r\n                    window.location.href.split(\"?\")[0]\r\n                );\r\n                \r\n            }\r\n        },\r\n    /**\r\n     * Affiche automatiquement les details d'un logement au chargement\r\n     * ceci est utilise dans le cas où on a cliqué sur le batiment en etant sur le details d'une cité\r\n     */\r\n    autoDetailsTarget() {\r\n      const target = this.$route.query.target || null;\r\n      if (target) {\r\n        const logement = this.trueLogements.filter(\r\n          elt => elt.idLogement == target\r\n        )[0];\r\n        if (logement) {\r\n          this.showDetails(logement);\r\n          window.history.replaceState(\r\n            {},\r\n            \"\",\r\n            window.location.href.split(\"?\")[0]\r\n          );\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Ouvre le formulaire de clonnage d'un logement\r\n     */\r\n    cloneLogement(logement) {\r\n      this.clone.enabled = true;\r\n      this.clone.idBatiment = logement.idBatiment;\r\n      this.logement = logement;\r\n    },\r\n    /**\r\n     * valide le clonnage d'un logement\r\n     */\r\n    validateClone(bvModalEvt) {\r\n      bvModalEvt.preventDefault();\r\n      this.clone.error = false;\r\n\r\n      if (php.empty(this.clone.nbr) || this.clone.nbr < 1) {\r\n        this.clone.error = true;\r\n        return;\r\n      }\r\n      if (this.clone.nbr > 10) {\r\n          this.clone.error = true\r\n          return App.error('Impossible de cloner plus de 10 logements') \r\n      }\r\n      this.clone.submitted = true;\r\n\r\n      axios\r\n        .post(`logements/${this.logement.idLogement}/clone`, this.clone)\r\n        .then(response => {\r\n          this.getHousing(false);\r\n          this.resetCloneForm();\r\n          return App.notifySuccess(response.message);\r\n        })\r\n        .catch(error => {\r\n          this.clone.submitted = false;\r\n          return App.alertError(error.message);\r\n        });\r\n    },\r\n    /**\r\n     * Reinitialise le formulaire de clonnage\r\n     */\r\n    resetCloneForm() {\r\n      this.clone = {\r\n        enabled: false,\r\n        submitted: false,\r\n        error: false,\r\n        nbr: null,\r\n        idBatiment: null\r\n      };\r\n    },\r\n\r\n    loadCsv() {\r\n      this.commandeLoadCsv = true;\r\n    },\r\n    updateLogement(logement) {\r\n      this.action='edit'\r\n      console.log(\"logement\", logement);\r\n      this.logement=logement\r\n      this.title=\"édition du logement \"+this.logement.refLogement;\r\n      this.$refs['logement-form'].show()\r\n    },\r\n    removeLogement(logement) {\r\n      console.log(\"logement\", logement);\r\n    },\r\n\r\n    /**\r\n     * Affiche les details d'un logement\r\n     *\r\n     * @param {Object} logement\r\n     */\r\n    showDetails(logement) {\r\n      this.logement = logement;\r\n      setTimeout(() => {\r\n        $(\"#editLayoutItem\").modal(\"show\");\r\n        $(\"#editLayoutItem\").on(\"hide.bs.modal\", e => {\r\n          this.logement = null;\r\n        });\r\n        $(\"#editLayoutItem\").on(\"hidden.bs.modal\", e => {\r\n          this.logement = null;\r\n        });\r\n      }, 100);\r\n    },\r\n\r\n    /**\r\n     * Traitement de l'ajout de logements en masse\r\n     */\r\n    onData(result) {\r\n      let errorState = false;\r\n\r\n      for (let i = 0; i < result.$data.length; i++) {\r\n        let adresse = {\r\n          pays: result.$data[i].data.pays,\r\n          ville: result.$data[i].data.ville,\r\n          quartier: result.$data[i].data.quartier,\r\n          lon: result.$data[i].data.lon,\r\n          lat: result.$data[i].data.lat\r\n        };\r\n        let logement = {\r\n          nom: result.$data[i].data.nom,\r\n          ref: result.$data[i].data.ref,\r\n          description: result.$data[i].data.description,\r\n          prixMin: result.$data[i].data.prixMin,\r\n          prixMax: result.$data[i].data.prixMax,\r\n          idSousType: result.$data[i].data.sousTypeLogement,\r\n          idBatiment: result.$data[i].data.batiment,\r\n          adresse: adresse,\r\n          caracteristiques: [\r\n            {\r\n              libelle: \"chambre\",\r\n              valeur: result.$data[i].data.nombreChambres\r\n            },\r\n            {\r\n              libelle: \"salon\",\r\n              valeur: result.$data[i].data.nombreChambres\r\n            },\r\n            {\r\n              libelle: \"cuisine\",\r\n              valeur: result.$data[i].data.nombreChambres\r\n            },\r\n            {\r\n              libelle: \"douche\",\r\n              valeur:\r\n                result.$data[i].data.nombreDouches != null\r\n                  ? result.$data[i].data.nombreDouches\r\n                  : 0\r\n            },\r\n            {\r\n              libelle: \"parkings\",\r\n              valeur:\r\n                result.$data[i].data.nombreParkings != null\r\n                  ? result.$data[i].data.nombreParkings\r\n                  : 0\r\n            }\r\n          ]\r\n        };\r\n        console.log(\"logement final\", logement);\r\n        this.housingToUpload.push(logement);\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        let result;\r\n\r\n        for (let j = 0; j < this.housingToUpload.length; j++) {\r\n          try {\r\n            result = axios\r\n              .post(\"logements\", this.housingToUpload[j])\r\n              .then(response => response.result);\r\n\r\n            if (j == this.housingToUpload.length - 1) {\r\n              this.getHousing(false);\r\n            }\r\n          } catch (error) {\r\n            console.log(error);\r\n          }\r\n          if (!result) errorState = true;\r\n        }\r\n        setTimeout(() => {\r\n          if (errorState) {\r\n            reject(\"erreur produite\");\r\n            errorState = false;\r\n          } else {\r\n            resolve(\"import reussi\");\r\n          }\r\n        }, 300);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.dispose {\r\n  margin-top: -0.5em;\r\n}\r\n.text-form-logement {\r\n    font-size: 1.3em;\r\n    color: #212121ef;\r\n    font-weight: 800;\r\n    text-align: center;\r\n    margin-top: 2px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListLogements.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListLogements.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListLogements.vue?vue&type=template&id=3e9154bc&scoped=true&\"\nimport script from \"./ListLogements.vue?vue&type=script&lang=js&\"\nexport * from \"./ListLogements.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListLogements.vue?vue&type=style&index=0&id=3e9154bc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e9154bc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.showOverlayP,\"rounded\":\"sm\"}},[_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Montant\",\"description\":\"à combien s'élève la dépense éffectuée?\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: 45000\",\"type\":\"number\",\"trim\":\"\"},model:{value:(_vm.depense.montant),callback:function ($$v) {_vm.$set(_vm.depense, \"montant\", $$v)},expression:\"depense.montant\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Date à laquelle la dépense a été éffectuée\"}},[_c('date-picker',{staticClass:\"w-100\",attrs:{\"placeholder\":\"Selectionnez une date\",\"format\":\"dddd, DD MMMM YYYY\",\"valueType\":\"YYYY-MM-DD\",\"clearable\":false},model:{value:(_vm.depense.date),callback:function ($$v) {_vm.$set(_vm.depense, \"date\", $$v)},expression:\"depense.date\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Motif\",\"description\":\"Pourquoi avez-vous éffectué cette dépense ?\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: Replacement ampoules cassées\",\"trim\":\"\"},model:{value:(_vm.depense.motif),callback:function ($$v) {_vm.$set(_vm.depense, \"motif\", $$v)},expression:\"depense.motif\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"responsable\",\"description\":\"Qui est celui qui a déclaré la dépense?\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: Pedro\",\"trim\":\"\"},model:{value:(_vm.depense.responsable),callback:function ($$v) {_vm.$set(_vm.depense, \"responsable\", $$v)},expression:\"depense.responsable\"}})],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"7\"}},[_c('b-form-group',{attrs:{\"label\":\"observations\"}},[_c('b-form-textarea',{staticClass:\"mb-2\",attrs:{\"placeholder\":\"C'est ici que vou pouvez décrire ce qui a engendré la dépense\",\"rows\":\"7\"},model:{value:(_vm.depense.observation),callback:function ($$v) {_vm.$set(_vm.depense, \"observation\", $$v)},expression:\"depense.observation\"}})],1)],1),_c('b-col',{attrs:{\"cols\":\"5\"}},[_c('b-form-group',{attrs:{\"label\":\"joindre une photo\"}},[_c('img-inputer',{attrs:{\"theme\":\"light\",\"size\":\"xl\",\"bottom-text\":\"déposez le fichier ici ou cliquez pour modifier\",\"icon\":\"img\",\"placeholder\":\"joindre recu dépense\"},on:{\"onChange\":_vm.onrecuLoad},model:{value:(_vm.depense.photo),callback:function ($$v) {_vm.$set(_vm.depense, \"photo\", $$v)},expression:\"depense.photo\"}})],1)],1)],1),_c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Votre dépense concerne\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar ariaDescribedby = ref.ariaDescribedby;\nreturn [_c('b-form-radio-group',{attrs:{\"id\":\"radio-slots\",\"options\":_vm.options,\"aria-describedby\":ariaDescribedby,\"name\":\"radio-options-slots\",\"disabled\":_vm.disableState},on:{\"change\":_vm.setAction},model:{value:(_vm.commandeAction),callback:function ($$v) {_vm.commandeAction=$$v},expression:\"commandeAction\"}})]}}])})],1),_c('b-col',[_c('transition',{attrs:{\"enter-active-class\":\"animated zoomIn\"}},[(_vm.showSelectCite)?_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Cité concernée\")]),_c('v-select',{class:{ disabled: _vm.disabled == true },attrs:{\"label\":\"nomCite\",\"options\":_vm.cites},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}})],1):_vm._e(),(_vm.showSelectBatiment)?_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Batiment concerné\")]),_c('v-select',{class:{ disabled: _vm.disabled == true },attrs:{\"label\":\"nomBatiment\",\"options\":_vm.batiments},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}})],1):_vm._e(),(_vm.showSelectLogement)?_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Logement concerné\")]),_c('v-select',{class:{ disabled: _vm.disabled == true },attrs:{\"label\":\"refLogement\",\"options\":_vm.logements},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}})],1):_vm._e()])],1)],1),_c('hr'),_c('div',{staticClass:\"float-right\"},[(_vm.provenance == '2')?_c('b-button',{staticClass:\"mr-1\",on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('cancel')}}},[_vm._v(\"Annuler\")]):_vm._e(),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitModal.apply(null, arguments)}}},[_vm._v(\"Valider\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-overlay :show=\"showOverlayP\" rounded=\"sm\">\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group\r\n            label=\"Montant\"\r\n            description=\"à combien s'élève la dépense éffectuée?\"\r\n          >\r\n            <b-form-input\r\n              v-model=\"depense.montant\"\r\n              placeholder=\"Ex: 45000\"\r\n              type=\"number\"\r\n              trim\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col>\r\n            <b-form-group label=\"Date à laquelle la dépense a été éffectuée\">\r\n                <date-picker v-model=\"depense.date\" placeholder=\"Selectionnez une date\" format=\"dddd, DD MMMM YYYY\" valueType=\"YYYY-MM-DD\" class=\"w-100\" :clearable=\"false\"/>\r\n            </b-form-group>                        \r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group\r\n            label=\"Motif\"\r\n            description=\"Pourquoi avez-vous éffectué cette dépense ?\"\r\n          >\r\n            <b-form-input\r\n              v-model=\"depense.motif\"\r\n              placeholder=\"Ex: Replacement ampoules cassées\"\r\n              trim\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col>\r\n          <b-form-group\r\n            label=\"responsable\"\r\n            description=\"Qui est celui qui a déclaré la dépense?\"\r\n          >\r\n            <b-form-input\r\n              v-model=\"depense.responsable\"\r\n              placeholder=\"Ex: Pedro\"\r\n              trim\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col cols=\"7\">\r\n          <b-form-group label=\"observations\">\r\n            <b-form-textarea\r\n              class=\"mb-2\"\r\n              placeholder=\"C'est ici que vou pouvez décrire ce qui a engendré la dépense\"\r\n              rows=\"7\"\r\n              v-model=\"depense.observation\"\r\n            ></b-form-textarea>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col cols=\"5\">\r\n            <b-form-group label=\"joindre une photo\">\r\n                <img-inputer v-model=\"depense.photo\" theme=\"light\" size=\"xl\" \r\n                        bottom-text=\"déposez le fichier ici ou cliquez pour modifier\" icon=\"img\" placeholder=\"joindre recu dépense\"\r\n                        @onChange=\"onrecuLoad\"/>\r\n            </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n        <b-overlay :show=\"showOverlay\" rounded=\"sm\">\r\n            <b-row>\r\n                    <b-col>\r\n                        <b-form-group label=\"Votre dépense concerne\" v-slot=\"{ ariaDescribedby }\">\r\n                                <b-form-radio-group\r\n                                    id=\"radio-slots\"\r\n                                    v-model=\"commandeAction\"\r\n                                    :options=\"options\"\r\n                                    :aria-describedby=\"ariaDescribedby\"\r\n                                    name=\"radio-options-slots\"\r\n                                    :disabled=\"disableState\"\r\n                                    @change=\"setAction\"\r\n                                >\r\n                                </b-form-radio-group>\r\n                        </b-form-group>\r\n                    </b-col>\r\n                    <b-col>\r\n                        <transition enter-active-class=\"animated zoomIn\">\r\n                            <div class=\"form-group\" v-if=\"showSelectCite\">\r\n                                    <label>Cité concernée</label>\r\n                                     <v-select label=\"nomCite\" :options=\"cites\" v-model=\"id\" :class=\"{ disabled: disabled == true }\"></v-select>\r\n                            </div>\r\n                            <div class=\"form-group\" v-if=\"showSelectBatiment\">\r\n                                    <label>Batiment concerné</label>\r\n                                    <v-select label=\"nomBatiment\" :options=\"batiments\" v-model=\"id\" :class=\"{ disabled: disabled == true }\"></v-select>\r\n                            </div>\r\n                            <div class=\"form-group\" v-if=\"showSelectLogement\">\r\n                                <label>Logement concerné</label>\r\n                                <v-select label=\"refLogement\" :options=\"logements\"  v-model=\"id\" :class=\"{ disabled: disabled == true }\"></v-select>\r\n                            </div>\r\n                        </transition>\r\n                    </b-col>\r\n            </b-row>\r\n             <hr>\r\n             <div class=\"float-right\">\r\n                <b-button @click.prevent=\"$emit('cancel')\" class=\"mr-1\" v-if=\"provenance == '2'\">Annuler</b-button>\r\n                <b-button @click.prevent=\"submitModal\" variant=\"danger\">Valider</b-button>\r\n            </div>\r\n        </b-overlay>\r\n    </b-overlay>\r\n</template>\r\n<script>\r\nimport DatePicker from 'vue2-datepicker';\r\nimport 'vue2-datepicker/index.css';\r\nimport 'vue2-datepicker/locale/fr';\r\nimport notif from \"@/plugins/notif.js\";\r\nconst php = require(\"phpjs\");\r\nimport Vue from 'vue'\r\nimport ImgInputer from 'vue-img-inputer'\r\nimport 'vue-img-inputer/dist/index.css'\r\nVue.component('ImgInputer', ImgInputer)\r\nexport default {\r\n  name: \"depense-form\",\r\n  data: () => ({\r\n   disabled:false,\r\n   //permet de disable la sélection dans un appel extérieur\r\n   disableState:false,\r\n    options: [\r\n          { text: 'une cité', value: 'cite' },\r\n          { text: 'un batiment', value: 'batiment' },\r\n          { text: 'un logement', value: 'logement' }\r\n    ],\r\n    depense: {\r\n      montant: \"\",\r\n      date: \"\",\r\n      motif: \"\",\r\n      responsable: \"\",\r\n      obs: \"\",\r\n      photo:\"\"\r\n    },\r\n    id:\"\",\r\n    commandeAction:\"\",\r\n    showOverlay: false,\r\n    showOverlayP:false,\r\n    showSelectCite:false,\r\n    showSelectBatiment:false,\r\n    showSelectLogement:false,\r\n    sendForm: false,\r\n    cites: [],\r\n    batiments:[],\r\n    logements: []\r\n  }),\r\n  components: {\r\n    DatePicker\r\n  },\r\n  props: {\r\n        cite: { type: Object},\r\n        batiment: { type: Object},\r\n        logement: { type: Object},\r\n        action: {type: String, required: true, default: \"add\"},\r\n        provenance: {type: String, required: true, default: \"1\"}\r\n    },\r\n  methods: {\r\n      //methode de gestion du fichier accompagnant une dépense\r\n      async onrecuLoad(e){\r\n        const fileDepense=e;\r\n        this.depense.photo=await this.getBase64(fileDepense)\r\n      },\r\n    /**\r\n     * action à effectuer en fonction de l'entité sélectionné\r\n     * par celui qui remplit le formulaire\r\n     */\r\n    async setAction(){\r\n        this.showOverlay=true;\r\n        if(this.commandeAction =='cite'){\r\n            this.showSelectCite=true;\r\n            this.showSelectBatiment=false;\r\n            this.showSelectLogement=false;\r\n            try {\r\n                this.cites=await await axios.get(\"cites\").then(response => response.result);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        if(this.commandeAction =='batiment'){\r\n            this.showSelectBatiment=true;\r\n            this.showSelectCite=false;\r\n            this.showSelectLogement=false;\r\n            try {\r\n                this.batiments=await await axios.get(\"batiments\").then(response => response.result);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        if(this.commandeAction =='logement'){\r\n            this.showSelectLogement=true;\r\n            this.showSelectCite=false;\r\n            this.showSelectBatiment=false;\r\n            try {\r\n                this.logements=await await axios.get(\"logements\").then(response => response.result);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        this.showOverlay=false;\r\n    },\r\n\r\n    resetModal() {\r\n      this.depense = {\r\n        montant: '',\r\n        date: '',\r\n        motif: '',\r\n        responsable: '',\r\n        observation: ''\r\n      };\r\n      if(this.provenance !='2'){\r\n        this.showSelectCite=false; this.showSelectBatiment=false; this.showSelectLogement=false;\r\n        this.id=null; this.commandeAction=\"\";\r\n      }\r\n      setTimeout(() => {\r\n        this.$emit('closeDepenseModal');\r\n      }, 500);\r\n    },\r\n\r\n    //validation formulaire d'ajout/modification d'une dépense\r\n    submitModal(bvModalEvt) {\r\n        \r\n      bvModalEvt.preventDefault();\r\n      if (php.empty(this.depense.montant) || php.empty(this.depense.motif)|| php.empty(this.id)) {\r\n                return App.error('Un montant, un motif et l\\'entité concernée par la dépense sont obligatoires')\r\n      }\r\n      if (this.depense.montant =='') {\r\n        return App.error('Vous devez spécifier un montant')\r\n      }\r\n      if (this.depense.motif =='') {\r\n        return App.error('Vous devez spécifier un motif')\r\n      }\r\n      if (this.id =='') {\r\n        return App.error('Vous devez spécifier l\\'entité concernée par la dépense')\r\n      }\r\n      if (this.action == \"add\") {\r\n          this.showOverlayP = true;\r\n         if(this.showSelectLogement){\r\n              console.log(\"dépense\",this.depense,\"id\",this.id.idLogement)\r\n              axios.post('/logements/'+this.id.idLogement+'/depenses',this.depense).then(response =>{\r\n                  this.resetModal();\r\n                   this.showOverlayP = false;\r\n                  this.$emit(\"depenseAdded\", response.result);\r\n                  return App.notifySuccess(response.message)\r\n                 \r\n              })\r\n              .catch(error => {\r\n                this.showOverlayP = false;\r\n                 notif.error(error.message);\r\n            });\r\n          }\r\n           if(this.showSelectCite){\r\n              axios.post('/cites/'+this.id.idCite+'/depenses',this.depense).then(response =>{\r\n                  this.resetModal();\r\n                   this.showOverlayP = false;\r\n                  this.$emit(\"depenseAdded\", response.result);\r\n                  return App.notifySuccess(response.message)\r\n              })\r\n              .catch(error => {\r\n                 this.showOverlayP = false;\r\n                 notif.error(error.message);\r\n            });\r\n          }\r\n          if(this.showSelectBatiment){\r\n              axios.post('/batiments/'+this.id.idBatiment+'/depenses',this.depense).then(response =>{\r\n                  this.resetModal();\r\n                   this.showOverlayP = false;\r\n                  this.$emit(\"depenseAdded\", response.result);\r\n                  return App.notifySuccess(response.message)\r\n              })\r\n              .catch(error => {\r\n                this.showOverlayP = false;\r\n                notif.error(error.message);\r\n            });\r\n          }\r\n            \r\n      }\r\n    },\r\n    getBase64(file) {\r\n      return new Promise((resolve, reject) => {\r\n          const reader = new FileReader();\r\n          reader.readAsDataURL(file);\r\n          reader.onload = () => resolve(reader.result);\r\n          reader.onerror = (error) => reject(error);\r\n      });\r\n    }\r\n  },\r\n  mounted(){\r\n    if(this.cite !=null){\r\n      this.commandeAction=\"cite\";\r\n      this.showSelectCite=true;\r\n      this.id=this.cite;\r\n      this.disabled=true;\r\n      this.disableState=true;\r\n    }\r\n    if(this.batiment !=null){\r\n      this.commandeAction=\"batiment\";\r\n      this.showSelectBatiment=true;\r\n      this.id=this.batiment;\r\n      this.disabled=true;\r\n      this.disableState=true;\r\n    }\r\n     if(this.logement !=null){\r\n      this.commandeAction=\"logement\";\r\n      this.showSelectLogement=true;\r\n      this.id=this.logement;\r\n      this.disabled=true;\r\n      this.disableState=true;\r\n    }\r\n  }\r\n\r\n};\r\n</script>\r\n<style scoped>\r\n .disabled {\r\n    pointer-events:none;\r\n    color: #bfcbd9;\r\n    cursor: not-allowed;\r\n    background-image: none;\r\n    background-color: #eef1f6;\r\n    border-color: #d1dbe5;   \r\n }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepenseForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepenseForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DepenseForm.vue?vue&type=template&id=47a744a2&scoped=true&\"\nimport script from \"./DepenseForm.vue?vue&type=script&lang=js&\"\nexport * from \"./DepenseForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DepenseForm.vue?vue&type=style&index=0&id=47a744a2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47a744a2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsLogement.vue?vue&type=style&index=0&id=6553397f&scoped=true&lang=css&\"","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vuejs\"] = factory();\n\telse\n\t\troot[\"vuejs\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"fae3\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"8875\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    var descriptor = Object.getOwnPropertyDescriptor(document, 'currentScript')\n    // for chrome\n    if (!descriptor && 'currentScript' in document && document.currentScript) {\n      return document.currentScript\n    }\n\n    // for other browsers with native support for currentScript\n    if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n\n\n/***/ }),\n\n/***/ \"c8ba\":\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n\n/***/ \"f2ae\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar polyfill = createCommonjsModule(function (module, exports) {\n(function (global, factory) {\n\tfactory();\n}(commonjsGlobal, (function () { 'use strict';\n\n/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nfunction allSettled(arr) {\n  var P = this;\n  return new P(function(resolve, reject) {\n    if (!(arr && typeof arr.length !== 'undefined')) {\n      return reject(\n        new TypeError(\n          typeof arr +\n            ' ' +\n            arr +\n            ' is not iterable(cannot read property Symbol(Symbol.iterator))'\n        )\n      );\n    }\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        var then = val.then;\n        if (typeof then === 'function') {\n          then.call(\n            val,\n            function(val) {\n              res(i, val);\n            },\n            function(e) {\n              args[i] = { status: 'rejected', reason: e };\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            }\n          );\n          return;\n        }\n      }\n      args[i] = { status: 'fulfilled', value: val };\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n}\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = finallyConstructor;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.allSettled = allSettled;\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\n/** @suppress {undefinedVars} */\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof commonjsGlobal !== 'undefined') {\n    return commonjsGlobal;\n  }\n  throw new Error('unable to locate global object');\n})();\n\n// Expose the polyfill if Promise is undefined or set to a\n// non-function value. The latter can be due to a named HTMLElement\n// being exposed by browsers for legacy reasons.\n// https://github.com/taylorhakes/promise-polyfill/issues/114\nif (typeof globalNS['Promise'] !== 'function') {\n  globalNS['Promise'] = Promise;\n} else if (!globalNS.Promise.prototype['finally']) {\n  globalNS.Promise.prototype['finally'] = finallyConstructor;\n} else if (!globalNS.Promise.allSettled) {\n  globalNS.Promise.allSettled = allSettled;\n}\n\n})));\n});\n\nvar contains = function (other) {\n    if (arguments.length < 1) {\n        throw new TypeError('1 argument is required');\n    }\n    if (typeof other !== 'object') {\n        throw new TypeError('Argument 1 (”other“) to Node.contains must be an instance of Node');\n    }\n    var node = other;\n    do {\n        if (this === node) {\n            return true;\n        }\n        if (node) {\n            node = node.parentNode;\n        }\n    } while (node);\n    return false;\n};\nfunction registerDocumentContainsPolyfill() {\n    // tslint:disable-next-line\n    if (typeof document === 'object' && typeof document.contains !== 'function') {\n        Object.getPrototypeOf(document).contains = contains;\n    }\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/** @deprecated */\r\n\r\n\r\n/** @deprecated */\n\nvar eventemitter3 = createCommonjsModule(function (module) {\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\n{\n  module.exports = EventEmitter;\n}\n});\n\nvar eventemitter3_1 = eventemitter3.EventEmitter;\n\n/* eslint no-void: \"off\" */\n\n// Loaded ready states\nvar loadedStates = ['interactive', 'complete'];\n\n// Return Promise\nvar whenDomReady = function whenDomReady(cb, doc) {\n\treturn new Promise(function (resolve) {\n\t\t// Allow doc to be passed in as the lone first param\n\t\tif (cb && typeof cb !== 'function') {\n\t\t\tdoc = cb;\n\t\t\tcb = null;\n\t\t}\n\n\t\t// Use global document if we don't have one\n\t\tdoc = doc || window.document;\n\n\t\t// Handle DOM load\n\t\tvar done = function done() {\n\t\t\treturn resolve(void (cb && setTimeout(cb)));\n\t\t};\n\n\t\t// Resolve now if DOM has already loaded\n\t\t// Otherwise wait for DOMContentLoaded\n\t\tif (loadedStates.indexOf(doc.readyState) !== -1) {\n\t\t\tdone();\n\t\t} else {\n\t\t\tdoc.addEventListener('DOMContentLoaded', done);\n\t\t}\n\t});\n};\n\n// Promise chain helper\nwhenDomReady.resume = function (doc) {\n\treturn function (val) {\n\t\treturn whenDomReady(doc).then(function () {\n\t\t\treturn val;\n\t\t});\n\t};\n};\n\nvar containers = []; // will store container HTMLElement references\nvar styleElements = []; // will store {prepend: HTMLElement, append: HTMLElement}\n\nvar usage = 'insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).';\n\nfunction insertCss(css, options) {\n    options = options || {};\n\n    if (css === undefined) {\n        throw new Error(usage);\n    }\n\n    var position = options.prepend === true ? 'prepend' : 'append';\n    var container = options.container !== undefined ? options.container : document.querySelector('head');\n    var containerId = containers.indexOf(container);\n\n    // first time we see this container, create the necessary entries\n    if (containerId === -1) {\n        containerId = containers.push(container) - 1;\n        styleElements[containerId] = {};\n    }\n\n    // try to get the correponding container + position styleElement, create it otherwise\n    var styleElement;\n\n    if (styleElements[containerId] !== undefined && styleElements[containerId][position] !== undefined) {\n        styleElement = styleElements[containerId][position];\n    } else {\n        styleElement = styleElements[containerId][position] = createStyleElement();\n\n        if (position === 'prepend') {\n            container.insertBefore(styleElement, container.childNodes[0]);\n        } else {\n            container.appendChild(styleElement);\n        }\n    }\n\n    // strip potential UTF-8 BOM if css was read from a file\n    if (css.charCodeAt(0) === 0xFEFF) { css = css.substr(1, css.length); }\n\n    // actually add the stylesheet\n    if (styleElement.styleSheet) {\n        styleElement.styleSheet.cssText += css;\n    } else {\n        styleElement.textContent += css;\n    }\n\n    return styleElement;\n}\n\nfunction createStyleElement() {\n    var styleElement = document.createElement('style');\n    styleElement.setAttribute('type', 'text/css');\n    return styleElement;\n}\n\nvar insertCss_1 = insertCss;\nvar insertCss_2 = insertCss;\n\ninsertCss_1.insertCss = insertCss_2;\n\nvar elementClass = function(opts) {\n  return new ElementClass(opts)\n};\n\nfunction indexOf(arr, prop) {\n  if (arr.indexOf) return arr.indexOf(prop)\n  for (var i = 0, len = arr.length; i < len; i++)\n    if (arr[i] === prop) return i\n  return -1\n}\n\nfunction ElementClass(opts) {\n  if (!(this instanceof ElementClass)) return new ElementClass(opts)\n  var self = this;\n  if (!opts) opts = {};\n\n  // similar doing instanceof HTMLElement but works in IE8\n  if (opts.nodeType) opts = {el: opts};\n\n  this.opts = opts;\n  this.el = opts.el || document.body;\n  if (typeof this.el !== 'object') this.el = document.querySelector(this.el);\n}\n\nElementClass.prototype.add = function(className) {\n  var el = this.el;\n  if (!el) return\n  if (el.className === \"\") return el.className = className\n  var classes = el.className.split(' ');\n  if (indexOf(classes, className) > -1) return classes\n  classes.push(className);\n  el.className = classes.join(' ');\n  return classes\n};\n\nElementClass.prototype.remove = function(className) {\n  var el = this.el;\n  if (!el) return\n  if (el.className === \"\") return\n  var classes = el.className.split(' ');\n  var idx = indexOf(classes, className);\n  if (idx > -1) classes.splice(idx, 1);\n  el.className = classes.join(' ');\n  return classes\n};\n\nElementClass.prototype.has = function(className) {\n  var el = this.el;\n  if (!el) return\n  var classes = el.className.split(' ');\n  return indexOf(classes, className) > -1\n};\n\nElementClass.prototype.toggle = function(className) {\n  var el = this.el;\n  if (!el) return\n  if (this.has(className)) this.remove(className);\n  else this.add(className);\n};\n\nvar lib = createCommonjsModule(function (module, exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM = exports.ERR_NOT_IN_IFRAME = exports.ERR_CONNECTION_TIMEOUT = exports.ERR_CONNECTION_DESTROYED = void 0;\nvar HANDSHAKE = 'handshake';\nvar HANDSHAKE_REPLY = 'handshake-reply';\nvar CALL = 'call';\nvar REPLY = 'reply';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar MESSAGE = 'message';\nvar DATA_CLONE_ERROR = 'DataCloneError';\nvar ERR_CONNECTION_DESTROYED = 'ConnectionDestroyed';\nexports.ERR_CONNECTION_DESTROYED = ERR_CONNECTION_DESTROYED;\nvar ERR_CONNECTION_TIMEOUT = 'ConnectionTimeout';\nexports.ERR_CONNECTION_TIMEOUT = ERR_CONNECTION_TIMEOUT;\nvar ERR_NOT_IN_IFRAME = 'NotInIframe';\nexports.ERR_NOT_IN_IFRAME = ERR_NOT_IN_IFRAME;\nvar ERR_IFRAME_ALREADY_ATTACHED_TO_DOM = 'IframeAlreadyAttachedToDom';\nexports.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM = ERR_IFRAME_ALREADY_ATTACHED_TO_DOM;\nvar CHECK_IFRAME_IN_DOC_INTERVAL = 60000;\nvar DEFAULT_PORTS = {\n  'http:': '80',\n  'https:': '443'\n};\nvar URL_REGEX = /^(https?:|file:)?\\/\\/([^/:]+)?(:(\\d+))?/;\nvar Penpal = {\n  ERR_CONNECTION_DESTROYED: ERR_CONNECTION_DESTROYED,\n  ERR_CONNECTION_TIMEOUT: ERR_CONNECTION_TIMEOUT,\n  ERR_NOT_IN_IFRAME: ERR_NOT_IN_IFRAME,\n  ERR_IFRAME_ALREADY_ATTACHED_TO_DOM: ERR_IFRAME_ALREADY_ATTACHED_TO_DOM,\n\n  /**\n   * Promise implementation.\n   * @type {Constructor}\n   */\n  Promise: function () {\n    try {\n      return window ? window.Promise : null;\n    } catch (e) {\n      return null;\n    }\n  }(),\n\n  /**\n   * Whether debug messages should be logged.\n   * @type {boolean}\n   */\n  debug: false\n};\n/**\n * @return {number} A unique ID (not universally unique)\n */\n\nvar generateId = function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n}();\n/**\n * Logs a message.\n * @param {...*} args One or more items to log\n */\n\n\nvar log = function log() {\n  if (Penpal.debug) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    (_console = console).log.apply(_console, ['[Penpal]'].concat(args)); // eslint-disable-line no-console\n\n  }\n};\n/**\n * Converts a URL into an origin.\n * @param {string} url\n * @return {string} The URL's origin\n */\n\n\nvar getOriginFromUrl = function getOriginFromUrl(url) {\n  var location = document.location;\n  var regexResult = URL_REGEX.exec(url);\n  var protocol;\n  var hostname;\n  var port;\n\n  if (regexResult) {\n    // It's an absolute URL. Use the parsed info.\n    // regexResult[1] will be undefined if the URL starts with //\n    protocol = regexResult[1] ? regexResult[1] : location.protocol;\n    hostname = regexResult[2];\n    port = regexResult[4];\n  } else {\n    // It's a relative path. Use the current location's info.\n    protocol = location.protocol;\n    hostname = location.hostname;\n    port = location.port;\n  } // If the protocol is file, the origin is \"null\"\n  // The origin of a document with file protocol is an opaque origin\n  // and its serialization \"null\" [1]\n  // [1] https://html.spec.whatwg.org/multipage/origin.html#origin\n\n\n  if (protocol === \"file:\") {\n    return \"null\";\n  } // If the port is the default for the protocol, we don't want to add it to the origin string\n  // or it won't match the message's event.origin.\n\n\n  var portSuffix = port && port !== DEFAULT_PORTS[protocol] ? \":\".concat(port) : '';\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(portSuffix);\n};\n/**\n * A simplified promise class only used internally for when destroy() is called. This is\n * used to destroy connections synchronously while promises typically resolve asynchronously.\n *\n * @param {Function} executor\n * @returns {Object}\n * @constructor\n */\n\n\nvar DestructionPromise = function DestructionPromise(executor) {\n  var handlers = [];\n  executor(function () {\n    handlers.forEach(function (handler) {\n      handler();\n    });\n  });\n  return {\n    then: function then(handler) {\n      handlers.push(handler);\n    }\n  };\n};\n/**\n * Converts an error object into a plain object.\n * @param {Error} Error object.\n * @returns {Object}\n */\n\n\nvar serializeError = function serializeError(_ref) {\n  var name = _ref.name,\n      message = _ref.message,\n      stack = _ref.stack;\n  return {\n    name: name,\n    message: message,\n    stack: stack\n  };\n};\n/**\n * Converts a plain object into an error object.\n * @param {Object} Object with error properties.\n * @returns {Error}\n */\n\n\nvar deserializeError = function deserializeError(obj) {\n  var deserializedError = new Error();\n  Object.keys(obj).forEach(function (key) {\n    return deserializedError[key] = obj[key];\n  });\n  return deserializedError;\n};\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodNames Names of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\n\n\nvar connectCallSender = function connectCallSender(callSender, info, methodNames, destroy, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call sender\"));\n\n  var createMethodProxy = function createMethodProxy(methodName) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      log(\"\".concat(localName, \": Sending \").concat(methodName, \"() call\")); // This handles the case where the iframe has been removed from the DOM\n      // (and therefore its window closed), the consumer has not yet\n      // called destroy(), and the user calls a method exposed by\n      // the remote. We detect the iframe has been removed and force\n      // a destroy() immediately so that the consumer sees the error saying\n      // the connection has been destroyed.\n\n      if (remote.closed) {\n        destroy();\n      }\n\n      if (destroyed) {\n        var error = new Error(\"Unable to send \".concat(methodName, \"() call due \") + \"to destroyed connection\");\n        error.code = ERR_CONNECTION_DESTROYED;\n        throw error;\n      }\n\n      return new Penpal.Promise(function (resolve, reject) {\n        var id = generateId();\n\n        var handleMessageEvent = function handleMessageEvent(event) {\n          if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === REPLY && event.data.id === id) {\n            log(\"\".concat(localName, \": Received \").concat(methodName, \"() reply\"));\n            local.removeEventListener(MESSAGE, handleMessageEvent);\n            var returnValue = event.data.returnValue;\n\n            if (event.data.returnValueIsError) {\n              returnValue = deserializeError(returnValue);\n            }\n\n            (event.data.resolution === FULFILLED ? resolve : reject)(returnValue);\n          }\n        };\n\n        local.addEventListener(MESSAGE, handleMessageEvent);\n        remote.postMessage({\n          penpal: CALL,\n          id: id,\n          methodName: methodName,\n          args: args\n        }, remoteOrigin);\n      });\n    };\n  };\n\n  destructionPromise.then(function () {\n    destroyed = true;\n  });\n  methodNames.reduce(function (api, methodName) {\n    api[methodName] = createMethodProxy(methodName);\n    return api;\n  }, callSender);\n};\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n * @param {Object} info Information about the local and remote windows.\n * @param {Object} methods The keys are the names of the methods that can be called by the remote\n * while the values are the method functions.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Function} A function that may be called to disconnect the receiver.\n */\n\n\nvar connectCallReceiver = function connectCallReceiver(info, methods, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call receiver\"));\n\n  var handleMessageEvent = function handleMessageEvent(event) {\n    if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === CALL) {\n      var _event$data = event.data,\n          methodName = _event$data.methodName,\n          args = _event$data.args,\n          id = _event$data.id;\n      log(\"\".concat(localName, \": Received \").concat(methodName, \"() call\"));\n\n      if (methodName in methods) {\n        var createPromiseHandler = function createPromiseHandler(resolution) {\n          return function (returnValue) {\n            log(\"\".concat(localName, \": Sending \").concat(methodName, \"() reply\"));\n\n            if (destroyed) {\n              // It's possible to throw an error here, but it would need to be thrown asynchronously\n              // and would only be catchable using window.onerror. This is because the consumer\n              // is merely returning a value from their method and not calling any function\n              // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n              // the value of doing so is questionable. Instead, we'll just log a message.\n              log(\"\".concat(localName, \": Unable to send \").concat(methodName, \"() reply due to destroyed connection\"));\n              return;\n            }\n\n            var message = {\n              penpal: REPLY,\n              id: id,\n              resolution: resolution,\n              returnValue: returnValue\n            };\n\n            if (resolution === REJECTED && returnValue instanceof Error) {\n              message.returnValue = serializeError(returnValue);\n              message.returnValueIsError = true;\n            }\n\n            try {\n              remote.postMessage(message, remoteOrigin);\n            } catch (err) {\n              // If a consumer attempts to send an object that's not cloneable (e.g., window),\n              // we want to ensure the receiver's promise gets rejected.\n              if (err.name === DATA_CLONE_ERROR) {\n                remote.postMessage({\n                  penpal: REPLY,\n                  id: id,\n                  resolution: REJECTED,\n                  returnValue: serializeError(err),\n                  returnValueIsError: true\n                }, remoteOrigin);\n              }\n\n              throw err;\n            }\n          };\n        };\n\n        new Penpal.Promise(function (resolve) {\n          return resolve(methods[methodName].apply(methods, args));\n        }).then(createPromiseHandler(FULFILLED), createPromiseHandler(REJECTED));\n      }\n    }\n  };\n\n  local.addEventListener(MESSAGE, handleMessageEvent);\n  destructionPromise.then(function () {\n    destroyed = true;\n    local.removeEventListener(MESSAGE, handleMessageEvent);\n  });\n};\n/**\n * @typedef {Object} Child\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {HTMLIframeElement} iframe The created iframe element.\n * @property {Function} destroy A method that, when called, will remove the iframe element from\n * the DOM and clean up event listeners.\n */\n\n/**\n * Creates an iframe, loads a webpage into the URL, and attempts to establish communication with\n * the iframe.\n * @param {Object} options\n * @param {string} options.url The URL of the webpage that should be loaded into the created iframe.\n * @param {HTMLElement} [options.appendTo] The container to which the iframe should be appended.\n * @param {Object} [options.methods={}] Methods that may be called by the iframe.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the child to respond before rejecting the connection promise.\n * @return {Child}\n */\n\n\nPenpal.connectToChild = function (_ref2) {\n  var url = _ref2.url,\n      appendTo = _ref2.appendTo,\n      iframe = _ref2.iframe,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      timeout = _ref2.timeout;\n\n  if (iframe && iframe.parentNode) {\n    var error = new Error('connectToChild() must not be called with an iframe already attached to DOM');\n    error.code = ERR_IFRAME_ALREADY_ATTACHED_TO_DOM;\n    throw error;\n  }\n\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var parent = window;\n  iframe = iframe || document.createElement('iframe');\n  iframe.src = url;\n  var childOrigin = getOriginFromUrl(url);\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to child timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    } // We resolve the promise with the call sender. If the child reconnects (for example, after\n    // refreshing or navigating to another page that uses Penpal, we'll update the call sender\n    // with methods that match the latest provided by the child.\n\n\n    var callSender = {};\n    var receiverMethodNames;\n    var destroyCallReceiver;\n\n    var handleMessage = function handleMessage(event) {\n      var child = iframe.contentWindow;\n\n      if (event.source === child && event.origin === childOrigin && event.data.penpal === HANDSHAKE) {\n        log('Parent: Received handshake, sending reply'); // If event.origin is \"null\", the remote protocol is file:\n        // and we must post messages with \"*\" as targetOrigin [1]\n        // [1] https://developer.mozilla.org/fr/docs/Web/API/Window/postMessage#Utiliser_window.postMessage_dans_les_extensions\n\n        var remoteOrigin = event.origin === \"null\" ? \"*\" : event.origin;\n        event.source.postMessage({\n          penpal: HANDSHAKE_REPLY,\n          methodNames: Object.keys(methods)\n        }, remoteOrigin);\n        var info = {\n          localName: 'Parent',\n          local: parent,\n          remote: child,\n          remoteOrigin: remoteOrigin\n        }; // If the child reconnected, we need to destroy the previous call receiver before setting\n        // up a new one.\n\n        if (destroyCallReceiver) {\n          destroyCallReceiver();\n        } // When this promise is resolved, it will destroy the call receiver (stop listening to\n        // method calls from the child) and delete its methods off the call sender.\n\n\n        var callReceiverDestructionPromise = new DestructionPromise(function (resolveCallReceiverDestructionPromise) {\n          connectionDestructionPromise.then(resolveCallReceiverDestructionPromise);\n          destroyCallReceiver = resolveCallReceiverDestructionPromise;\n        });\n        connectCallReceiver(info, methods, callReceiverDestructionPromise); // If the child reconnected, we need to remove the methods from the previous call receiver\n        // off the sender.\n\n        if (receiverMethodNames) {\n          receiverMethodNames.forEach(function (receiverMethodName) {\n            delete callSender[receiverMethodName];\n          });\n        }\n\n        receiverMethodNames = event.data.methodNames;\n        connectCallSender(callSender, info, receiverMethodNames, destroy, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    parent.addEventListener(MESSAGE, handleMessage);\n    log('Parent: Loading iframe');\n    (appendTo || document.body).appendChild(iframe); // This is to prevent memory leaks when the iframe is removed\n    // from the document and the consumer hasn't called destroy().\n    // Without this, event listeners attached to the window would\n    // stick around and since the event handlers have a reference\n    // to the iframe in their closures, the iframe would stick around\n    // too.\n\n    var checkIframeInDocIntervalId = setInterval(function () {\n      if (!document.body.contains(iframe)) {\n        clearInterval(checkIframeInDocIntervalId);\n        destroy();\n      }\n    }, CHECK_IFRAME_IN_DOC_INTERVAL);\n    connectionDestructionPromise.then(function () {\n      if (iframe.parentNode) {\n        iframe.parentNode.removeChild(iframe);\n      }\n\n      parent.removeEventListener(MESSAGE, handleMessage);\n      clearInterval(checkIframeInDocIntervalId);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n  });\n  return {\n    promise: promise,\n    iframe: iframe,\n    destroy: destroy\n  };\n};\n/**\n * @typedef {Object} Parent\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n */\n\n/**\n * Attempts to establish communication with the parent window.\n * @param {Object} options\n * @param {string} [options.parentOrigin=*] Valid parent origin used to restrict communication.\n * @param {Object} [options.methods={}] Methods that may be called by the parent window.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the parent to respond before rejecting the connection promise.\n * @return {Parent}\n */\n\n\nPenpal.connectToParent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$parentOrigin = _ref3.parentOrigin,\n      parentOrigin = _ref3$parentOrigin === void 0 ? '*' : _ref3$parentOrigin,\n      _ref3$methods = _ref3.methods,\n      methods = _ref3$methods === void 0 ? {} : _ref3$methods,\n      timeout = _ref3.timeout;\n\n  if (window === window.top) {\n    var error = new Error('connectToParent() must be called within an iframe');\n    error.code = ERR_NOT_IN_IFRAME;\n    throw error;\n  }\n\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var child = window;\n  var parent = child.parent;\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to parent timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    }\n\n    var handleMessageEvent = function handleMessageEvent(event) {\n      if ((parentOrigin === '*' || parentOrigin === event.origin) && event.source === parent && event.data.penpal === HANDSHAKE_REPLY) {\n        log('Child: Received handshake reply');\n        child.removeEventListener(MESSAGE, handleMessageEvent);\n        var info = {\n          localName: 'Child',\n          local: child,\n          remote: parent,\n          remoteOrigin: event.origin\n        };\n        var callSender = {};\n        connectCallReceiver(info, methods, connectionDestructionPromise);\n        connectCallSender(callSender, info, event.data.methodNames, destroy, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    child.addEventListener(MESSAGE, handleMessageEvent);\n    connectionDestructionPromise.then(function () {\n      child.removeEventListener(MESSAGE, handleMessageEvent);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Child: Sending handshake');\n    parent.postMessage({\n      penpal: HANDSHAKE,\n      methodNames: Object.keys(methods)\n    }, parentOrigin);\n  });\n  return {\n    promise: promise,\n    destroy: destroy\n  };\n};\n\nvar _default = Penpal;\nexports.default = _default;\n});\n\nvar Penpal = unwrapExports(lib);\n\nvar Stats = /** @class */ (function () {\n    function Stats(meta) {\n        this.$meta = meta;\n    }\n    Object.defineProperty(Stats.prototype, \"originalRows\", {\n        /**\n         * The number of rows in the parsed data\n         */\n        get: function () {\n            return this.$meta.count_rows;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Stats.prototype, \"acceptedRows\", {\n        /**\n         * The number of rows that were submitted\n         */\n        get: function () {\n            return this.$meta.count_rows_accepted || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Stats.prototype, \"originalColumns\", {\n        /**\n         * The number of columns in the parsed data\n         */\n        get: function () {\n            return this.$meta.count_columns || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Stats.prototype, \"matchedColumns\", {\n        /**\n         * The number of columns submitted\n         */\n        get: function () {\n            return this.$meta.count_columns_matched || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Stats;\n}());\n\nvar EndUser = /** @class */ (function () {\n    function EndUser(meta) {\n        this.$user = meta;\n    }\n    Object.defineProperty(EndUser.prototype, \"id\", {\n        /**\n         * The UUID referencing the user's record stored in Flatfile\n         */\n        get: function () {\n            return this.$user.id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EndUser.prototype, \"userId\", {\n        /**\n         * Your internal ID reference for this user (required)\n         */\n        get: function () {\n            return this.$user.userId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EndUser.prototype, \"name\", {\n        /**\n         * The user's full name if you provided it\n         */\n        get: function () {\n            return this.$user.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EndUser.prototype, \"email\", {\n        /**\n         * The user's email if you provided it\n         */\n        get: function () {\n            return this.$user.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EndUser.prototype, \"companyName\", {\n        /**\n         * The company name the user is currently operating under\n         */\n        get: function () {\n            return this.$user.companyName;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EndUser.prototype, \"companyId\", {\n        /**\n         * The company name the user is currently operating under\n         */\n        get: function () {\n            return this.$user.companyId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EndUser;\n}());\n\nvar UploadFile = /** @class */ (function () {\n    function UploadFile(file) {\n        this.$file = file;\n    }\n    Object.defineProperty(UploadFile.prototype, \"id\", {\n        /**\n         * A unique UUID referencing this file in the Flatfile system\n         */\n        get: function () {\n            return this.$file.id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UploadFile.prototype, \"filename\", {\n        /**\n         * The original filename on the user's system\n         */\n        get: function () {\n            return this.$file.filename;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UploadFile.prototype, \"filesize\", {\n        /**\n         * The size of the file in bytes\n         */\n        get: function () {\n            return this.$file.filesize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UploadFile.prototype, \"filetype\", {\n        /**\n         * The type of file\n         */\n        get: function () {\n            return this.$file.filetype;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UploadFile.prototype, \"url\", {\n        /**\n         * A securely signed url giving you temporary access to download the file\n         */\n        get: function () {\n            return this.$file.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return UploadFile;\n}());\n\nvar StreamedResults = /** @class */ (function () {\n    function StreamedResults(data, meta) {\n        this.$meta = meta;\n        this.$data = data;\n    }\n    Object.defineProperty(StreamedResults.prototype, \"rawOutput\", {\n        /**\n         * The raw output from the importer including all deleted rows\n         * and sequence info\n         */\n        get: function () {\n            return this.$data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"data\", {\n        /**\n         * An array of valid data, key-mapped to the configuration provided\n         * (alias of validData)\n         */\n        get: function () {\n            return this.validData;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"validData\", {\n        /**\n         * An array of valid data, key-mapped to the configuration provided\n         */\n        get: function () {\n            return this.$data\n                .filter(function (v) { return v.valid; })\n                .filter(function (v) { return !v.deleted; })\n                .map(function (v) { return v.data; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"deletedData\", {\n        /**\n         * Rows of data the user excluded from the final results,\n         * key-mapped to the configuration provided\n         */\n        get: function () {\n            return this.$data.filter(function (v) { return v.deleted; }).map(function (v) { return v.data; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"allData\", {\n        /**\n         * All data from the original file upload including deleted rows,\n         * key-mapped to the configuration provided\n         */\n        get: function () {\n            return this.$data.map(function (v) { return v.data; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"remainingChunks\", {\n        /**\n         * The number of remaining chunks in the stream\n         */\n        get: function () {\n            return Math.ceil((this.totalChunks - this.currentChunk) / this.$meta.inChunks);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"totalChunks\", {\n        /**\n         * The total number of chunks that will have to be received before data processing is completed\n         */\n        get: function () {\n            return Math.ceil(this.$meta.count_rows_accepted / this.$meta.inChunks);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"chunkSize\", {\n        /**\n         * The size of chunks as configured when requesting data.\n         */\n        get: function () {\n            return this.$meta.inChunks;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"currentChunk\", {\n        /**\n         * The current chunk by index\n         */\n        get: function () {\n            return (this.$meta.pointer + this.chunkSize) / this.chunkSize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"hasMore\", {\n        /**\n         * The current chunk by index\n         */\n        get: function () {\n            return this.$meta.hasMore;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return StreamedResults;\n}());\n\nvar Results = /** @class */ (function () {\n    function Results(data, meta, importer) {\n        this.$meta = meta;\n        this.$data = data;\n        this.$importer = importer;\n    }\n    Object.defineProperty(Results.prototype, \"rawOutput\", {\n        /**\n         * The raw output from the importer including all deleted rows\n         * and sequence info\n         */\n        get: function () {\n            return this.blobOnly(this.$data, 'rawOutput');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"data\", {\n        /**\n         * An array of valid data, key-mapped to the configuration provided\n         * (alias of validData)\n         */\n        get: function () {\n            return this.blobOnly(this.validData, 'data');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"validData\", {\n        /**\n         * An array of valid data, key-mapped to the configuration provided\n         */\n        get: function () {\n            var res = this.$data\n                .filter(function (v) { return v.valid; })\n                .filter(function (v) { return !v.deleted; })\n                .map(function (v) { return v.data; });\n            return this.blobOnly(res, 'validData');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"deletedData\", {\n        /**\n         * Rows of data the user excluded from the final results,\n         * key-mapped to the configuration provided\n         */\n        get: function () {\n            var res = this.$data.filter(function (v) { return v.deleted; }).map(function (v) { return v.data; });\n            return this.blobOnly(res, 'deletedData');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"allData\", {\n        /**\n         * All data from the original file upload including deleted rows,\n         * key-mapped to the configuration provided\n         */\n        get: function () {\n            return this.blobOnly(this.$data.map(function (v) { return v.data; }), 'allData');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"batchId\", {\n        /**\n         * The uuid of the batch assigned by Flatfile (use this in internal\n         * references for support purposes)\n         */\n        get: function () {\n            return this.$meta.batchID;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"stats\", {\n        /**\n         * Stats and counts about this file upload\n         */\n        get: function () {\n            return new Stats(this.$meta);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"customer\", {\n        /**\n         * The customer provided in setCustomer\n         */\n        get: function () {\n            if (this.$meta.endUser) {\n                return new EndUser(this.$meta.endUser);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"originalFile\", {\n        /**\n         * A File object of the originally uploaded file stored as an AWS url\n         */\n        get: function () {\n            if (this.$meta.originalFile) {\n                return new UploadFile(this.$meta.originalFile);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"csvFile\", {\n        /**\n         * Same as originalFile unless it was uploaded in xls format, in which case this is the converted csv file stored as an AWS url\n         */\n        get: function () {\n            if (this.$meta.originalFile) {\n                if (this.$meta.originalFile.filetype === 'csv') {\n                    return new UploadFile(this.$meta.originalFile);\n                }\n                else {\n                    if (this.$meta.csvFile) {\n                        return new UploadFile(this.$meta.csvFile);\n                    }\n                }\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"fileName\", {\n        /**\n         * The filename of the originally uploaded file\n         */\n        get: function () {\n            return this.$meta.filename || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"managed\", {\n        /**\n         * If the final upload is managed by a private endpoint or not\n         */\n        get: function () {\n            return this.$meta.managed || false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"manual\", {\n        /**\n         * If the data was entered manually instead of via file upload or not\n         */\n        get: function () {\n            return this.$meta.manual;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"config\", {\n        /**\n         * The parsed and bootstrapped config object used by this importer instance\n         */\n        get: function () {\n            return this.$meta.config;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"parsingConfig\", {\n        /**\n         * The configuration used by the csv parser PapaParse: https://www.papaparse.com/docs#config\n         */\n        get: function () {\n            return this.$meta.parsing_config;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"skippedRows\", {\n        /**\n         * The invalid rows that were skipped on submission\n         */\n        get: function () {\n            return this.$meta.skipped_rows || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"headersRaw\", {\n        /**\n         * The headers before they were matched as given in the original file\n         */\n        get: function () {\n            return this.$meta.headers_raw || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"headersMatched\", {\n        /**\n         * The headers after they are matched\n         */\n        get: function () {\n            return this.$meta.headers_matched || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"customColumns\", {\n        /**\n         * An array of any columns that were created during import\n         */\n        get: function () {\n            return this.$meta.custom_columns;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"categoryFieldMap\", {\n        /**\n         * A mapping of source values to target category values\n         */\n        get: function () {\n            return this.$meta.category_field_map || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"failureReason\", {\n        /**\n         * The reason for the failure if there was a failure\n         */\n        get: function () {\n            return this.$meta.failure_reason || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"submittedAt\", {\n        /**\n         * The time that the data was submitted\n         */\n        get: function () {\n            return this.$meta.submitted_at || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"failedAt\", {\n        /**\n         * The time that the import failed if it failed\n         */\n        get: function () {\n            return this.$meta.failed_at || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"createdAt\", {\n        /**\n         * The time the data began the import, whether via file upload or manual data entry\n         */\n        get: function () {\n            return this.$meta.created_at;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"stylesheet\", {\n        /**\n         * The stylesheet of the cells. Make sure to use `allowFormatting=true` in the config.\n         */\n        get: function () {\n            return this.$meta.stylesheet;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Results.prototype.blobOnly = function (v, method, alt) {\n        if (alt === void 0) { alt = 'nextChunk()'; }\n        if (this.$meta.inChunks) {\n            throw new Error(\"\\\"\" + method + \"\\\" is not accessible when using \\\"inChunks\\\". Please see docs for \\\"\" + alt + \"\\\" instead.\");\n        }\n        return v;\n    };\n    /**\n     * Get the next chunk of records\n     */\n    Results.prototype.nextChunk = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            if (!_this.$meta.inChunks) {\n                return reject(\"\\\"nextChunk()\\\" is only accessible when using \\\"inChunks\\\". Please see docs for \\\"requestDataFromUser\\\".\");\n            }\n            _this.$importer.$ready.then(function (child) {\n                console.log('child.nextChunk()');\n                child.nextChunk().then(function (data) {\n                    console.log('nextChunk()', data);\n                    resolve(data.results.length ? new StreamedResults(data.results, data.meta) : null);\n                }, function (err) {\n                    console.log('nextChunk(err)', err);\n                });\n            });\n        });\n    };\n    return Results;\n}());\n\nvar FlatfileImporter$1 = /** @class */ (function (_super) {\n    __extends(FlatfileImporter, _super);\n    function FlatfileImporter(apiKey, options, customer) {\n        var _this = _super.call(this) || this;\n        _this.$fieldHooks = [];\n        _this.$stepHooks = {};\n        _this.apiKey = apiKey;\n        _this.options = options;\n        _this.customer = customer;\n        _this.uuid = _this.$generateUuid();\n        _this.$ready = new FlatfileImporter.Promise(function (resolve, reject) {\n            _this.$resolver = resolve;\n            _this.$rejecter = reject;\n        });\n        whenDomReady(function () {\n            _this.initialize();\n        });\n        return _this;\n    }\n    /**\n     * This will by default always be `https://www.flatfile.io/importer/:key` unless you are\n     * an enterprise customer that is self-hosting the application. In which case, this\n     * will be the URL of your enterprise installd Flatfile importer index page\n     */\n    FlatfileImporter.setMountUrl = function (url) {\n        this.MOUNT_URL = url;\n    };\n    /**\n     * This allows you to opt into or out of specific versions of the Flatfile SDK\n     */\n    FlatfileImporter.setVersion = function (version) {\n        switch (version) {\n            case 1:\n                this.MOUNT_URL = 'https://kiosk-lite.flatfile.io/?key=:key';\n                break;\n            case 2:\n                this.MOUNT_URL = 'https://portal-2.flatfile.io/?key=:key';\n                break;\n            default:\n                throw new Error(version + \" is not a valid version\");\n        }\n    };\n    /**\n     * Call open() to activate the importer overlay dialog.\n     */\n    FlatfileImporter.prototype.open = function (options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        options = __assign(__assign({}, options), { bulkInit: true, hasRecordHook: !!this.$recordHook, hasInteractionEventCallback: !!this.$interactionEventCallback, stepHooks: Object.keys(this.$stepHooks), fieldHooks: this.$fieldHooks.map(function (v) { return v.field; }), endUser: this.customer });\n        this.$ready.then(function (child) {\n            elementClass(document.body).add('flatfile-active');\n            var el = document.getElementById(\"flatfile-\" + _this.uuid);\n            if (el) {\n                el.style.display = 'block';\n            }\n            child.open(options);\n        });\n    };\n    /**\n     * Use load() when you want a promise returned. This is necessary if you want to use\n     * async/await for an es6 implementation\n     * @deprecated\n     */\n    FlatfileImporter.prototype.load = function () {\n        var _this = this;\n        return new FlatfileImporter.Promise(function (resolve, reject) {\n            _this.open();\n            var cleanup = function () {\n                _this.removeListener('close', loadRejectHandler);\n                _this.removeListener('complete', loadResolveHandler);\n            };\n            function loadResolveHandler(rows) {\n                resolve(rows);\n                cleanup();\n            }\n            function loadRejectHandler(err) {\n                reject(err);\n                cleanup();\n            }\n            _this.on('close', loadRejectHandler);\n            _this.on('complete', loadResolveHandler);\n        });\n    };\n    /**\n     * Use requestDataFromUser() when you want a promise returned. This is necessary if you want to use\n     * async/await for an es6 implementation\n     */\n    FlatfileImporter.prototype.requestDataFromUser = function (options) {\n        if (options === void 0) { options = {}; }\n        this.open(__assign(__assign({}, options), { inChunks: options.inChunks || null, expectsExpandedResults: true }));\n        return this.responsePromise();\n    };\n    /**\n     * This will display a progress indicator inside the importer if you anticipate that handling\n     * the output of the importer may take some time.\n     */\n    FlatfileImporter.prototype.displayLoader = function (msg) {\n        this.$ready.then(function (child) {\n            child.displayLoader(msg);\n        });\n    };\n    /**\n     * This will display a dialog inside of the importer with an error icon and the message you\n     * pass. The user will be able to acknowledge the error and be returned to the import data\n     * spreadsheet to ideally fix any issues or attempt submitting again.\n     * @deprecated\n     */\n    FlatfileImporter.prototype.displayError = function (msg) {\n        this.$ready.then(function (child) {\n            child.displayError(msg);\n        });\n    };\n    /**\n     * This will display a dialog inside of the importer with an error icon and the message you\n     * pass. The user will be able to acknowledge the error and be returned to the import data\n     * spreadsheet to ideally fix any issues or attempt submitting again.\n     *\n     * @param corrections - allows user to do server-side validation and provide error / warning\n     * messages or value overrides\n     */\n    FlatfileImporter.prototype.requestCorrectionsFromUser = function (msg, corrections) {\n        this.$ready.then(function (child) {\n            child.displayError(msg, corrections);\n        });\n        return this.responsePromise();\n    };\n    /**\n     * This will display a dialog inside of the importer with a success icon and the message you\n     * pass.\n     *\n     * @return Promise that will be resolved when user closes the dialog.\n     */\n    FlatfileImporter.prototype.displaySuccess = function (msg) {\n        var _this = this;\n        this.$ready.then(function (child) {\n            child.displaySuccess(msg);\n        });\n        return new Promise(function (resolve) {\n            var handleSuccess = function () {\n                resolve();\n                _this.removeListener('close', handleSuccess);\n            };\n            _this.on('close', handleSuccess);\n        });\n    };\n    /**\n     * Set the customer information for this import\n     */\n    FlatfileImporter.prototype.setCustomer = function (customer) {\n        this.customer = customer;\n    };\n    /**\n     * Set the language for the Portal\n     */\n    FlatfileImporter.prototype.setLanguage = function (lang) {\n        this.$ready.then(function (child) {\n            child.setLanguage(lang);\n        });\n    };\n    FlatfileImporter.prototype.addVirtualField = function (field, options) {\n        if (options === void 0) { options = {}; }\n        this.$ready.then(function (child) {\n            child.addVirtualField({ field: field, options: options });\n        });\n    };\n    /**\n     * Set the customer information for this import\n     */\n    FlatfileImporter.prototype.registerRecordHook = function (callback) {\n        this.$recordHook = callback;\n    };\n    FlatfileImporter.prototype.registerNetworkErrorCallback = function (callback) {\n        this.$networkErrorCallback = callback;\n    };\n    FlatfileImporter.prototype.registerBeforeFetchCallback = function (callback) {\n        this.$beforeFetchCallback = callback;\n    };\n    FlatfileImporter.prototype.registerInteractionEventCallback = function (callback) {\n        this.$interactionEventCallback = callback;\n    };\n    FlatfileImporter.prototype.registerFieldHook = function (field, cb) {\n        this.$fieldHooks.push({ field: field, cb: cb });\n    };\n    FlatfileImporter.prototype.registerStepHook = function (step, callback) {\n        this.$stepHooks[step] = callback;\n    };\n    /**\n     * Call close() from the parent window in order to hide the importer. You can do this after\n     * handling the import callback so your users don't have to click the confirmation button\n     */\n    FlatfileImporter.prototype.close = function () {\n        this.$ready.then(function (child) {\n            child.close();\n        });\n    };\n    FlatfileImporter.prototype.handleClose = function () {\n        elementClass(document.body).remove('flatfile-active');\n        var el = document.getElementById(\"flatfile-\" + this.uuid);\n        if (el) {\n            el.style.display = 'none';\n        }\n    };\n    FlatfileImporter.prototype.initialize = function () {\n        var _this = this;\n        insertCss_1(\"\\n      .flatfile-component {\\n        position: fixed;\\n        top: 0;\\n        bottom: 0;\\n        right: 0;\\n        left: 0;\\n        display: none;\\n        z-index: 100000;\\n      }\\n      .flatfile-component iframe {\\n        width: 100%;\\n        height: 100%;\\n        position: absolute;\\n        border-width: 0;\\n      }\\n      body.flatfile-active {\\n        overflow: hidden;\\n        overscroll-behavior-x: none;\\n      }\\n    \");\n        document.body.insertAdjacentHTML('beforeend', \"<div id=\\\"flatfile-\" + this.uuid + \"\\\" class=\\\"flatfile-component\\\"></div>\");\n        this.handshake = Penpal.connectToChild({\n            appendTo: document.getElementById(\"flatfile-\" + this.uuid) || undefined,\n            url: FlatfileImporter.MOUNT_URL.replace(':key', this.apiKey),\n            methods: {\n                results: function (data) {\n                    _this.emit('results', data.results, data.meta);\n                },\n                complete: function (data) {\n                    _this.emit('complete', data.rows, data.meta);\n                },\n                close: function () {\n                    _this.emit('close');\n                    _this.handleClose();\n                },\n                networkErrorCallback: function (error) {\n                    return _this.$networkErrorCallback ? _this.$networkErrorCallback(error) : undefined;\n                },\n                beforeFetchCallback: function (req) {\n                    return _this.$beforeFetchCallback ? _this.$beforeFetchCallback(req) : undefined;\n                },\n                interactionEventCallback: function (req) {\n                    return _this.$interactionEventCallback ? _this.$interactionEventCallback(req) : undefined;\n                },\n                dataHookCallback: function (row, index, mode) {\n                    try {\n                        return _this.$recordHook ? _this.$recordHook(row, index, mode) : undefined;\n                    }\n                    catch (_a) {\n                        var message = _a.message, stack = _a.stack;\n                        console.error(\"Flatfile Record Hook Error on row \" + index + \":\\n  \" + stack, { row: row, mode: mode });\n                        return {};\n                    }\n                },\n                bulkHookCallback: function (rows, mode) {\n                    try {\n                        return _this.$recordHook\n                            ? Promise.all(rows.map(function (_a) {\n                                var row = _a[0], index = _a[1];\n                                try {\n                                    return _this.$recordHook(row, index, mode);\n                                }\n                                catch (e) {\n                                    e.row = row;\n                                    e.index = index;\n                                    throw e;\n                                }\n                            }))\n                            : undefined;\n                    }\n                    catch (_a) {\n                        var stack = _a.stack, row = _a.row, index = _a.index;\n                        console.error(\"Flatfile Record Hook Error on row \" + index + \":\\n  \" + stack, { row: row, mode: mode });\n                        return {};\n                    }\n                },\n                fieldHookCallback: function (values, meta) {\n                    var fieldHook = _this.$fieldHooks.find(function (v) { return v.field === meta.field; });\n                    if (!fieldHook) {\n                        return undefined;\n                    }\n                    try {\n                        return fieldHook.cb(values, meta);\n                    }\n                    catch (_a) {\n                        var stack = _a.stack;\n                        console.error(\"Flatfile Field Hook Error on field \\\"\" + meta.field + \"\\\":\\n  \" + stack, {\n                            meta: meta,\n                            values: values\n                        });\n                        return [];\n                    }\n                },\n                stepHookCallback: function (step, payload) { return __awaiter(_this, void 0, void 0, function () {\n                    var _a, stack;\n                    return __generator(this, function (_b) {\n                        switch (_b.label) {\n                            case 0:\n                                if (!this.$stepHooks[step]) {\n                                    return [2 /*return*/, undefined];\n                                }\n                                _b.label = 1;\n                            case 1:\n                                _b.trys.push([1, 3, , 4]);\n                                return [4 /*yield*/, this.$stepHooks[step](payload)];\n                            case 2: return [2 /*return*/, _b.sent()];\n                            case 3:\n                                _a = _b.sent();\n                                stack = _a.stack;\n                                console.error(\"Flatfile Step Hook Error on step \\\"\" + step + \"\\\":\\n  \" + stack, {\n                                    payload: payload\n                                });\n                                return [3 /*break*/, 4];\n                            case 4: return [2 /*return*/];\n                        }\n                    });\n                }); },\n                ready: function () {\n                    _this.handshake.promise\n                        .then(function (child) {\n                        _this.$resolver(child);\n                        if (_this.customer) {\n                            child.setUser(_this.customer);\n                        }\n                    })\n                        .catch(function (err) {\n                        console.error(err);\n                    });\n                    return _this.options;\n                }\n            }\n        });\n        this.handshake.promise.catch(function (err) {\n            _this.$rejecter(err);\n        });\n    };\n    FlatfileImporter.prototype.$generateUuid = function () {\n        return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n    };\n    FlatfileImporter.prototype.responsePromise = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var loadResolveHandler = function (rows, meta) { return __awaiter(_this, void 0, void 0, function () {\n                var results;\n                return __generator(this, function (_a) {\n                    results = new Results(rows, meta, this);\n                    resolve(results);\n                    cleanup();\n                    return [2 /*return*/];\n                });\n            }); };\n            function loadRejectHandler(err) {\n                reject(err);\n                cleanup();\n            }\n            var self = _this;\n            function cleanup() {\n                self.removeListener('close', loadRejectHandler);\n                self.removeListener('results', loadResolveHandler);\n            }\n            _this.on('close', loadRejectHandler);\n            _this.on('results', loadResolveHandler);\n        });\n    };\n    FlatfileImporter.Promise = Promise;\n    FlatfileImporter.MOUNT_URL = 'https://portal-2.flatfile.io/?key=:key';\n    return FlatfileImporter;\n}(eventemitter3_1));\n\nregisterDocumentContainsPolyfill();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (FlatfileImporter$1);\n//# sourceMappingURL=index.js.map\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"c8ba\")))\n\n/***/ }),\n\n/***/ \"fae3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"FlatfileButton\", function() { return /* reexport */ FlatfileButton; });\n\n// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (true) {\n    var getCurrentScript = __webpack_require__(\"8875\")\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_require__.p = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\n/* harmony default export */ var setPublicPath = (null);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"6113ca50-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/FlatfileButton.vue?vue&type=template&id=16b95ee0&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('button',{on:{\"click\":_vm.launch}},[_vm._t(\"default\"),(!_vm.hasSlotData)?_c('span',[_vm._v(\" Upload with Flatfile \")]):_vm._e()],2)])}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/FlatfileButton.vue?vue&type=template&id=16b95ee0&\n\n// EXTERNAL MODULE: ./node_modules/@flatfile/adapter/build/browser/index.js\nvar browser = __webpack_require__(\"f2ae\");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/FlatfileButton.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var FlatfileButtonvue_type_script_lang_js_ = ({\n  name: \"flatfile-button\",\n  props: {\n    settings: {\n      type: Object,\n      validator: function validator(value) {\n        return value && value.type && value.fields;\n      }\n    },\n    customer: {\n      type: Object,\n      validator: function validator(value) {\n        return value && value.userId;\n      }\n    },\n    licenseKey: {\n      type: String,\n      validator: function validator(value) {\n        return value && value.length;\n      }\n    },\n    fieldHooks: Object,\n    source: [String, Array],\n    onCancel: Function,\n    onInteractionEvent: Function,\n    onBeforeFetch: Function,\n    onData: Function,\n    onRecordChange: Function,\n    onRecordInit: Function,\n    render: Function,\n    preload: {\n      default: true,\n      type: Boolean\n    },\n    mountUrl: String\n  },\n  data: function data() {\n    return {\n      flatfileImporter: null,\n      loaded: false,\n      importerLoaded: true\n    };\n  },\n  mounted: function mounted() {\n    if (this.preload) {\n      this.loadImporter();\n    }\n  },\n  computed: {\n    hasDefaultSlot: function hasDefaultSlot() {\n      return !!this.$slots.default;\n    }\n  },\n  methods: {\n    loadImporter: function loadImporter() {\n      var _this = this;\n\n      if (this.flatfileImporter) {\n        return;\n      }\n\n      if (this.mountUrl) {\n        browser[\"a\" /* default */].setMountUrl(this.mountUrl);\n      }\n\n      var tempImporter = new browser[\"a\" /* default */](this.licenseKey, this.settings, this.customer);\n\n      if (this.fieldHooks) {\n        for (var key in this.fieldHooks) {\n          tempImporter.registerFieldHook(key, this.fieldHooks[key]);\n        }\n      }\n\n      if (this.onBeforeFetch) {\n        tempImporter.registerBeforeFetchCallback(this.onBeforeFetch);\n      }\n\n      if (this.onInteractionEvent) {\n        tempImporter.registerInteractionEventCallback(this.onInteractionEvent);\n      }\n\n      if (this.onRecordChange || this.onRecordInit) {\n        tempImporter.registerRecordHook(function (record, // : ScalarDictionaryWithCustom,\n        index, // : number,\n        eventType // : 'init' | 'change'\n        ) {\n          if (eventType === \"init\" && _this.onRecordInit) {\n            return _this.onRecordInit(record, index);\n          }\n\n          if (eventType === \"change\" && _this.onRecordChange) {\n            return _this.onRecordChange(record, index);\n          }\n        });\n      }\n\n      this.flatfileImporter = tempImporter;\n      this.loaded = true;\n    },\n    dataHandler: function dataHandler(results) {\n      var _this$onData,\n          _this2 = this;\n\n      this.flatfileImporter.displayLoader();\n      (_this$onData = this.onData) === null || _this$onData === void 0 ? void 0 : _this$onData.call(this, results).then(function (optionalMessage) {\n        var _this2$flatfileImport, _this2$flatfileImport2;\n\n        return optionalMessage !== null ? (_this2$flatfileImport = _this2.flatfileImporter.current) === null || _this2$flatfileImport === void 0 ? void 0 : _this2$flatfileImport.displaySuccess(optionalMessage || undefined) : (_this2$flatfileImport2 = _this2.flatfileImporter.current) === null || _this2$flatfileImport2 === void 0 ? void 0 : _this2$flatfileImport2.close();\n      }, function (error\n      /*: Error | string*/\n      ) {\n        var _this2$flatfileImport3;\n\n        return (_this2$flatfileImport3 = _this2.flatfileImporter.current) === null || _this2$flatfileImport3 === void 0 ? void 0 : _this2$flatfileImport3.requestCorrectionsFromUser(error instanceof Error ? error.message : error).then(_this2.dataHandler, function () {\n          var _this2$onCancel;\n\n          return (_this2$onCancel = _this2.onCancel) === null || _this2$onCancel === void 0 ? void 0 : _this2$onCancel.call(_this2);\n        });\n      });\n    },\n    launch: function launch() {\n      var _this3 = this;\n\n      this.validateInputs();\n\n      var dataHandler = function dataHandler(results) {\n        _this3.flatfileImporter.displayLoader();\n\n        if (_this3.onData) {\n          _this3.onData(results).then(function (optionalMessage) {\n            _this3.flatfileImporter.displaySuccess(optionalMessage || \"Success!\");\n          }, function (error) {\n            console.error(\"Flatfile Error : \".concat(error));\n\n            _this3.flatfileImporter.requestCorrectionsFromUser(error ? error.message : error).then(dataHandler, function () {\n              var _this3$onCancel;\n\n              return (_this3$onCancel = _this3.onCancel) === null || _this3$onCancel === void 0 ? void 0 : _this3$onCancel.call(_this3);\n            });\n          });\n        } else {\n          _this3.flatfileImporter.displaySuccess(\"Success!\");\n        }\n      };\n\n      if (!this.flatfileImporter) {\n        if (this.preload) {\n          return;\n        }\n\n        this.loadImporter();\n      }\n\n      var loadOptions = this.source ? {\n        source: this.source\n      } : undefined;\n      this.flatfileImporter.requestDataFromUser(loadOptions).then(dataHandler, function () {\n        var _this3$onCancel2;\n\n        return (_this3$onCancel2 = _this3.onCancel) === null || _this3$onCancel2 === void 0 ? void 0 : _this3$onCancel2.call(_this3);\n      });\n    },\n    validateInputs: function validateInputs() {\n      var _this$customer, _this$settings, _this$settings2;\n\n      if (!this.licenseKey) {\n        console.error(\"[Error] Flatfile VueJS Adapter - licenseKey not provided!\");\n        this.isImporterLoaded = false;\n      }\n\n      if (!((_this$customer = this.customer) !== null && _this$customer !== void 0 && _this$customer.userId)) {\n        console.error(\"[Error] Flatfile VueJS Adapter - customer userId not provided!\");\n        this.isImporterLoaded = false;\n      }\n\n      if (!((_this$settings = this.settings) !== null && _this$settings !== void 0 && _this$settings.type) || !((_this$settings2 = this.settings) !== null && _this$settings2 !== void 0 && _this$settings2.fields)) {\n        console.error(\"[Error] Flatfile VueJS Adapter - settings { type: String, fields: Array } not provided!\");\n        this.isImporterLoaded = false;\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/FlatfileButton.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_FlatfileButtonvue_type_script_lang_js_ = (FlatfileButtonvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nfunction normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n\n// CONCATENATED MODULE: ./src/components/FlatfileButton.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = normalizeComponent(\n  components_FlatfileButtonvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var FlatfileButton = (component.exports);\n// CONCATENATED MODULE: ./src/index.js\n\n// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/entry-lib-no-default.js\n\n\n\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=vuejs.umd.js.map","var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar download = createCommonjsModule(function (module, exports) {\n//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\t{\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t}\n}(commonjsGlobal, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else {\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else {//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else {\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n});\n\n//\n\nvar script = {\n  props: {\n    // mime type [xls, csv]\n    type: {\n      type: String,\n      default: \"xls\",\n    },\n    // Json to download\n    data: {\n      type: Array,\n      required: false,\n      default: null,\n    },\n    // fields inside the Json Object that you want to export\n    // if no given, all the properties in the Json are exported\n    fields: {\n      type: Object,\n      default: () => null,\n    },\n    // this prop is used to fix the problem with other components that use the\n    // variable fields, like vee-validate. exportFields works exactly like fields\n    exportFields: {\n      type: Object,\n      default: () => null,\n    },\n    // Use as fallback when the row has no field values\n    defaultValue: {\n      type: String,\n      required: false,\n      default: \"\",\n    },\n    // Title(s) for the data, could be a string or an array of strings (multiple titles)\n    header: {\n      default: null,\n    },\n    // Footer(s) for the data, could be a string or an array of strings (multiple footers)\n    footer: {\n      default: null,\n    },\n    // filename to export\n    name: {\n      type: String,\n      default: \"data.xls\",\n    },\n    fetch: {\n      type: Function,\n    },\n    meta: {\n      type: Array,\n      default: () => [],\n    },\n    worksheet: {\n      type: String,\n      default: \"Sheet1\",\n    },\n    //event before generate was called\n    beforeGenerate: {\n      type: Function,\n    },\n    //event before download pops up\n    beforeFinish: {\n      type: Function,\n    },\n    // Determine if CSV Data should be escaped\n    escapeCsv: {\n      type: Boolean,\n      default: true,\n    },\n    // long number stringify\n    stringifyLongNum: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    // unique identifier\n    idName() {\n      var now = new Date().getTime();\n      return \"export_\" + now;\n    },\n\n    downloadFields() {\n      if (this.fields) return this.fields;\n\n      if (this.exportFields) return this.exportFields;\n    },\n  },\n  methods: {\n    async generate() {\n      if (typeof this.beforeGenerate === \"function\") {\n        await this.beforeGenerate();\n      }\n      let data = this.data;\n      if (typeof this.fetch === \"function\" || !data) data = await this.fetch();\n\n      if (!data || !data.length) {\n        return;\n      }\n\n      let json = this.getProcessedJson(data, this.downloadFields);\n      if (this.type === \"html\") {\n        // this is mainly for testing\n        return this.export(\n          this.jsonToXLS(json),\n          this.name.replace(\".xls\", \".html\"),\n          \"text/html\"\n        );\n      } else if (this.type === \"csv\") {\n        return this.export(\n          this.jsonToCSV(json),\n          this.name.replace(\".xls\", \".csv\"),\n          \"application/csv\"\n        );\n      }\n      return this.export(\n        this.jsonToXLS(json),\n        this.name,\n        \"application/vnd.ms-excel\"\n      );\n    },\n    /*\n\t\tUse downloadjs to generate the download link\n\t\t*/\n    export: async function (data, filename, mime) {\n      let blob = this.base64ToBlob(data, mime);\n      if (typeof this.beforeFinish === \"function\") await this.beforeFinish();\n      download(blob, filename, mime);\n    },\n    /*\n\t\tjsonToXLS\n\t\t---------------\n\t\tTransform json data into an xml document with MS Excel format, sadly\n\t\tit shows a prompt when it opens, that is a default behavior for\n\t\tMicrosoft office and cannot be avoided. It's recommended to use CSV format instead.\n\t\t*/\n    jsonToXLS(data) {\n      let xlsTemp =\n        '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content=\"Microsoft Excel 11\"><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--><style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>';\n      let xlsData = \"<thead>\";\n      const colspan = Object.keys(data[0]).length;\n      let _self = this;\n\n      //Header\n      const header = this.header || this.$attrs.title;\n      if (header) {\n        xlsData += this.parseExtraData(\n          header,\n          '<tr><th colspan=\"' + colspan + '\">${data}</th></tr>'\n        );\n      }\n\n      //Fields\n      xlsData += \"<tr>\";\n      for (let key in data[0]) {\n        xlsData += \"<th>\" + key + \"</th>\";\n      }\n      xlsData += \"</tr>\";\n      xlsData += \"</thead>\";\n\n      //Data\n      xlsData += \"<tbody>\";\n      data.map(function (item, index) {\n        xlsData += \"<tr>\";\n        for (let key in item) {\n          xlsData +=\n            \"<td>\" +\n            _self.preprocessLongNum(\n              _self.valueReformattedForMultilines(item[key])\n            ) +\n            \"</td>\";\n        }\n        xlsData += \"</tr>\";\n      });\n      xlsData += \"</tbody>\";\n\n      //Footer\n      if (this.footer != null) {\n        xlsData += \"<tfoot>\";\n        xlsData += this.parseExtraData(\n          this.footer,\n          '<tr><td colspan=\"' + colspan + '\">${data}</td></tr>'\n        );\n        xlsData += \"</tfoot>\";\n      }\n\n      return xlsTemp\n        .replace(\"${table}\", xlsData)\n        .replace(\"${worksheet}\", this.worksheet);\n    },\n    /*\n\t\tjsonToCSV\n\t\t---------------\n\t\tTransform json data into an CSV file.\n\t\t*/\n    jsonToCSV(data) {\n      let _self = this;\n      var csvData = [];\n\n      //Header\n      const header = this.header || this.$attrs.title;\n      if (header) {\n        csvData.push(this.parseExtraData(header, \"${data}\\r\\n\"));\n      }\n\n      //Fields\n      for (let key in data[0]) {\n        csvData.push(key);\n        csvData.push(\",\");\n      }\n      csvData.pop();\n      csvData.push(\"\\r\\n\");\n      //Data\n      data.map(function (item) {\n        for (let key in item) {\n          let escapedCSV = item[key] + \"\";\n          // Escaped CSV data to string to avoid problems with numbers or other types of values\n          // this is controlled by the prop escapeCsv\n          if (_self.escapeCsv) {\n            escapedCSV = '=\"' + escapedCSV + '\"'; // cast Numbers to string\n            if (escapedCSV.match(/[,\"\\n]/)) {\n              escapedCSV = '\"' + escapedCSV.replace(/\\\"/g, '\"\"') + '\"';\n            }\n          }\n          csvData.push(escapedCSV);\n          csvData.push(\",\");\n        }\n        csvData.pop();\n        csvData.push(\"\\r\\n\");\n      });\n      //Footer\n      if (this.footer != null) {\n        csvData.push(this.parseExtraData(this.footer, \"${data}\\r\\n\"));\n      }\n      return csvData.join(\"\");\n    },\n    /*\n\t\tgetProcessedJson\n\t\t---------------\n\t\tGet only the data to export, if no fields are set return all the data\n\t\t*/\n    getProcessedJson(data, header) {\n      let keys = this.getKeys(data, header);\n      let newData = [];\n      let _self = this;\n      data.map(function (item, index) {\n        let newItem = {};\n        for (let label in keys) {\n          let property = keys[label];\n          newItem[label] = _self.getValue(property, item);\n        }\n        newData.push(newItem);\n      });\n\n      return newData;\n    },\n    getKeys(data, header) {\n      if (header) {\n        return header;\n      }\n\n      let keys = {};\n      for (let key in data[0]) {\n        keys[key] = key;\n      }\n      return keys;\n    },\n    /*\n\t\tparseExtraData\n\t\t---------------\n\t\tParse title and footer attribute to the csv format\n\t\t*/\n    parseExtraData(extraData, format) {\n      let parseData = \"\";\n      if (Array.isArray(extraData)) {\n        for (var i = 0; i < extraData.length; i++) {\n          if (extraData[i])\n            parseData += format.replace(\"${data}\", extraData[i]);\n        }\n      } else {\n        parseData += format.replace(\"${data}\", extraData);\n      }\n      return parseData;\n    },\n\n    getValue(key, item) {\n      const field = typeof key !== \"object\" ? key : key.field;\n      let indexes = typeof field !== \"string\" ? [] : field.split(\".\");\n      let value = this.defaultValue;\n\n      if (!field) value = item;\n      else if (indexes.length > 1)\n        value = this.getValueFromNestedItem(item, indexes);\n      else value = this.parseValue(item[field]);\n\n      if (key.hasOwnProperty(\"callback\"))\n        value = this.getValueFromCallback(value, key.callback);\n\n      return value;\n    },\n\n    /*\n    convert values with newline \\n characters into <br/>\n    */\n    valueReformattedForMultilines(value) {\n      if (typeof value == \"string\") return value.replace(/\\n/gi, \"<br/>\");\n      else return value;\n    },\n    preprocessLongNum(value) {\n      if (this.stringifyLongNum) {\n        if (String(value).startsWith(\"0x\")) {\n          return value;\n        }\n        if (!isNaN(value) && value != \"\") {\n          if (value > 99999999999 || value < 0.0000000000001) {\n            return '=\"' + value + '\"';\n          }\n        }\n      }\n      return value;\n    },\n    getValueFromNestedItem(item, indexes) {\n      let nestedItem = item;\n      for (let index of indexes) {\n        if (nestedItem) nestedItem = nestedItem[index];\n      }\n      return this.parseValue(nestedItem);\n    },\n\n    getValueFromCallback(item, callback) {\n      if (typeof callback !== \"function\") return this.defaultValue;\n      const value = callback(item);\n      return this.parseValue(value);\n    },\n    parseValue(value) {\n      return value || value === 0 || typeof value === \"boolean\"\n        ? value\n        : this.defaultValue;\n    },\n    base64ToBlob(data, mime) {\n      let base64 = window.btoa(window.unescape(encodeURIComponent(data)));\n      let bstr = atob(base64);\n      let n = bstr.length;\n      let u8arr = new Uint8ClampedArray(n);\n      while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n      }\n      return new Blob([u8arr], { type: mime });\n    },\n  }, // end methods\n};\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function () {\n      style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n\nvar normalizeComponent_1 = normalizeComponent;\n\n/* script */\nconst __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c(\n    \"div\",\n    { attrs: { id: _vm.idName }, on: { click: _vm.generate } },\n    [_vm._t(\"default\", [_vm._v(\" Download \" + _vm._s(_vm.name) + \" \")])],\n    2\n  )\n};\nvar __vue_staticRenderFns__ = [];\n__vue_render__._withStripped = true;\n\n  /* style */\n  const __vue_inject_styles__ = undefined;\n  /* scoped */\n  const __vue_scope_id__ = undefined;\n  /* module identifier */\n  const __vue_module_identifier__ = undefined;\n  /* functional template */\n  const __vue_is_functional_template__ = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n\n  \n  var JsonExcel = normalizeComponent_1(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    undefined,\n    undefined\n  );\n\nexport default JsonExcel;\n"],"sourceRoot":""}