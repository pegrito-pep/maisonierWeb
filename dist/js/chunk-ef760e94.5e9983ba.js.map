{"version":3,"sources":["webpack:///./src/components/_gestion-immobiliere/OccupationForm.vue?6e4f","webpack:///./src/views/gestion-immobiliere/habitants/AddHabitant.vue?ea82","webpack:///./src/views/gestion-immobiliere/habitants/Habitants.vue?97d5","webpack:///./src/views/gestion-immobiliere/habitants/AddHabitant.vue?7acd","webpack:///src/views/gestion-immobiliere/habitants/AddHabitant.vue","webpack:///./src/views/gestion-immobiliere/habitants/AddHabitant.vue?8778","webpack:///./src/views/gestion-immobiliere/habitants/AddHabitant.vue","webpack:///./src/views/gestion-immobiliere/habitants/DetailsHabitant.vue?3ff8","webpack:///src/views/gestion-immobiliere/habitants/DetailsHabitant.vue","webpack:///./src/views/gestion-immobiliere/habitants/DetailsHabitant.vue?489f","webpack:///./src/views/gestion-immobiliere/habitants/DetailsHabitant.vue","webpack:///src/views/gestion-immobiliere/habitants/Habitants.vue","webpack:///./src/views/gestion-immobiliere/habitants/Habitants.vue?72e2","webpack:///./src/views/gestion-immobiliere/habitants/Habitants.vue","webpack:///./src/views/gestion-immobiliere/habitants/Habitants.vue?151a","webpack:///./src/components/_gestion-immobiliere/OccupationForm.vue?f4e9","webpack:///src/components/_gestion-immobiliere/OccupationForm.vue","webpack:///./src/components/_gestion-immobiliere/OccupationForm.vue?a746","webpack:///./src/components/_gestion-immobiliere/OccupationForm.vue","webpack:///./src/views/gestion-immobiliere/habitants/DetailsHabitant.vue?b234"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","directives","name","rawName","value","expression","domProps","on","$event","target","composing","search","_m","modifiers","ref","preventDefault","addHabitant","apply","arguments","_v","showOverlay","habitants","length","_l","locataire","key","idLocataire","_s","avatar","nomLocataire","email","tel","profession","showDetails","offset","perPage","currentPage","page","limit","titre","showOccupation","_e","action","onCloseSet","staticRenderFns","scopedSlots","_u","fn","resetModal","proxy","onComplete","setLoading","validateAsync","alreadyset","modeCreations","changeForm","model","callback","$$v","selected","habitant","$set","getHabitantData","step","validated","requiredNom","staticStyle","requiredTel","validateSecond","nom","onFileChange","ariaDescribedby","options","data","text","time","isCodeUtilisateur","prenom","dateNaiss","lieuNaiss","cni","email2","tel2","tel3","code","showAddPicture","loadingWizard","check","check2","components","FormWizard","TabContent","DatePicker","props","methods","photo_upload","e","file","console","log","Promise","resolve","reject","setTimeout","commande","$refs","hide","$emit","axios","get","then","response","success","result","isCertified","App","confirm","reader","FileReader","readAsDataURL","onload","onerror","error","avatarUser","files","getBase64","post","notif","message","$root","catch","component","cniLocataire","$date","format","resetRechargeForm","ok","recharge","submitted","class","occupations","loyerBase","puEnergie","puEau","idOccupation","validateRecharge","resetTransfertForm","transfert","requiredCompteDebiteur","touslesComptes","filterAccountList","requiredCompteCrediteur","comptesfiltres","validateTransfert","section","itemsOccupations","occupation","modePaiement","modeEau","modeEnergie","params","id","viewOccupationDetail","provenance","addedOccupation","php","OccupationForm","type","Object","required","setOccupation","enabled","montant","pay","showModal","compteDebiteur","compteCredite","computed","array_slice","map","elt","show","bvModalEvt","empty","getHousing","notifySuccess","alertError","a","filter","x","AddHabitant","DetailsHabitant","commandeHabitant","trueHabitants","getHabitants","$on","autoAddTarget","$","modal","$route","query","buttonAdd","click","window","history","replaceState","location","href","split","loyer","indexEau","indexEnergie","logements","logement","idLogement","setSlide_logement","selected_index_logement","i","photos","image","disabled","locataires","setSlide_locataire","stateLocataire","selected_index_locataire","submitModal","Number","default","String","duree","selected_value","mode","energie","eau","debut","endLastBail","sendForm","watch","lastIndexEnergie","nouveau","lastIndexEau","find","logementSelected","prixMin","prixMax","val","index","logementCarousel","setSlide","locataireCarousel","getInitialiseData"],"mappings":"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","file":"js/chunk-ef760e94.5e9983ba.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OccupationForm.vue?vue&type=style&index=0&id=08627a7c&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddHabitant.vue?vue&type=style&index=0&id=833fe5fa&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('page-description',{attrs:{\"title\":\"Habitants\",\"description\":\"Gestion de vos résidents\",\"icon\":\"fas fa-users\",\"path\":['Patrimoine immobilier', 'Mes Habitants']}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"mb-2 clearfix\"},[_c('div',{staticClass:\"collapse d-md-block display-options\",attrs:{\"id\":\"displayOptions\"}},[_c('div',{staticClass:\"d-block d-md-inline-block\"},[_c('div',{staticClass:\"search-sm d-inline-block float-md-left mr-1 mb-1 align-top\"},[_c('form',{attrs:{\"action\":\"\",\"onSubmit\":\"return false\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Recherche...\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}}),_vm._m(0)])])]),_c('div',{staticClass:\"float-md-right\"},[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-lg\",modifiers:{\"modal-lg\":true}}],ref:\"buttonAdd\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addHabitant.apply(null, arguments)}}},[_c('i',{staticClass:\"fa fa-plus-circle\"}),_vm._v(\" Créer un habitant\")])],1)])]),_c('div',{staticClass:\"separator mb-20\"}),_c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[(!_vm.habitants.length)?_c('b-alert',{staticClass:\"text-center\",attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('i',{staticClass:\"fa fa-exclamation-triangle fa-3x\"}),_vm._v(\" \"),_c('br'),_c('span',{staticClass:\"h4 d-inline-flex ml-2\"},[_vm._v(\"Aucun habitant crée pour l'instant\")])]):_c('b-row',{staticClass:\"layout-wrap\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-hover table-bordered table-striped\",attrs:{\"id\":\"sampleTable\"}},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"id\")]),_c('th',[_vm._v(\"Avatar\")]),_c('th',[_vm._v(\"Nom\")]),_c('th',[_vm._v(\"E-Mail\")]),_c('th',[_vm._v(\"N° Téléphone\")]),_c('th',[_vm._v(\"Proféssion\")]),_c('th',[_vm._v(\"Actions\")])])]),_c('tbody',_vm._l((_vm.habitants),function(locataire){return _c('tr',{key:locataire.idLocataire},[_c('td',[_vm._v(_vm._s(locataire.idLocataire))]),_c('td',[_c('b-avatar',{attrs:{\"src\":locataire.avatar}})],1),_c('td',[_vm._v(_vm._s(locataire.nomLocataire))]),_c('td',[_vm._v(_vm._s(locataire.email))]),_c('td',[_vm._v(_vm._s(locataire.tel))]),_c('td',[_vm._v(_vm._s(locataire.profession))]),_c('td',[_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.top\",value:('Modifier'),expression:\"'Modifier'\",modifiers:{\"top\":true}}],attrs:{\"href\":\"#!\"}},[_c('i',{staticClass:\"ik ik-edit f-16 mr-15 text-green\"})]),_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.top\",value:('Supprimer'),expression:\"'Supprimer'\",modifiers:{\"top\":true}}],attrs:{\"href\":\"#!\"}},[_c('i',{staticClass:\"ik ik-trash-2 f-16 mr-15 text-red\"})]),_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.top\",value:('Détails'),expression:\"'Détails'\",modifiers:{\"top\":true}}],attrs:{\"href\":\"#!\"},on:{\"click\":function($event){$event.preventDefault();return _vm.showDetails(locataire)}}},[_c('i',{staticClass:\"ik ik-eye f-16 text-blue\"})])])])}),0)])])])]),_c('paginator',{attrs:{\"hr\":\"top\",\"offset\":_vm.offset,\"total\":_vm.habitants.length,\"limit\":_vm.perPage,\"page\":_vm.currentPage},on:{\"pageChanged\":function (page) {_vm.currentPage = page},\"limitChanged\":function (limit) {_vm.perPage = limit}}})],1)],1)]),(_vm.locataire)?_c('div',{staticClass:\"modal fade edit-layout-modal\",attrs:{\"id\":\"editLayoutItem\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"editLayoutItemLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"editLayoutItemLabel\"}},[_vm._v(\"Dossier de \"),_c('b',[_vm._v(_vm._s(_vm.locataire.titre))]),_vm._v(\" \"),_c('b',[_vm._v(_vm._s(_vm.locataire.nomLocataire))])]),_vm._m(1)]),_c('div',{staticClass:\"modal-body pt-2\"},[_c('details-habitant',{attrs:{\"locataire\":_vm.locataire},on:{\"showDetail\":_vm.showOccupation}})],1)])])]):_vm._e(),(_vm.commandeHabitant)?_c('add-habitant',{attrs:{\"action\":_vm.action},on:{\"closeModal\":_vm.onCloseSet}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-icon\",attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"ik ik-search\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{ref:\"habitantModal\",attrs:{\"id\":\"modal-lg\",\"size\":\"lg\",\"title\":\"Formulaire d'ajout d'un Locataire\",\"ok-disabled\":true,\"no-close-on-backdrop\":\"\",\"hide-header-close\":\"\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":_vm.resetModal}},[_vm._v(\" Fermer \")])]},proxy:true}])},[_c('div',[_c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[_c('form-wizard',{attrs:{\"title\":\"\",\"subtitle\":\"\",\"nextButtonText\":\"suivant\",\"backButtonText\":\"Précedent\",\"finishButtonText\":\"Enregistrer\",\"aria-labelledby\":\"demoModalLabel\",\"shape\":\"circle\",\"color\":\"#e74c3c\"},on:{\"on-complete\":_vm.onComplete,\"on-loading\":_vm.setLoading}},[_c('tab-content',{attrs:{\"title\":\"Etat civil\",\"icon\":\"fa fa-user\",\"before-change\":_vm.validateAsync}},[_c('b-row',[_c('b-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.alreadyset),expression:\"!alreadyset\"}]},[_c('b-form-group',{attrs:{\"label\":\"Veuillez choisir le mode de création\"}},[_c('b-form-select',{attrs:{\"options\":_vm.modeCreations},on:{\"change\":_vm.changeForm},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)],1),_c('b-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isCodeUtilisateur),expression:\"isCodeUtilisateur\"}]},[_c('b-row',{staticClass:\"mt-20\"},[_c('b-col',{attrs:{\"cols\":\"11\",\"sm\":\"10\"}},[_c('b-form-input',{staticClass:\"hightPadding\",attrs:{\"id\":\"input-large\",\"size\":\"lg\",\"placeholder\":\"Ex: Veuillez entrer le code de l'utilisateur\",\"trim\":\"\"},model:{value:(_vm.habitant.code),callback:function ($$v) {_vm.$set(_vm.habitant, \"code\", $$v)},expression:\"habitant.code\"}})],1),_c('b-col',{attrs:{\"cols\":\"1\"}},[_c('button',{staticClass:\"btn btn-icon btn-success mt-2\",attrs:{\"id\":\"button-submit-habitant\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getHabitantData.apply(null, arguments)}}},[_c('i',{staticClass:\"fa fa-paper-plane\"})]),_c('b-tooltip',{attrs:{\"target\":\"button-submit-habitant\",\"noninteractive\":\"\",\"variant\":\"success\"}},[_c('span',[_vm._v(\" Envoyer\")])])],1)],1)],1)],1),_c('transition',{attrs:{\"enter-active-class\":\"animated zoomIn\"}},[(_vm.step == 1)?_c('div',[_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Nom(s) *\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: TAGNE SIPEUWO\",\"trim\":\"\",\"disabled\":_vm.validated == 1,\"type\":\"text\"},model:{value:(_vm.habitant.nom),callback:function ($$v) {_vm.$set(_vm.habitant, \"nom\", $$v)},expression:\"habitant.nom\"}}),(!_vm.requiredNom)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Nom Obligatoire\")]):_vm._e()],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Prénoms(s)\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: Miguel Pedro\",\"trim\":\"\",\"disabled\":_vm.validated == 1},model:{value:(_vm.habitant.prenom),callback:function ($$v) {_vm.$set(_vm.habitant, \"prenom\", $$v)},expression:\"habitant.prenom\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Date de Naissance\"}},[_c('date-picker',{staticClass:\"w-100\",attrs:{\"placeholder\":\"Selectionnez une date\",\"format\":\"dddd, DD MMMM YYYY\",\"valueType\":\"YYYY-MM-DD\",\"clearable\":false},model:{value:(_vm.habitant.dateNaiss),callback:function ($$v) {_vm.$set(_vm.habitant, \"dateNaiss\", $$v)},expression:\"habitant.dateNaiss\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Lieu de Naissance\"}},[_c('b-form-input',{attrs:{\"trim\":\"\"},model:{value:(_vm.habitant.lieuNaiss),callback:function ($$v) {_vm.$set(_vm.habitant, \"lieuNaiss\", $$v)},expression:\"habitant.lieuNaiss\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Numéro de Téléphone *\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: 699716645\",\"trim\":\"\",\"disabled\":_vm.validated == 1,\"type\":\"number\"},model:{value:(_vm.habitant.tel),callback:function ($$v) {_vm.$set(_vm.habitant, \"tel\", $$v)},expression:\"habitant.tel\"}}),(!_vm.requiredTel)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Numéro de Téléphone obligatoire\")]):_vm._e()],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Email\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: tagnemiguel@gmail.com\",\"trim\":\"\",\"disabled\":_vm.validated == 1,\"type\":\"email\"},model:{value:(_vm.habitant.email),callback:function ($$v) {_vm.$set(_vm.habitant, \"email\", $$v)},expression:\"habitant.email\"}})],1)],1)],1)],1):_vm._e()])],1),_c('tab-content',{attrs:{\"title\":\"Photo de profil\",\"icon\":\"fas fa-image\",\"before-change\":_vm.validateSecond}},[_c('div',{staticClass:\"text-center\"},[_c('img',{staticClass:\"rounded-circle\",attrs:{\"src\":_vm.habitant.avatar,\"width\":\"150\"}}),_c('h4',{staticClass:\"card-title mt-10\"},[_vm._v(_vm._s(_vm.habitant.nom))]),_c('div',{staticClass:\"imagesAnnonce border-dotted borderRadius\"},[_c('label',{staticClass:\"mr-2\",attrs:{\"for\":\"imagesAnnonce\"}},[_c('b',[_vm._v(\"Photo de profil \")])]),_c('label',[_c('b-img',{staticStyle:{\"width\":\"3em\",\"height\":\"3em\"},attrs:{\"src\":\"/img/camera.png\"}}),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\".png, .jpg, .jpeg\"},on:{\"change\":_vm.onFileChange}})],1)])])]),_c('tab-content',{attrs:{\"title\":\"Autres informations\",\"icon\":\"fas fa-info-circle\"}},[_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Titre honorifique\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar ariaDescribedby = ref.ariaDescribedby;\nreturn [_c('b-form-radio-group',{attrs:{\"id\":\"radio-slots\",\"options\":_vm.options,\"aria-describedby\":ariaDescribedby,\"name\":\"radio-options-slots\"},model:{value:(_vm.habitant.titre),callback:function ($$v) {_vm.$set(_vm.habitant, \"titre\", $$v)},expression:\"habitant.titre\"}})]}}])})],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Proféssion\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: Développeur Informatique\",\"trim\":\"\"},model:{value:(_vm.habitant.profession),callback:function ($$v) {_vm.$set(_vm.habitant, \"profession\", $$v)},expression:\"habitant.profession\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Autre numéro de télephone\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: 670142547\",\"trim\":\"\",\"type\":\"number\"},model:{value:(_vm.habitant.tel2),callback:function ($$v) {_vm.$set(_vm.habitant, \"tel2\", $$v)},expression:\"habitant.tel2\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Autre adresse mail\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: pedrospi@yahoo.com\",\"trim\":\"\",\"type\":\"email\"},model:{value:(_vm.habitant.email2),callback:function ($$v) {_vm.$set(_vm.habitant, \"email2\", $$v)},expression:\"habitant.email2\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Numéro Pièce D'identité\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: 114989895\",\"trim\":\"\",\"type\":\"number\"},model:{value:(_vm.habitant.cni),callback:function ($$v) {_vm.$set(_vm.habitant, \"cni\", $$v)},expression:\"habitant.cni\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Autre numéro de télephone\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: 671202344\",\"trim\":\"\",\"type\":\"number\"},model:{value:(_vm.habitant.tel3),callback:function ($$v) {_vm.$set(_vm.habitant, \"tel3\", $$v)},expression:\"habitant.tel3\"}})],1)],1)],1)],1),(_vm.loadingWizard)?_c('div',{staticClass:\"leloader\"}):_vm._e()],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <b-modal id=\"modal-lg\" size=\"lg\" title=\"Formulaire d'ajout d'un Locataire\" ref=\"habitantModal\" :ok-disabled=\"true\"  no-close-on-backdrop hide-header-close>\r\n        <div>\r\n            <b-overlay :show=\"showOverlay\" rounded=\"sm\">\r\n                <form-wizard  title='' subtitle='' nextButtonText='suivant' backButtonText='Précedent' finishButtonText='Enregistrer' aria-labelledby=\"demoModalLabel\"  @on-complete=\"onComplete\"\r\n                @on-loading=\"setLoading\"\r\n                shape=\"circle\"\r\n                color=\"#e74c3c\">\r\n                <tab-content title=\"Etat civil\"\r\n                    icon=\"fa fa-user\" \r\n                    :before-change=\"validateAsync\">\r\n                    <b-row>\r\n                        <b-col v-show=\"!alreadyset\"> \r\n                            <b-form-group label=\"Veuillez choisir le mode de création\">\r\n                                    <b-form-select v-model=\"selected\" :options=\"modeCreations\" v-on:change=\"changeForm\"></b-form-select>\r\n                            </b-form-group>\r\n                        </b-col>\r\n                        <b-col v-show=\"isCodeUtilisateur\"> \r\n                            <b-row class=\"mt-20\">\r\n                                <b-col cols=\"11\" sm=\"10\"> \r\n                                    <b-form-input v-model=\"habitant.code\"  id=\"input-large\" size=\"lg\" placeholder=\"Ex: Veuillez entrer le code de l'utilisateur\" class=\"hightPadding\" trim></b-form-input>\r\n                                </b-col>\r\n                                <b-col cols=\"1\"> \r\n                                    <button  class=\"btn btn-icon btn-success mt-2\" @click.prevent=\"getHabitantData\" id=\"button-submit-habitant\"><i class=\"fa fa-paper-plane\"></i></button>\r\n                                    <b-tooltip target=\"button-submit-habitant\" noninteractive variant=\"success\"><span> Envoyer</span></b-tooltip>\r\n                                </b-col>\r\n                            </b-row>\r\n                        </b-col>\r\n                        </b-row>\r\n                        <transition enter-active-class=\"animated zoomIn\">\r\n                            <div v-if=\"step == 1\">\r\n                                <b-row>\r\n                                    <b-col> \r\n                                        <b-form-group label=\"Nom(s) *\">\r\n                                            <b-form-input v-model=\"habitant.nom\" placeholder=\"Ex: TAGNE SIPEUWO\" trim :disabled=\"validated == 1\" type=\"text\"></b-form-input>\r\n                                            <span v-if=\"!requiredNom\" style=\"color:red;\">Nom Obligatoire</span>\r\n                                        </b-form-group>\r\n                                    </b-col>\r\n                                    <b-col> \r\n                                        <b-form-group label=\"Prénoms(s)\">\r\n                                            <b-form-input v-model=\"habitant.prenom\" placeholder=\"Ex: Miguel Pedro\" trim :disabled=\"validated == 1\"></b-form-input>\r\n                                        </b-form-group>\r\n                                    </b-col>\r\n                                </b-row>\r\n                                <b-row>\r\n                                    <b-col> \r\n                                        <b-form-group label=\"Date de Naissance\">\r\n                                            <date-picker v-model=\"habitant.dateNaiss\" placeholder=\"Selectionnez une date\" format=\"dddd, DD MMMM YYYY\" valueType=\"YYYY-MM-DD\" class=\"w-100\" :clearable=\"false\" />\r\n                                        </b-form-group>\r\n                                    </b-col>\r\n                                    <b-col> \r\n                                        <b-form-group label=\"Lieu de Naissance\">\r\n                                            <b-form-input v-model=\"habitant.lieuNaiss\" trim></b-form-input>\r\n                                        </b-form-group>\r\n                                    </b-col>\r\n                                </b-row>\r\n                                <b-row>\r\n                                    <b-col> \r\n                                        <b-form-group label=\"Numéro de Téléphone *\">\r\n                                            <b-form-input v-model=\"habitant.tel\" placeholder=\"Ex: 699716645\" trim :disabled=\"validated == 1\" type=\"number\"></b-form-input>\r\n                                            <span v-if=\"!requiredTel\" style=\"color:red;\">Numéro de Téléphone obligatoire</span>\r\n                                        </b-form-group>\r\n                                    </b-col>\r\n                                    <b-col> \r\n                                        <b-form-group label=\"Email\">\r\n                                            <b-form-input v-model=\"habitant.email\" placeholder=\"Ex: tagnemiguel@gmail.com\" trim :disabled=\"validated == 1\" type=\"email\"></b-form-input>\r\n                                        </b-form-group>\r\n                                    </b-col>\r\n                                </b-row>\r\n                            </div>\r\n                        </transition>\r\n                    </tab-content>\r\n                    <tab-content title=\"Photo de profil\"\r\n                            icon=\"fas fa-image\"\r\n                            :before-change=\"validateSecond\">\r\n                        <div class=\"text-center\"> \r\n                            <img :src=\"habitant.avatar\" class=\"rounded-circle\" width=\"150\">\r\n                            <h4 class=\"card-title mt-10\">{{ habitant.nom }}</h4>\r\n                            <div class=\"imagesAnnonce border-dotted borderRadius\">\r\n                                <label for=\"imagesAnnonce\" class=\"mr-2\"><b>Photo de profil </b></label>                                           \r\n                                <label>\r\n                                    \r\n                                    <b-img src=\"/img/camera.png\" style=\"width: 3em; height: 3em\"/>\r\n                                    <input type=\"file\"    \r\n                                    accept=\".png, .jpg, .jpeg\"\r\n                                    @change=\"onFileChange\" style=\"display:none\">\r\n                                </label>                 \r\n                            </div>\r\n                        </div>\r\n                    </tab-content>\r\n                    <tab-content title=\"Autres informations\"\r\n                            icon=\"fas fa-info-circle\"  \r\n                    >\r\n                        <b-row>\r\n                            <b-col> \r\n                                <b-form-group label=\"Titre honorifique\" v-slot=\"{ ariaDescribedby }\">\r\n                                    <b-form-radio-group\r\n                                        id=\"radio-slots\"\r\n                                        v-model=\"habitant.titre\"\r\n                                        :options=\"options\"\r\n                                        :aria-describedby=\"ariaDescribedby\"\r\n                                        name=\"radio-options-slots\"\r\n                                    >\r\n                                    </b-form-radio-group>\r\n                                </b-form-group>\r\n                            </b-col>\r\n                            <b-col> \r\n                            <b-form-group label=\"Proféssion\">\r\n                                    <b-form-input v-model=\"habitant.profession\" placeholder=\"Ex: Développeur Informatique\" trim></b-form-input>\r\n                                </b-form-group>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row>\r\n                            <b-col> \r\n                                <b-form-group label=\"Autre numéro de télephone\">\r\n                                    <b-form-input v-model=\"habitant.tel2\" placeholder=\"Ex: 670142547\" trim type=\"number\"></b-form-input>\r\n                                </b-form-group>\r\n                            </b-col>\r\n                            <b-col> \r\n                                <b-form-group label=\"Autre adresse mail\">\r\n                                    <b-form-input v-model=\"habitant.email2\" placeholder=\"Ex: pedrospi@yahoo.com\" trim type=\"email\"></b-form-input>\r\n                                </b-form-group>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row>\r\n                            <b-col> \r\n                                <b-form-group label=\"Numéro Pièce D'identité\">\r\n                                    <b-form-input v-model=\"habitant.cni\" placeholder=\"Ex: 114989895\" trim type=\"number\"></b-form-input>\r\n                                </b-form-group>\r\n                            </b-col>\r\n                            <b-col> \r\n                                <b-form-group label=\"Autre numéro de télephone\">\r\n                                    <b-form-input v-model=\"habitant.tel3\" placeholder=\"Ex: 671202344\" trim type=\"number\"></b-form-input>\r\n                                </b-form-group>\r\n                            </b-col>\r\n                        </b-row>\r\n                    </tab-content>\r\n                    <div class=\"leloader\" v-if=\"loadingWizard\"></div>\r\n            </form-wizard>                  \r\n\t      </b-overlay>\r\n        </div>\r\n        <template #modal-footer>\r\n            <b-button size=\"sm\" @click=\"resetModal\">\r\n                Fermer\r\n            </b-button>\r\n        </template>\r\n</b-modal>\r\n</template>\r\n<script>\r\nimport {FormWizard, TabContent} from 'vue-form-wizard'\r\nimport 'vue-form-wizard/dist/vue-form-wizard.min.css'\r\n\r\nimport DatePicker from 'vue2-datepicker';\r\nimport 'vue2-datepicker/index.css';\r\nimport 'vue2-datepicker/locale/fr';\r\n\r\nimport notif from \"@/plugins/notif.js\";\r\nexport default {\r\n    name:'add-habitant',\r\n    data:()=>({\r\n        validated:0,\r\n        options: [\r\n          { text: 'Monsieur', value: 'M' },\r\n          { text: 'Mme', value: 'Mme' },\r\n          { text: 'Mademoiselle', value: 'Mlle'},\r\n        ],\r\n        time:\"\",\r\n        showOverlay:false,\r\n        isCodeUtilisateur:false,\r\n        alreadyset:false,\r\n        habitant:{\r\n            nom:\"\",\r\n            prenom:\"\",\r\n            dateNaiss:\"\",\r\n            lieuNaiss:\"\",\r\n            profession:\"\",\r\n            cni:\"\",\r\n            email:\"\",\r\n            email2:\"\",\r\n            tel:\"\",\r\n            tel2:\"\",\r\n            tel3:\"\",\r\n            titre:'M',\r\n            code:\"\",\r\n            avatar:\"http://localhost:8080/img/default.png\"\r\n            //avatar:\"http://localhost:8080/img/default.png\"\r\n        },\r\n        step:0,\r\n        showAddPicture:false,\r\n        selected: null,\r\n        modeCreations: [\r\n          { value: '2', text: 'Utilisateur entidaté' },\r\n          { value: '1', text: 'Code Utilisateur' },\r\n        ],\r\n        loadingWizard: false,\r\n        check:true,\r\n        check2:true,\r\n        requiredNom:true,\r\n        requiredTel:true,\r\n    }),\r\n    components: {\r\n        FormWizard,\r\n        TabContent,\r\n        DatePicker\r\n    },\r\n    props:[\"action\"],\r\n    methods: {\r\n        photo_upload: function(e, file){\r\n            console.log(e,file)\r\n        },\r\n        //méthodes liées au form-wizard\r\n        setLoading: function(value) {\r\n                this.loadingWizard = value\r\n        },\r\n            \r\n        validateAsync:function() {\r\n            return new Promise((resolve, reject) => {\r\n                \r\n                if(!this.habitant.nom || !this.habitant.tel){\r\n                    if(!this.habitant.nom){this.requiredNom=false;}\r\n                    else {this.requiredNom=true;}\r\n                    if(!this.habitant.tel){this.requiredTel=false;}\r\n                    else{this.requiredTel=true;}\r\n                    this.check=false\r\n                }else{\r\n                    this.check=true\r\n                    this.alreadyset=true;\r\n                }\r\n            setTimeout(() => {\r\n                resolve(this.check)\r\n            }, 1000)\r\n            })\r\n        },\r\n        validateSecond:function() {\r\n                return new Promise((resolve, reject) => {\r\n                    \r\n                   if(!this.habitant.tel){\r\n                        this.check2=false\r\n                    }else{\r\n                        this.check2=true\r\n                    }\r\n                setTimeout(() => {\r\n                    resolve(this.check2)\r\n                }, 1000)\r\n                })\r\n        },\r\n        changeForm(){\r\n            console.log(\"entrée ici\")\r\n            let commande=this.selected\r\n            console.log(\"valeur sélectionnée\",commande)\r\n            if(commande==='1'){\r\n                this.isCodeUtilisateur=true;\r\n                this.step=0;\r\n            }\r\n            if(commande==='2'){\r\n                this.step=1;\r\n                this.isCodeUtilisateur=false\r\n            }\r\n\r\n        },\r\n        resetModal() {\r\n            this.habitant = {\r\n                nom: '', prenom: '', profession: '', cni: '', tel: '',\r\n                email: '', email2: '', code: '', titre: '', dateNaiss: '', lieuNaiss: ''\r\n        \r\n            }\r\n            this.$refs['habitantModal'].hide();\r\n            setTimeout(() => {\r\n                this.$emit('closeModal');\r\n            }, 500);\r\n        },\r\n\r\n        //obtention des données d'un habitant à partir de son code utilisateur\r\n        getHabitantData(){\r\n            this.showOverlay=true\r\n            axios.get('utilisateurs/'+this.habitant.code).then((response) => {\r\n                if(response.success){\r\n                    this.habitant.avatar = response.result.avatar\r\n                    this.habitant.nom = response.result.nom\r\n                    this.habitant.prenom = response.result.prenom\r\n                    this.habitant.tel = response.result.tel\r\n                    this.habitant.dateNaiss = response.result.dateNaiss\r\n                    this.habitant.email=response.result.email\r\n                    this.habitant.isCertified=response.result.isCertified\r\n                    this.step=1;\r\n                    this.validated=1\r\n                    this.alreadyset=true;\r\n                }else{\r\n                    console.log(\"user inexistant\")\r\n                     App.confirm(`Utilisateur Inexistant`);\r\n                }\r\n            })\r\n             this.showOverlay=false\r\n        },\r\n        getBase64(file) {\r\n            return new Promise((resolve, reject) => {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onload = () => resolve(reader.result);\r\n                reader.onerror = (error) => reject(error);\r\n            });\r\n        },\r\n        //methode qui gère le changement de la photo de profil\r\n        async onFileChange(e){\r\n            const avatarUser=e.target.files[0];;\r\n            this.habitant.avatar=await this.getBase64(avatarUser)\r\n            console.log(\"avatar\", this.habitant.avatar);\r\n           /* const file=e.target.files[0];\r\n            this.habitant.avatar=URL.createObjectURL(file);*/\r\n        },\r\n        //validation formulaire d'ajout/modification d'una annonce\r\n        onComplete(){\r\n            this.showOverlay=true;\r\n            let data={\r\n                nom:this.habitant.nom, prenom:this.habitant.prenom, cni:this.habitant.cni, \r\n                tel:this.habitant.tel, tel2:this.habitant.tel2, tel3:this.habitant.tel3, \r\n                email:this.habitant.email, email2:this.habitant.email2, profession:this.habitant.profession,\r\n                titre:this.habitant.titre, dateNaiss:this.habitant.dateNaiss, lieuNaiss:this.habitant.lieuNaiss,\r\n                code:this.habitant.code, avatar: this.habitant.avatar\r\n            }\r\n            axios.post(\"locataires\",data).then(response =>{\r\n                this.habitant.nom=null;this.habitant.prenom=null; this.habitant.dateNaiss=null;\r\n                this.habitant.lieuNaiss=null;this.habitant.profession=null; this.habitant.dateNaiss=null;\r\n                this.habitant.cni=null;this.habitant.email=null; this.habitant.email2=null;\r\n                this.habitant.tel=null;this.habitant.tel2=null; this.habitant.titre='M';\r\n                this.habitant.code=null;this.habitant.avatar=\"http://localhost:8080/img/default.png\"; this.habitant.titre='M';\r\n                notif.success(response.message);\r\n                this.$root.$emit(\"new-habitant-added\", response.result);\r\n            })\r\n            .catch(error => {notif.error(error.message);});\r\n             setTimeout(() => {\r\n                 this.$refs['habitantModal'].hide()\r\n                this.showOverlay=false;\r\n            }, 2000);\r\n              \r\n            },\r\n             \r\n\r\n    },\r\n\r\n}\r\n</script>\r\n<style scoped>\r\n.is-red{\r\n    border-color:red;\r\n}\r\n    .leloader,\r\n.leloader:after {\r\n  border-radius: 50%;\r\n  width: 10em;\r\n  height: 10em;\r\n}\r\n.leloader {\r\n  margin: 60px auto;\r\n  font-size: 10px;\r\n  position: relative;\r\n  text-indent: -9999em;\r\n  border-top: 1.1em solid rgba(255, 255, 255, 0.2);\r\n  border-right: 1.1em solid rgba(255, 255, 255, 0.2);\r\n  border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);\r\n  border-left: 1.1em solid #e74c3c;\r\n  -webkit-transform: translateZ(0);\r\n  -ms-transform: translateZ(0);\r\n  transform: translateZ(0);\r\n  -webkit-animation: load8 1.1s infinite linear;\r\n  animation: load8 1.1s infinite linear;\r\n}\r\n@-webkit-keyframes load8 {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n@keyframes load8 {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n.hightPadding{\r\n    padding: 1em!important;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddHabitant.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddHabitant.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddHabitant.vue?vue&type=template&id=833fe5fa&scoped=true&\"\nimport script from \"./AddHabitant.vue?vue&type=script&lang=js&\"\nexport * from \"./AddHabitant.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddHabitant.vue?vue&type=style&index=0&id=833fe5fa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"833fe5fa\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"card-deck\"},[_c('div',{staticClass:\"card mb-2\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('div',{staticClass:\"w-40\"},[_c('b-card',{staticClass:\"mb-3\",attrs:{\"img-width\":\"300\",\"img-height\":\"300\",\"img-src\":_vm.locataire.avatar,\"img-alt\":\"Card image\",\"img-left\":\"\"}})],1),_c('div',{staticClass:\"w-60 ml-4 globalcont2\"},[_c('div',{staticClass:\" display-top-right\"},[_c('div',[_c('b-dropdown',{staticClass:\"m-md-2\",attrs:{\"id\":\"dropdown-1\",\"text\":\"gestion du compte\"}},[_c('b-dropdown-item',[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal_recharge\",modifiers:{\"modal_recharge\":true}}],attrs:{\"size\":\"sm\",\"block\":\"\",\"variant\":\"outline-success\"}},[_c('i',{staticClass:\"fa fa-credit-card\"}),_vm._v(\"Recharge\")])],1),_c('b-dropdown-item',[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal_transfert\",modifiers:{\"modal_transfert\":true}}],attrs:{\"size\":\"sm\",\"block\":\"\",\"variant\":\"outline-secondary\"}},[_c('i',{staticClass:\"fas fa-money-bill-alt\"}),_vm._v(\"Transfert\")])],1),_c('b-dropdown-item',[_c('b-button',{attrs:{\"to\":\"#\",\"size\":\"sm\",\"block\":\"\",\"variant\":\"outline-danger\"}},[_c('i',{staticClass:\"fas fa-times-circle\"}),_vm._v(\"Annulation\")])],1)],1)],1)]),_c('dl',{staticClass:\"row text-muted\"},[(_vm.locataire.cniLocataire)?_c('dd',{staticClass:\"mt-1 mb-2 col-1\"},[_c('i',{staticClass:\"fa fa-id-card\"})]):_vm._e(),(_vm.locataire.cniLocataire)?_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Numéro de CNI'),expression:\"'Numéro de CNI'\"}],staticClass:\"mt-1 mb-2 col-11 truncate\"},[_vm._v(_vm._s(_vm.locataire.cniLocataire))]):_vm._e(),_vm._m(0),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Numéro de téléphone'),expression:\"'Numéro de téléphone'\"}],staticClass:\"mt-1 mb-2 col-11 truncate\"},[_vm._v(_vm._s(_vm.locataire.tel))]),_vm._m(1),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Email'),expression:\"'Email'\"}],staticClass:\"mt-1 mb-2 col-11 truncate\"},[_vm._v(_vm._s(_vm.locataire.email))]),(_vm.locataire.dateNaiss)?_c('dd',{staticClass:\"mt-1 mb-2 col-1\"},[_c('i',{staticClass:\"fas fa-birthday-cake\"})]):_vm._e(),(_vm.locataire.dateNaiss)?_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Date de naissance'),expression:\"'Date de naissance'\"}],staticClass:\"mt-1 mb-2 col-11 truncate\"},[_vm._v(_vm._s(_vm.$date(_vm.locataire.dateNaiss).format('DD MMMM YYYY')))]):_vm._e(),_c('dd',{staticClass:\"mt-1 mb-2 col-5\"},[_vm._v(\"Solde principal\")]),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Solde du compte principal'),expression:\"'Solde du compte principal'\"}],staticClass:\"mt-1 mb-2 col-3 truncate\"},[_vm._v(\"198000 FCFA\")]),_c('dd',{staticClass:\"mt-1 mb-2 col-5\"},[_vm._v(\"Solde compte loyer\")]),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Solde du compte principal'),expression:\"'Solde du compte principal'\"}],staticClass:\"mt-1 mb-2 col-3 truncate\"},[_vm._v(\"102000 FCFA\")]),_c('dd',{staticClass:\"mt-1 mb-2 col-5\"},[_vm._v(\"Solde compte eau\")]),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Solde du compte principal'),expression:\"'Solde du compte principal'\"}],staticClass:\"mt-1 mb-2 col-3 truncate\"},[_vm._v(\"0 FCFA\")]),_c('dd',{staticClass:\"mt-1 mb-2 col-5\"},[_vm._v(\"Solde compte électricité\")]),_c('dt',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Solde du compte principal'),expression:\"'Solde du compte principal'\"}],staticClass:\"mt-1 mb-1 col-3 truncate\"},[_vm._v(\"0 FCFA\")])])])])]),_c('b-modal',{ref:\"modal-recharge\",attrs:{\"hide-footer\":\"\",\"static\":true,\"id\":\"modal_recharge\",\"title\":'Recharger du compte de '+_vm.locataire.nomLocataire},on:{\"hidden\":_vm.resetRechargeForm},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nreturn [_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\",\"disabled\":_vm.recharge.submitted},on:{\"click\":function($event){return ok()}}},[_vm._v(\" Valider \"),(_vm.recharge.submitted)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e()],1)]}}]),model:{value:(_vm.recharge.enabled),callback:function ($$v) {_vm.$set(_vm.recharge, \"enabled\", $$v)},expression:\"recharge.enabled\"}},[_c('b-form-group',{attrs:{\"description\":\"Entrez le montant de la recharge\",\"label\":\"Montant à créditer\"}},[_c('b-form-input',{class:{'is-invalid' : _vm.recharge.error},attrs:{\"type\":\"number\",\"min\":1000},model:{value:(_vm.recharge.montant),callback:function ($$v) {_vm.$set(_vm.recharge, \"montant\", $$v)},expression:\"recharge.montant\"}})],1),_c('b-form-checkbox',{attrs:{\"switch\":\"\"},model:{value:(_vm.recharge.pay),callback:function ($$v) {_vm.$set(_vm.recharge, \"pay\", $$v)},expression:\"recharge.pay\"}},[_c('span',{staticClass:\"fa-lg\"},[_vm._v(\"Paiement automatique ?\")])]),_c('transition',{attrs:{\"enter-active-class\":\"animated zoomIn\"}},[(_vm.recharge.pay)?_c('b-form-group',{attrs:{\"label\":\"Occupation concernée\"}},[_c('v-select',{attrs:{\"options\":_vm.locataire.occupations,\"label\":\"loyerBase\"},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar loyerBase = ref.loyerBase;\nvar puEnergie = ref.puEnergie;\nvar puEau = ref.puEau;\nreturn [_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Loyer: \"+_vm._s(loyerBase))]),_c('br'),_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Energie: \"+_vm._s(puEnergie))]),_c('br'),_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Eau: \"+_vm._s(puEau))]),_c('hr',{staticClass:\"m-0\"})]}}],null,false,3620839870),model:{value:(_vm.idOccupation),callback:function ($$v) {_vm.idOccupation=$$v},expression:\"idOccupation\"}})],1):_vm._e()],1),_c('hr'),_c('div',{staticClass:\"float-right\"},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.validateRecharge.apply(null, arguments)}}},[_vm._v(\"Valider\"),(_vm.recharge.submitted)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e()],1)],1)],1),_c('b-modal',{ref:\"modal-transfert\",attrs:{\"hide-footer\":\"\",\"static\":true,\"id\":\"modal_transfert\",\"title\":\"Transfert intercomptes\"},on:{\"hidden\":_vm.resetTransfertForm},model:{value:(_vm.transfert.enabled),callback:function ($$v) {_vm.$set(_vm.transfert, \"enabled\", $$v)},expression:\"transfert.enabled\"}},[_c('b-row',[_c('b-col',[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"compte débiteur\")]),_c('v-select',{class:!_vm.requiredCompteDebiteur ? 'is-red' : '',attrs:{\"label\":\"text\",\"options\":_vm.touslesComptes},on:{\"input\":_vm.filterAccountList},model:{value:(_vm.transfert.compteDebiteur),callback:function ($$v) {_vm.$set(_vm.transfert, \"compteDebiteur\", $$v)},expression:\"transfert.compteDebiteur\"}}),(!_vm.requiredCompteCrediteur)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Ce champ est obligatoire\")]):_vm._e()],1)]),_c('b-col',[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Compte crédité\")]),_c('v-select',{class:!_vm.requiredCompteCrediteur ? 'is-red' : '',attrs:{\"label\":\"text\",\"options\":_vm.comptesfiltres},model:{value:(_vm.transfert.compteCredite),callback:function ($$v) {_vm.$set(_vm.transfert, \"compteCredite\", $$v)},expression:\"transfert.compteCredite\"}}),(!_vm.requiredCompteCrediteur)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Ce champ est obligatoire\")]):_vm._e()],1)])],1),_c('b-form-group',{attrs:{\"description\":\"Entrez le montant à transférer\",\"label\":\"Montant à transferer\"}},[_c('b-form-input',{class:{'is-invalid' : _vm.transfert.error},attrs:{\"type\":\"number\",\"min\":1000},model:{value:(_vm.transfert.montant),callback:function ($$v) {_vm.$set(_vm.transfert, \"montant\", $$v)},expression:\"transfert.montant\"}})],1),_c('hr'),_c('div',{staticClass:\"float-right\"},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.validateTransfert.apply(null, arguments)}}},[_vm._v(\"Valider\"),(_vm.recharge.submitted)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e()],1)],1)],1)],1)]),_c('div',[_c('ul',{staticClass:\"nav nav-tabs\"},[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",class:{'active' : _vm.section == 'occupations'},attrs:{\"data-toggle\":\"tab\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.section = 'occupations'}}},[_vm._v(\"Occupations\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",class:{'active' : _vm.section == 'charges'},attrs:{\"data-toggle\":\"tab\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.section = 'charges'}}},[_vm._v(\"Charges\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",class:{'active' : _vm.section == 'loyers'},attrs:{\"data-toggle\":\"tab\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.section = 'loyers'}}},[_vm._v(\"Loyers\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",class:{'active' : _vm.section == 'logements'},attrs:{\"data-toggle\":\"tab\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.section = 'Logements'}}},[_vm._v(\"Logements\")])]),(_vm.itemsOccupations.length==0)?_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",class:{'active' : _vm.section == 'add-occupation'},attrs:{\"data-toggle\":\"tab\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.section = 'add-occupation'}}},[_vm._v(\"Ajouter une occupation\")])]):_vm._e()]),_c('div',{staticClass:\"tab-content mt-3\"},[_c('div',{staticClass:\"tab-pane fade show active\"},[(_vm.section == 'occupations')?_c('b-container',{staticStyle:{\"height\":\"75vh\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\"},attrs:{\"fluid\":\"\"}},[(!_vm.locataire.occupations.length)?_c('b-alert',{staticClass:\"text-center\",attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('i',{staticClass:\"fa fa-exclamation-triangle fa-3x\"}),_vm._v(\" \"),_c('br'),_c('span',{staticClass:\"h4 d-inline-flex ml-2\"},[_vm._v(\"Vous n'avez défini aucune occupation pour le moment\")])]):_c('b-row',[_c('div',{staticClass:\"card-body\"},[_c('b-table-simple',{attrs:{\"hover\":\"\",\"small\":\"\",\"responsive\":\"\"}},[_c('b-thead',{attrs:{\"head-variant\":\"light\"}},[_c('b-tr',[_c('b-th',[_vm._v(\"N°\")]),_c('b-th',[_vm._v(\"Logement\")]),_c('b-th',[_vm._v(\"Loyer de base\")]),_c('b-th',[_vm._v(\"Facturation en eau\")]),_c('b-th',[_vm._v(\"Facturation en energie\")]),_c('b-th',[_vm._v(\"Action\")])],1)],1),_c('b-tbody',_vm._l((_vm.itemsOccupations),function(occupation){return _c('b-tr',{key:occupation.idOccupation},[_c('b-td',{staticClass:\"p-2\"},[_vm._v(_vm._s(occupation.idOccupation))]),_c('b-td',{staticClass:\"p-2\"},[(occupation.modePaiement == 'prepayer')?_c('span',{staticClass:\"d-inline-block w-100 mt-1 text-muted\"},[_vm._v(\" Paiement loyer avant consommation \")]):_vm._e(),(occupation.modePaiement == 'postpayer')?_c('span',{staticClass:\"d-inline-block w-100 mt-1 text-muted\"},[_vm._v(\" Paiement loyer après consommation \")]):_vm._e()]),_c('b-td',{staticClass:\"p-2\"},[_c('span',{staticClass:\"d-inline-block w-100 mb-1 font-weight-bold\"},[_vm._v(_vm._s(occupation.loyerBase))])]),_c('b-td',{staticClass:\"p-2\"},[_c('span',{staticClass:\"d-inline-block w-100 mb-1\"},[_c('b',[_vm._v(_vm._s(occupation.modeEau))]),_vm._v(\" / \"),(occupation.modeEau =='index')?_c('small',[_vm._v(_vm._s(occupation.puEau)+\" le KW\")]):_vm._e(),(occupation.modeEau =='forfait')?_c('small',[_vm._v(_vm._s(occupation.puEau)+\" par mois\")]):_vm._e()])]),_c('b-td',{staticClass:\"p-2\"},[_c('span',{staticClass:\"d-inline-block w-100 mb-1\"},[_c('b',[_vm._v(_vm._s(occupation.modeEnergie))]),_vm._v(\" / \"),(occupation.modeEnergie =='index')?_c('small',[_vm._v(_vm._s(occupation.puEnergie)+\" le KW\")]):_vm._e(),(occupation.modeEnergie =='forfait')?_c('small',[_vm._v(_vm._s(occupation.puEnergie)+\" par mois\")]):_vm._e()])]),_c('b-td',[_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Accéder à l\\'occupation'),expression:\"'Accéder à l\\\\'occupation'\"}],attrs:{\"to\":{name: 'details-occupation', params: {id: occupation.idOccupation}}},on:{\"click\":function($event){$event.preventDefault();return _vm.viewOccupationDetail(occupation)}}},[_c('i',{staticClass:\"fa fa-eye\"})])],1)],1)}),1)],1)],1)]),_c('paginator',{attrs:{\"hr\":\"top\",\"offset\":_vm.offset,\"total\":_vm.itemsOccupations.length,\"limit\":_vm.perPage,\"page\":_vm.currentPage},on:{\"pageChanged\":function (page) {_vm.currentPage = page},\"limitChanged\":function (limit) {_vm.perPage = limit}}})],1):_vm._e(),(_vm.section == 'logements')?_c('b-container',{attrs:{\"fluid\":\"\"}}):_vm._e(),(_vm.section == 'loyers')?_c('b-container',{attrs:{\"fluid\":\"\"}}):_vm._e(),(_vm.section == 'charges')?_c('div',{staticStyle:{\"height\":\"75vh\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\"}}):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.section == 'add-occupation'),expression:\"section == 'add-occupation'\"}]},[_c('occupation-form',{attrs:{\"locataire\":_vm.locataire,\"provenance\":_vm.provenance,\"action\":_vm.action},on:{\"occupationAdded\":_vm.addedOccupation}})],1)],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 mb-2 col-1\"},[_c('i',{staticClass:\"fa fa-phone\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dd',{staticClass:\"mt-1 mb-2 col-1\"},[_c('i',{staticClass:\"fa fa-envelope\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"card-deck\">\r\n           <div class=\"card mb-2\" >\r\n                <div class=\"card-body\">\r\n                    <div class=\"d-flex justify-content-between\"> \r\n                        <div class=\"w-40\">\r\n                                <b-card img-width=\"300\" img-height=\"300\" :img-src=\"locataire.avatar\" img-alt=\"Card image\" img-left class=\"mb-3\">\r\n                               \r\n                                </b-card>\r\n                        </div>\r\n                        <div class=\"w-60 ml-4 globalcont2\">\r\n                            <!--DEBUT COMPOSANT DE DROP DOWN -->\r\n                            <div class=\" display-top-right\">\r\n                               <div>\r\n                                <b-dropdown id=\"dropdown-1\" text=\"gestion du compte\" class=\"m-md-2\">\r\n                                    <b-dropdown-item>\r\n                                        <!--<b-button @click.prevent=\"callRechargeForm(locataire)\" size=\"sm\" block variant=\"outline-success\"><i class=\"fa fa-credit-card\"></i>Recharge</b-button>-->\r\n                                        <b-button v-b-modal.modal_recharge size=\"sm\" block variant=\"outline-success\"><i class=\"fa fa-credit-card\"></i>Recharge</b-button>\r\n                                    </b-dropdown-item>\r\n                                    <b-dropdown-item>\r\n                                        <b-button v-b-modal.modal_transfert size=\"sm\" block variant=\"outline-secondary\"><i class=\"fas fa-money-bill-alt\"></i>Transfert</b-button>\r\n                                        </b-dropdown-item>\r\n                                    <b-dropdown-item>\r\n                                        <b-button to=\"#\" size=\"sm\" block variant=\"outline-danger\"><i class=\"fas fa-times-circle\"></i>Annulation</b-button>\r\n                                    </b-dropdown-item>\r\n                                </b-dropdown>\r\n                                </div>\r\n                          \r\n                            </div>\r\n                      \r\n                       \r\n                            <!--FIN COMPOSANT DE DROP DOWN -->\r\n                            <dl class=\"row text-muted\">\r\n                                <dd class=\"mt-1 mb-2 col-1\" v-if=\"locataire.cniLocataire\"><i class=\"fa fa-id-card\"></i></dd>\r\n                                <dt class=\"mt-1 mb-2 col-11 truncate\" v-b-tooltip=\"'Numéro de CNI'\" v-if=\"locataire.cniLocataire\">{{ locataire.cniLocataire }}</dt>\r\n                                <dd class=\"mt-1 mb-2 col-1\"><i class=\"fa fa-phone\"></i></dd>\r\n                                <dt class=\"mt-1 mb-2 col-11 truncate\" v-b-tooltip=\"'Numéro de téléphone'\">{{ locataire.tel }}</dt>\r\n                                <dd class=\"mt-1 mb-2 col-1\"><i class=\"fa fa-envelope\"></i></dd>\r\n                                <dt class=\"mt-1 mb-2 col-11 truncate\" v-b-tooltip=\"'Email'\">{{ locataire.email }}</dt>\r\n                                <dd class=\"mt-1 mb-2 col-1\" v-if=\"locataire.dateNaiss\"><i class=\"fas fa-birthday-cake\"></i></dd>\r\n                                <dt class=\"mt-1 mb-2 col-11 truncate\" v-b-tooltip=\"'Date de naissance'\" v-if=\"locataire.dateNaiss\">{{ $date(locataire.dateNaiss).format('DD MMMM YYYY') }}</dt>\r\n                                <dd class=\"mt-1 mb-2 col-5\">Solde principal</dd>\r\n                                <dt class=\"mt-1 mb-2 col-3 truncate\" v-b-tooltip=\"'Solde du compte principal'\">198000 FCFA</dt>\r\n                                <dd class=\"mt-1 mb-2 col-5\">Solde compte loyer</dd>\r\n                                <dt class=\"mt-1 mb-2 col-3 truncate\" v-b-tooltip=\"'Solde du compte principal'\">102000 FCFA</dt>\r\n                                <dd class=\"mt-1 mb-2 col-5\">Solde compte eau</dd>\r\n                                <dt class=\"mt-1 mb-2 col-3 truncate\" v-b-tooltip=\"'Solde du compte principal'\">0 FCFA</dt>\r\n                                <dd class=\"mt-1 mb-2 col-5\">Solde compte électricité</dd>\r\n                                <dt class=\"mt-1 mb-1 col-3 truncate\" v-b-tooltip=\"'Solde du compte principal'\">0 FCFA</dt>\r\n                            </dl>\r\n                        </div>\r\n                    </div>\r\n                    <!--<div class=\"mt-2  epp\">\r\n                        <b-row>\r\n                            <b-col class=\"pl-0 pr-0\">\r\n                                <b-button  @click.prevent=\"callRechargeForm(locataire)\" size=\"sm\" block variant=\"outline-success\"  class=\"w-80 ml-2 pl-0 pr-0\"><i class=\"fa fa-credit-card\"></i>Recharger le compte</b-button>\r\n                \r\n                            </b-col>\r\n                            <b-col class=\"pl-0 pr-0\">\r\n                                <b-button to=\"#\" size=\"sm\" block variant=\"outline-secondary\" class=\"w-80 ml-2 pl-0 pr-0\"><i class=\"fas fa-money-bill-alt\"></i>Débiter le compte</b-button>\r\n                            </b-col>\r\n                            <b-col class=\"pl-0 pr-0\">\r\n                                <b-button to=\"#\" size=\"sm\" block variant=\"outline-danger\" class=\"pl-0 pr-0\"><i class=\"fas fa-times-circle\"></i>Annuler la dernière recharge</b-button>\r\n                            </b-col>\r\n                        </b-row>\r\n                    </div>-->\r\n                </div>\r\n                <!--<div class=\"card-body pt-0\">                         \r\n                    <div class=\"d-flex align-items-center justify-content-between\">\r\n                        <hr class=\"w-25 bg-danger\"> Logement <hr class=\"w-25 bg-danger\">\r\n                    </div>\r\n                    <span class=\"d-inline-block w-100 mb-1 text-center\">{{ occupation.logement.refLogement }}</span>    \r\n                    <span class=\"d-inline-block w-100 mb-1 text-center text-muted\">{{ occupation.logement.sousTypeLogement.libelleSousType }}</span>    \r\n                        <div class=\"jumbotron pt-10 pb-10 px-2\">\r\n                        <dl class=\"row text-muted\">\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-dollar-sign\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Plage de loyer'\">{{ occupation.logement.prixMin + 'F' }} - {{ occupation.logement.prixMax + 'F' }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-map-marker-alt\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Localisation'\">{{ occupation.logement.adresse.ville + ' ' + occupation.logement.adresse.pays }}</dt>\r\n                            <dd v-if=\"occupation.logement.batiment\" class=\"mt-1 col-1\"><i class=\"fa fa-building\"></i></dd>\r\n                            <dt v-if=\"occupation.logement.batiment\" class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Batiment'\">{{ occupation.logement.batiment.nomBatiment }}</dt>\r\n                            <dd v-if=\"occupation.logement.batiment\" class=\"mt-1 col-1\"><i class=\"fas fa-city\"></i></dd>\r\n                            <dt v-if=\"occupation.logement.batiment\" class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Cité'\">{{ occupation.logement.batiment.cite.nomCite }}</dt>\r\n                        </dl>\r\n                        <b-button :to=\"{name: 'logements', query: {target: occupation.logement.idLogement}}\" size=\"sm\" block variant=\"outline-secondary\">Voir les details</b-button>\r\n                    </div>\r\n                    <div class=\"d-flex align-items-center justify-content-between\">\r\n                        <hr class=\"w-25 bg-danger\"> Locataire <hr class=\"w-25 bg-danger\">\r\n                    </div>\r\n                    <span class=\"d-inline-block w-100 mb-1 text-center\">{{ occupation.locataire.titre + ' ' + occupation.locataire.nomLocataire + ' ' + occupation.locataire.prenomLocataire }}</span>    \r\n                    <span class=\"d-inline-block w-100 mb-1 text-center text-muted\">{{ occupation.locataire.profession }}</span>    \r\n                        <div class=\"jumbotron pt-10 pb-10 px-2\">\r\n                        <dl class=\"row text-muted\">\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-id-card\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Numéro de CNI'\">{{ occupation.locataire.cniLocataire }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-phone\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Numéro de téléphone'\">{{ occupation.locataire.tel + ' / ' + occupation.locataire.tel2 }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fa fa-envelope\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Email'\">{{ occupation.locataire.email + ' / ' + occupation.locataire.email2 }}</dt>\r\n                            <dd class=\"mt-1 col-1\"><i class=\"fas fa-calendar-alt\"></i></dd>\r\n                            <dt class=\"mt-1 col-10 truncate\" v-b-tooltip=\"'Date de naissance'\">{{ $date(occupation.locataire.dateNaiss).format('DD MMMM YYYY') }}</dt>\r\n                        </dl>\r\n                        <b-button to=\"#\" size=\"sm\" block variant=\"outline-secondary\">Voir le dossier</b-button>\r\n                    </div>\r\n                </div>-->\r\n                <!--DEBUT FORMULAIRE DE RECHARGE DU COMPTE PRINCIPAL>-->\r\n                   \r\n\r\n                     <b-modal\r\n                        hide-footer\r\n                        :static=\"true\"\r\n                        id=\"modal_recharge\"\r\n                        ref=\"modal-recharge\"\r\n                        v-model=\"recharge.enabled\"\r\n                        :title=\"'Recharger du compte de '+locataire.nomLocataire\"\r\n                        @hidden=\"resetRechargeForm\"\r\n                    >\r\n                        <template #modal-footer=\"{ ok }\">\r\n                            <b-button size=\"sm\" variant=\"danger\" @click=\"ok()\" :disabled=\"recharge.submitted\">\r\n                                Valider\r\n                                <b-spinner v-if=\"recharge.submitted\" small />\r\n                            </b-button>\r\n                        </template>\r\n                        <b-form-group description=\"Entrez le montant de la recharge\" label=\"Montant à créditer\">\r\n                        <b-form-input\r\n                            v-model=\"recharge.montant\"\r\n                            type=\"number\"\r\n                            :min=\"1000\"\r\n                            :class=\"{'is-invalid' : recharge.error}\"\r\n                        />\r\n                        </b-form-group>\r\n                            <b-form-checkbox v-model=\"recharge.pay\" switch>\r\n                                <span class=\"fa-lg\">Paiement automatique ?</span>\r\n                            </b-form-checkbox>\r\n                              <transition enter-active-class=\"animated zoomIn\">\r\n                                <b-form-group label=\"Occupation concernée\" v-if=\"recharge.pay\">\r\n                                    <v-select :options=\"locataire.occupations\" v-model=\"idOccupation\" label=\"loyerBase\">\r\n                                        <template #option=\"{ loyerBase, puEnergie, puEau }\">\r\n                                            <span class=\"text-muted\">Loyer: {{ loyerBase }}</span><br />\r\n                                            <span class=\"text-muted\">Energie: {{ puEnergie }}</span><br />\r\n                                            <span class=\"text-muted\">Eau: {{ puEau }}</span>\r\n                                            <!--<small class=\"text-muted\" v-if=\"cite != null\">Cité: {{ cite.nomCite }}</small>-->\r\n                                            <hr class=\"m-0\">\r\n                                        </template>\r\n                                    </v-select>\r\n                                </b-form-group>\r\n                            </transition>\r\n                        <hr>\r\n                        <div class=\"float-right\"><b-button @click.prevent=\"validateRecharge\" variant=\"primary\">Valider<b-spinner v-if=\"recharge.submitted\" small></b-spinner></b-button></div>\r\n                    </b-modal>\r\n           \r\n                <!--FIN FORMULAIRE DE RECHARGE DU COMPTE PRINCIPAL>-->\r\n                <!--DEBUT FORMULAIRE DE TRANSFERT INTERCOMPTES-->\r\n               \r\n                    <b-modal\r\n                        hide-footer\r\n                        :static=\"true\"\r\n                        id=\"modal_transfert\"\r\n                        ref=\"modal-transfert\"\r\n                        v-model=\"transfert.enabled\"\r\n                        title=\"Transfert intercomptes\"\r\n                        @hidden=\"resetTransfertForm\"\r\n                    >\r\n                        <b-row>\r\n                            <b-col> \r\n                                <div class=\"form-group\">\r\n                                    <label>compte débiteur</label>\r\n                                    <v-select label=\"text\" :options=\"touslesComptes\" v-model=\"transfert.compteDebiteur\" :class=\"!requiredCompteDebiteur ? 'is-red' : ''\" @input=\"filterAccountList\"></v-select>\r\n                                    <span v-if=\"!requiredCompteCrediteur\" style=\"color:red;\">Ce champ est obligatoire</span>\r\n                                </div>\r\n                            </b-col>\r\n                            <b-col> \r\n                                <div class=\"form-group\">\r\n                                    <label>Compte crédité</label>\r\n                                    <v-select label=\"text\" :options=\"comptesfiltres\" v-model=\"transfert.compteCredite\" :class=\"!requiredCompteCrediteur ? 'is-red' : ''\"></v-select>\r\n                                    <span v-if=\"!requiredCompteCrediteur\" style=\"color:red;\">Ce champ est obligatoire</span>\r\n                                </div>\r\n                            </b-col>\r\n                        </b-row>\r\n                          <b-form-group description=\"Entrez le montant à transférer\" label=\"Montant à transferer\">\r\n                        <b-form-input\r\n                            v-model=\"transfert.montant\"\r\n                            type=\"number\"\r\n                            :min=\"1000\"\r\n                            :class=\"{'is-invalid' : transfert.error}\"\r\n                        />\r\n                        </b-form-group>\r\n                        <hr>\r\n                        <div class=\"float-right\"><b-button @click.prevent=\"validateTransfert\" variant=\"primary\">Valider<b-spinner v-if=\"recharge.submitted\" small></b-spinner></b-button></div>\r\n                    </b-modal>\r\n                    \r\n                <!--FIN FORMULAIRE DE TRANSFRERT INTERCOMPTES>-->\r\n            </div> \r\n        </div>\r\n        <div>\r\n            <ul class=\"nav nav-tabs\">\r\n                <li class=\"nav-item\"><a data-toggle=\"tab\" href=\"#\" class=\"nav-link\" :class=\"{'active' : section == 'occupations'}\" @click.prevent=\"section = 'occupations'\">Occupations</a></li>\r\n                <li class=\"nav-item\"><a data-toggle=\"tab\" href=\"#\" class=\"nav-link\" :class=\"{'active' : section == 'charges'}\" @click.prevent=\"section = 'charges'\">Charges</a></li>\r\n                <li class=\"nav-item\"><a data-toggle=\"tab\" href=\"#\" class=\"nav-link\" :class=\"{'active' : section == 'loyers'}\" @click.prevent=\"section = 'loyers'\">Loyers</a></li>\r\n                <li class=\"nav-item\"><a data-toggle=\"tab\" href=\"#\" class=\"nav-link\" :class=\"{'active' : section == 'logements'}\" @click.prevent=\"section = 'Logements'\">Logements</a></li>\r\n                <li class=\"nav-item\" v-if=\"itemsOccupations.length==0\"><a data-toggle=\"tab\" href=\"#\" class=\"nav-link\" :class=\"{'active' : section == 'add-occupation'}\" @click.prevent=\"section = 'add-occupation'\">Ajouter une occupation</a></li>\r\n            </ul>\r\n            <div class=\"tab-content mt-3\">\r\n                <div class=\"tab-pane fade show active\">\r\n                    <b-container fluid v-if=\"section == 'occupations'\" style=\"height: 75vh; overflow-y: auto; overflow-x: hidden\">\r\n                        <b-alert variant=\"info\" class=\"text-center\" show v-if=\"!locataire.occupations.length\">\r\n                            <i class=\"fa fa-exclamation-triangle fa-3x\"></i> <br>\r\n                            <span class=\"h4 d-inline-flex ml-2\">Vous n'avez défini aucune occupation pour le moment</span>\r\n                        </b-alert> \r\n                        <b-row v-else>\r\n                            <div class=\"card-body\">\r\n                                <b-table-simple hover small responsive>\r\n                                    <b-thead head-variant=\"light\">\r\n                                        <b-tr>\r\n                                            <b-th>N°</b-th>\r\n                                            <b-th>Logement</b-th>\r\n                                            <b-th>Loyer de base</b-th>\r\n                                            <b-th>Facturation en eau</b-th>\r\n                                            <b-th>Facturation en energie</b-th>\r\n                                            <b-th>Action</b-th>\r\n                                        </b-tr>\r\n                                    </b-thead>\r\n                                    <b-tbody>\r\n                                        <b-tr v-for=\"occupation in itemsOccupations\" :key=\"occupation.idOccupation\">\r\n                                            <b-td class=\"p-2\">{{ occupation.idOccupation }}</b-td>\r\n                                            <b-td class=\"p-2\">\r\n                                                <!--<span class=\"d-inline-block w-100 mb-1 font-weight-bold\">{{ occupation.logement.refLogement }}</span>-->    \r\n                                                <span class=\"d-inline-block w-100 mt-1 text-muted\" v-if=\"occupation.modePaiement == 'prepayer'\">\r\n                                                    Paiement loyer avant consommation\r\n                                                </span>\r\n                                                <span class=\"d-inline-block w-100 mt-1 text-muted\" v-if=\"occupation.modePaiement == 'postpayer'\">\r\n                                                    Paiement loyer après consommation\r\n                                                </span>     \r\n                                            </b-td>\r\n                                            <b-td class=\"p-2\">\r\n                                                <span class=\"d-inline-block w-100 mb-1 font-weight-bold\">{{ occupation.loyerBase}}</span>    \r\n                                                <!--<span class=\"d-inline-block w-100 mt-1 text-muted\">{{ occupation.locataire.tel + ' / ' + occupation.locataire.email }}</span>-->    \r\n                                            </b-td>\r\n                                            <b-td class=\"p-2\">\r\n                                                <span class=\"d-inline-block w-100 mb-1\"><b>{{ occupation.modeEau }}</b> / \r\n                                                    <small v-if=\"occupation.modeEau =='index'\">{{ occupation.puEau }} le KW</small>\r\n                                                    <small v-if=\"occupation.modeEau =='forfait'\">{{ occupation.puEau }} par mois</small>\r\n                                                </span>     \r\n                                                <!--<span class=\"d-inline-block w-100 mt-1\">\r\n                                                    <span class=\"text-success\" v-if=\"occupation.dateFin == null\">Bail en cours</span>\r\n                                                    <span class=\"text-danger\" v-else>Bail terminé</span>\r\n                                                </span>-->    \r\n                                            </b-td>\r\n                                            <b-td class=\"p-2\">\r\n                                                <span class=\"d-inline-block w-100 mb-1\"><b>{{ occupation.modeEnergie }}</b> / \r\n                                                    <small v-if=\"occupation.modeEnergie =='index'\">{{ occupation.puEnergie }} le KW</small>\r\n                                                    <small v-if=\"occupation.modeEnergie =='forfait'\">{{ occupation.puEnergie }} par mois</small>\r\n                                                </span>       \r\n                                            </b-td>\r\n                                            <b-td><b-button  @click.prevent=\"viewOccupationDetail(occupation)\"  :to=\"{name: 'details-occupation', params: {id: occupation.idOccupation}}\" v-b-tooltip=\"'Accéder à l\\'occupation'\"><i class=\"fa fa-eye\"></i></b-button></b-td>\r\n                                        </b-tr>\r\n                                    </b-tbody>\r\n                                </b-table-simple>\r\n                            </div>\r\n                        </b-row>\r\n                        <paginator hr=\"top\" :offset=\"offset\" :total=\"itemsOccupations.length\" :limit=\"perPage\" :page=\"currentPage\" @pageChanged=\"(page) => {currentPage = page}\" @limitChanged=\"(limit) => {perPage = limit}\" />                   \r\n                        \r\n\r\n\r\n                    </b-container>\r\n                    <b-container fluid v-if=\"section == 'logements'\">\r\n                        <!--<b-row>\r\n                            <b-col cols=\"6\">\r\n                                <span class=\"d-inline-block w-100 my-1\">Pays: <b>{{ logement.adresse.pays }}</b></span>\r\n                                <span class=\"d-inline-block w-100 my-1\">Ville: <b>{{ logement.adresse.ville }}</b></span>\r\n                                <span class=\"d-inline-block w-100 my-1\">Quartier: <b>{{ logement.adresse.quartier }}</b></span>\r\n                            </b-col>\r\n                            <b-col cols=\"6\">\r\n                                <span class=\"d-inline-block w-100 my-1\">Logitude: <b>{{ logement.adresse.lon }}</b></span>\r\n                                <span class=\"d-inline-block w-100 my-1\">Latitue: <b>{{ logement.adresse.lat }}</b></span>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-container class=\"mt-4 p-0\"> <GmapMap\r\n                            :center=\"{lat: parseFloat(logement.adresse.lat), lng: parseFloat(logement.adresse.lon)}\" :zoom=\"14\"\r\n                            class=\"w-100\" style=\"height:340px;\"\r\n                        /></b-container>-->\r\n                    </b-container>\r\n                    <!--<div v-if=\"section == 'logements'\">\r\n                        <b-alert variant=\"info\" show v-if=\"!batiment.logements.length\">\r\n                            <i class=\"fa fa-exclamation-triangle fa-3x float-left\"></i> \r\n                            <span class=\"h4 d-inline-flex ml-2\">Aucun logement enregistré pour le moment</span>\r\n                        </b-alert>   \r\n                        <div v-else style=\"height: 75vh;\">\r\n                            <paginator no-control hr=\"bottom\" :total=\"batiment.logements.length\" :limit=\"perPage\" :page=\"currentPage\" @pageChanged=\"(page) => {currentPage = page}\" @limitChanged=\"(limit) => {perPage = limit}\" />                   \r\n                            <div style=\"height: 90%; overflow-y: auto; overflow-x: hidden\">\r\n                                <b-row class=\"layout-wrap\">\r\n                                    <b-col v-for=\"(logement, i) in items\" :key=\"logement.idLogement || i\" cols=\"6\">\r\n                                        <logement @deleted=\"removeLogement\" :logement=\"logement\" is-sub />\r\n                                    </b-col>\r\n                                </b-row>    \r\n                            </div> \r\n                        </div>       \r\n                    </div>--> \r\n                    <b-container fluid v-if=\"section == 'loyers'\">\r\n                    <!--- <b-row>\r\n                            <b-col cols=\"7\">\r\n                                <span class=\"d-inline-block w-100 my-1\">Type de logement: <b>{{ logement.sousTypeLogement.libelleSousType }}</b></span>\r\n                                <span class=\"d-inline-block w-100 my-1\">Etat: <b-badge variant=\"success\" v-if=\"!logement.etatLogement\">Libre</b-badge><b-badge variant=\"danger\" v-else>Occupé</b-badge></span>\r\n                            </b-col>\r\n                            <b-col cols=\"5\">\r\n                                <span class=\"d-inline-block w-100 my-1\">Prix minimal: <b>{{ logement.prixMin + ' F' }}</b></span>\r\n                                <span class=\"d-inline-block w-100 my-1\">Prix maximal: <b>{{ logement.prixMax + ' F' }}</b></span>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <div class=\"jumbotron pt-10 pb-10 mt-2 mb-0\"><p>{{ logement.descLogement }}</p></div>\r\n                        <hr/>\r\n                        <div>\r\n                            <b-badge v-for=\"(c, i) in caracteristiques\" :key=\"i\" variant=\"secondary\">{{ c.valeur + ' ' + c.libelleCaracteristique }}</b-badge>\r\n                        </div>-->\r\n                    </b-container>\r\n                    <div v-if=\"section == 'charges'\"  style=\"height: 75vh; overflow-y: auto; overflow-x: hidden\">\r\n                        <!--<b-row>\r\n                            <b-col cols=\"12\" v-for=\"(annonce, i) in logement.annonces\" :key=\"annonce.idAnnonce || i\">\r\n                                <div class=\"card p-0 shadow\">\r\n                                    <div class=\"card-body p-0 d-flex\">\r\n                                        <b-img :src=\"photos[i] || photos[0]\" style=\"height: 8em; width: 8em\"></b-img>\r\n                                        <div class=\"ml-2 p-2\">\r\n                                            <div>\r\n                                                <b-badge :variant=\"annonce.publish ? 'success' : 'danger'\">{{ annonce.publish ? 'Déja publiée' : 'Pas encore publiée' }}</b-badge>\r\n                                                &nbsp;\r\n                                                <b-badge variant=\"light\"><i class=\"fa fa-clock\"></i> Créée le {{ $date(annonce.createdAt).format(\"DD.MM.YYYY\") }} </b-badge>\r\n                                            </div>\r\n                                            <h5 class=\"my-2\"><a href=\"#\" class=\"text-red \">{{ annonce.titreAnnonce }}</a></h5>\r\n                                            <b-badge v-for=\"(tag, i) in annonce.tags.split(',')\" :key=\"i\" variant=\"secondary\">{{ tag }}</b-badge>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </b-col>\r\n                        </b-row>-->\r\n                        \r\n                    </div>\r\n                    <div v-show=\"section == 'add-occupation'\">\r\n                        <occupation-form :locataire=\"locataire\"  @occupationAdded=\"addedOccupation\" :provenance=\"provenance\" :action=\"action\"/>\r\n                    </div>  \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport OccupationForm from \"@/components/_gestion-immobiliere/OccupationForm.vue\";\r\nconst php = require('phpjs')\r\nexport default {\r\n    components: {\r\n        OccupationForm\r\n    },\r\n    props: {\r\n        locataire: {type: Object, required: true}\r\n    },\r\n    data: () => ({\r\n        action:0,\r\n        section: 'occupations',\r\n        /**\r\n         * Données manipuler par la section occupations\r\n         */\r\n        currentPage: 1,\r\n        perPage: 10,\r\n        occupations:[],\r\n        setOccupation:false,\r\n        /**\r\n         * Données manipuler par la section add-occupation\r\n         */\r\n        provenance:2,\r\n        action:\"add\",\r\n        /**données manipulées pour le rechargement\r\n         * du compted du locataire\r\n        */\r\n       recharge: {\r\n            enabled: false,\r\n            submitted: false,\r\n            error: false,\r\n            montant: null,\r\n            pay:false\r\n        },\r\n        /**données manipulées pour afficher le modal de recharge\r\n         * du compte du locataire\r\n        */\r\n        showModal: true,\r\n        idOccupation:'',\r\n        /**données manipulées pour effectuer un Transfert\r\n         * intercomptes\r\n         */\r\n        transfert: {\r\n            enabled: false,\r\n            submitted: false,\r\n            compteDebiteur: '',\r\n            compteCredite: '',\r\n            montant: null,\r\n        },\r\n        touslesComptes:[\r\n             { text: 'loyer', value: 'compteLoyer' },\r\n             { text: 'électricité', value: 'compteEnergie' },\r\n             { text: 'eau', value: 'compteEau' }\r\n        ],\r\n        requiredCompteCrediteur:true,\r\n        requiredCompteDebiteur:true\r\n    }),\r\n    computed: {\r\n        itemsOccupations(){\r\n             return php.array_slice(this.locataire.occupations || [], this.offset, this.perPage)\r\n        },\r\n        offset() {\r\n            return (this.currentPage * this.perPage) - this.perPage\r\n        },\r\n        comptesfiltres(){\r\n            return this.touslesComptes.map(elt =>{\r\n                if(elt.value!=this.transfert.compteDebiteur)\r\n                return\r\n            })\r\n        }\r\n    },\r\n    mounted() {\r\n        /*javascript composant de drop down*/\r\n\r\n    },\r\n    methods: {\r\n       /**\r\n         * réponse à l'évènement d'ajout d'une occupation\r\n         * dans le détail d'un habitant, la réponse consiste juste à mettre à jour la liste des occupations de l'habitant\r\n         */\r\n         addedOccupation() {\r\n            axios.get(`locataires/${this.locataire.idLocataire}/occupations`).then(response => response.result || []).then(occupations => {\r\n                this.locataire.occupations = occupations\r\n                this.section = 'occupations'\r\n            })\r\n        },\r\n        /**\r\n         * recupération de la liste des occupations de l'habitant sélectionné si elles existent\r\n         */\r\n        getOccupations(){\r\n            axios.get(\"locataires/\"+locataire.idLocataire+\"/occupations\").then(response =>{\r\n                 this.occupations=response.result;\r\n            })\r\n        },\r\n        viewOccupationDetail(occupation){\r\n            this.$root.$emit('show-detail-occupation',occupation)\r\n        },\r\n\r\n        /**\r\n         * Ouvre le formulaire de recharge du compte d'un locataire\r\n         */\r\n        callRechargeForm(locataire) {\r\n            console.log(\"locataire 1\", locataire)\r\n            this.recharge.enabled = true;\r\n            this.locataire = locataire;\r\n            this.$refs['modal-recharge'].show()\r\n        },\r\n        /**\r\n         * valide la recharge du compte d'un locataire\r\n         */\r\n        validateRecharge(bvModalEvt) {\r\n            bvModalEvt.preventDefault();\r\n            this.recharge.error = false;\r\n\r\n            if (php.empty(this.recharge.montant) || this.recharge.montant < 1000) {\r\n                this.recharge.error = true;\r\n                return;\r\n            }\r\n            this.recharge.submitted = true;\r\n\r\n            axios\r\n                .post(`locataires/${this.locataire.idLocataire}/recharge`, this.recharge)\r\n                .then(response => {\r\n                    this.getHousing(false);\r\n                    this.resetRechargeForm();\r\n                    return App.notifySuccess(response.message);\r\n                })\r\n                .catch(error => {\r\n                    this.recharge.submitted = false;\r\n                    return App.alertError(error.message);\r\n                });\r\n        },\r\n        /**\r\n         * Reinitialise le formulaire de recharge du compte d'un locataire\r\n         */\r\n        resetRechargeForm() {\r\n            this.recharge = {\r\n                enabled: false,\r\n                submitted: false,\r\n                error: false,\r\n                montant: null\r\n            };\r\n        },\r\n        /**\r\n         * ouvre le formulaire de transfert inter-comptes\r\n         */\r\n        callTranfertForm(locataire){\r\n            console.log(\"locataire 2\", locataire)\r\n            this.transfert.enabled = true;\r\n            this.locataire = locataire;\r\n            this.$refs['modal-tranfert'].show()\r\n        },\r\n        /**methode permettant d'ecouter le compte débiteur sélectionné\r\n         * ceci afin de filtrer la liste des comptes à envoyer\r\n         * dans le v-select de selection du compte à crediter\r\n         */\r\n        filterAccountList(a) {\r\n            this.comptesfiltres=[];\r\n            let data = this.touslesComptes;\r\n            /*for (let i = 0; i < this.sousTypesLogements.length; i++) {\r\n                data.push(this.sousTypesLogements[i]);\r\n            }*/\r\n            let result = data.filter(x => x.value != this.transfert.compteDebiteur);\r\n            this.comptesfiltres = result;\r\n            console.log(\"sous-type\",this.comptesfiltres)\r\n        },\r\n        /**\r\n         * valide le transfert -intercomptes pour un locataire donné\r\n         */\r\n        validateTransfert(bvModalEvt) {\r\n            bvModalEvt.preventDefault();\r\n            this.transfert.error = false;\r\n\r\n            if (php.empty(this.transfert.montant) || php.empty(this.transfert.compteDebiteur) || php.empty(this.transfert.compteCredite)) {\r\n                this.transfert.error = true;\r\n                return;\r\n            }\r\n            this.transfert.submitted = true;\r\n\r\n            axios\r\n                .post(`locataires/${this.locataire.idLocataire}/transfert`, this.transfert)\r\n                .then(response => {\r\n                    //this.getHousing(false);\r\n                    this.resetTransfertForm();\r\n                    return App.notifySuccess(response.message);\r\n                })\r\n                .catch(error => {\r\n                    this.transfert.submitted = false;\r\n                    return App.alertError(error.message);\r\n                });\r\n        },\r\n        /**\r\n         * Reinitialise le formulaire de transfert inter-comptes\r\n         */\r\n        resetTransfertForm() {\r\n            this.transfert = {\r\n                enabled: false,\r\n                submitted: false,\r\n                error: false,\r\n                compteDebiteur: null,\r\n                compteCredite:null,\r\n                montant: null\r\n            };\r\n        },\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .globalcont2{\r\n        position: relative;\r\n    }\r\n    .display-top-right{\r\n        position: absolute;\r\n        right: 0;\r\n        top: 0;\r\n   \r\n    }\r\n    /* debut css du composant de drop down*/\r\n\r\n/*fin css du composant de drop down*/\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsHabitant.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsHabitant.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailsHabitant.vue?vue&type=template&id=390aa9e5&scoped=true&\"\nimport script from \"./DetailsHabitant.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailsHabitant.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailsHabitant.vue?vue&type=style&index=0&id=390aa9e5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"390aa9e5\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"container-fluid\">\r\n        <!--page header start -->\r\n        <page-description title=\"Habitants\" description=\"Gestion de vos résidents\" icon=\"fas fa-users\" :path=\"['Patrimoine immobilier', 'Mes Habitants']\" />\r\n        \r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <div class=\"mb-2 clearfix\">\r\n                    <div class=\"collapse d-md-block display-options\" id=\"displayOptions\">               \r\n                        <div class=\"d-block d-md-inline-block\">\r\n                            <div class=\"search-sm d-inline-block float-md-left mr-1 mb-1 align-top\">\r\n                                <form action=\"\" onSubmit=\"return false\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Recherche...\" v-model=\"search\">\r\n                                    <button type=\"submit\" class=\"btn btn-icon\"><i class=\"ik ik-search\"></i></button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"float-md-right\">\r\n                            <b-button variant=\"danger\"  @click.prevent=\"addHabitant\"  v-b-modal.modal-lg ref=\"buttonAdd\"><i class=\"fa fa-plus-circle\"></i> Créer un habitant</b-button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"separator mb-20\"></div>\r\n                <b-overlay :show=\"showOverlay\" rounded=\"sm\">\r\n                    <b-alert variant=\"info\" class=\"text-center\" show v-if=\"!habitants.length\">\r\n                        <i class=\"fa fa-exclamation-triangle fa-3x\"></i> <br>\r\n                        <span class=\"h4 d-inline-flex ml-2\">Aucun habitant crée pour l'instant</span>\r\n                    </b-alert> \r\n                    <b-row v-else class=\"layout-wrap\">\r\n                        <!--<b-col v-for=\"(habitant, i) in habitants\" :key=\"habitant.idHabitant || i\" cols=\"6\" class=\"animated flipInX mb-4\">\r\n                            <habitant-component @makeUpdate=\"updateHabitant\" @deleted=\"removeHabitant\" :habitant=\"habitant\" @showDetails=\"showDetails\" />\r\n                            ok\r\n                        </b-col>-->\r\n                        <div class=\"card-body\">\r\n                            <div class=\"table-responsive\">\r\n                                <table class=\"table table-hover table-bordered table-striped\" id=\"sampleTable\">\r\n                                <thead>\r\n                                    <tr>\r\n                                    <th>id</th>\r\n                                    <th>Avatar</th>\r\n                                    <th>Nom</th>\r\n                                    <th>E-Mail</th>\r\n                                    <th>N° Téléphone</th>\r\n                                    <th>Proféssion</th>\r\n                                    <th>Actions</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr v-for=\"locataire in habitants\" :key=\"locataire.idLocataire\">\r\n                                    <td>{{locataire.idLocataire}}</td>\r\n                                    <td><b-avatar :src=\"locataire.avatar\" /></td>\r\n                                    <td>{{locataire.nomLocataire}}</td>\r\n                                    <td>{{locataire.email}}</td>\r\n                                    <td>{{locataire.tel}}</td>\r\n                                    <td>{{locataire.profession}}</td>\r\n                                    <td>\r\n                                        <a href=\"#!\" v-b-tooltip.top=\"'Modifier'\"><i class=\"ik ik-edit f-16 mr-15 text-green\"></i></a>\r\n                                        <a href=\"#!\" v-b-tooltip.top=\"'Supprimer'\"><i class=\"ik ik-trash-2 f-16 mr-15 text-red\"></i></a>\r\n                                        <a href=\"#!\" v-b-tooltip.top=\"'Détails'\" @click.prevent=\"showDetails(locataire)\"><i class=\"ik ik-eye f-16 text-blue\"></i></a>\r\n                                    </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </b-row>\r\n                    <paginator hr=\"top\" :offset=\"offset\" :total=\"habitants.length\" :limit=\"perPage\" :page=\"currentPage\" @pageChanged=\"(page) => {currentPage = page}\" @limitChanged=\"(limit) => {perPage = limit}\" />                   \r\n                </b-overlay>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- MODALE POUR AFFICHER LES DETAILS D'UN HABITANT -->\r\n        <div v-if=\"locataire\" class=\"modal fade edit-layout-modal\" id=\"editLayoutItem\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"editLayoutItemLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"editLayoutItemLabel\">Dossier de  <b>{{ locataire.titre }}</b> <b>{{ locataire.nomLocataire }}</b></h5>\r\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n                    </div>\r\n                    <div class=\"modal-body pt-2\">\r\n                        <details-habitant :locataire=\"locataire\" @showDetail=\"showOccupation\"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <add-habitant v-if=\"commandeHabitant\" :action=\"action\" @closeModal=\"onCloseSet\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n   import AddHabitant from \"@/views/gestion-immobiliere/habitants/AddHabitant.vue\";\r\n   import DetailsHabitant from '@/views/gestion-immobiliere/habitants/DetailsHabitant.vue'\r\n\r\n  const php  = require ( 'phpjs' ) ; \r\n\r\nexport default {\r\n  name: \"list-habitants\",\r\n  components: {\r\n    AddHabitant,\r\n    DetailsHabitant,\r\n  },\r\n  data: () => ({\r\n     action:\"add\",\r\n     commandeHabitant:false,\r\n     search: null,\r\n     showOverlay: true,\r\n     currentPage: 1,\r\n     perPage: 4,\r\n     locataire: null,\r\n     habitants:[],\r\n     trueHabitants:[]\r\n\r\n  }),\r\n  computed: {\r\n        /**\r\n         * Elements affichés avec prise en charge de la pagination\r\n         */\r\n        items() { \r\n            return php.array_slice(this.habitants, this.offset, this.perPage) \r\n        },\r\n        offset() {\r\n            return (this.currentPage * this.perPage) - this.perPage\r\n        }\r\n    },\r\n\r\n    beforeMount() {\r\n        this.getHabitants()\r\n    },\r\n    mounted(){\r\n        this.$root.$on(\"new-habitant-added\", () => {\r\n         this.getHabitants();\r\n         this.commandeHabitant=false;\r\n     });\r\n     this.autoAddTarget();\r\n     this.$root.$on('show-detail-occupation', (occupation) => {\r\n         $('#editLayoutItem').modal('hide')\r\n     })\r\n    },\r\n    methods: {\r\n            /**\r\n         * Affiche le modal de création d'une cité directement au chargement de la page\r\n         * ceci est utilisé lorsqu'on est arrivé ici en provenant de la homepage\r\n         */\r\n        autoAddTarget() {\r\n            const target = this.$route.query.target || null;\r\n            if (target) {\r\n                this.$refs.buttonAdd.click();\r\n                window.history.replaceState(\r\n                    {},\r\n                    \"\",\r\n                    window.location.href.split(\"?\")[0]\r\n                );\r\n            }\r\n        },\r\n        sendData(){\r\n            \r\n        },\r\n        onCloseSet(){\r\n            this.commandeHabitant=false;\r\n        },\r\n        addHabitant(){\r\n            console.log(\"entrée\")\r\n            this.action=\"add\";\r\n            this.commandeHabitant=true;\r\n        },\r\n    //recupération de la liste des logements\r\n     getHabitants() {\r\n            axios.get('locataires').then(response => response.result || []).then(habitants => {\r\n                this.habitants = this.habitants = habitants\r\n                this.showOverlay = false\r\n            })\r\n     },\r\n     addHabitant(){\r\n         this.commandeHabitant=true;\r\n     },\r\n     updateHabitant(habitant) {\r\n           console.log(\"habitant\",habitant)\r\n      },\r\n      removeHabitant(habitant) {\r\n           console.log(\"habitant\",habitant)\r\n      },\r\n      showDetails(locataire) {\r\n          console.log('locataire',locataire,' ')\r\n            this.locataire = locataire\r\n            console.log('locataire',locataire,' this.locataire',this.locataire)\r\n            setTimeout(() => {\r\n                $('#editLayoutItem').modal('show')\r\n                $('#editLayoutItem').on('hide.bs.modal', (e) => {\r\n                    this.locataire = null\r\n                })\r\n                $('#editLayoutItem').on('hidden.bs.modal', (e) => {\r\n                    this.locataire = null\r\n                })\r\n            }, 100)          \r\n        },\r\n        showOccupation(){\r\n            $('#editLayoutItem').modal('hide')\r\n        }\r\n      \r\n    \r\n    \r\n  }\r\n\r\n};\r\n</script>\r\n<style scoped>\r\n.resize{\r\n    width:2em;\r\n    height:2em;\r\n    margin-right:1px; \r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Habitants.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Habitants.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Habitants.vue?vue&type=template&id=f9ad6546&scoped=true&\"\nimport script from \"./Habitants.vue?vue&type=script&lang=js&\"\nexport * from \"./Habitants.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Habitants.vue?vue&type=style&index=0&id=f9ad6546&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9ad6546\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Habitants.vue?vue&type=style&index=0&id=f9ad6546&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.showOverlay,\"rounded\":\"sm\"}},[_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Loyer\",\"description\":\"Combien devra payer le résident\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Ex: 45000\",\"trim\":\"\"},model:{value:(_vm.loyer),callback:function ($$v) {_vm.loyer=$$v},expression:\"loyer\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Mode de paiement\",\"description\":\"Le résident devra t-il payer son loyer courant avant ou après l'avoir consommé\"}},[_c('b-form-radio-group',{attrs:{\"name\":\"radio-options-slots\",\"options\":[\n                    { text: 'Prépayé', value: 'prepayer' }, { text: 'Postpayé', value: 'postpayer' }\n                ]},model:{value:(_vm.occupation.mode),callback:function ($$v) {_vm.$set(_vm.occupation, \"mode\", $$v)},expression:\"occupation.mode\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Facturation d'eau\",\"description\":\"Comment s'effectuera la facturation en eau de ce résident\"}},[_c('b-form-select',{staticClass:\"mb-1\",attrs:{\"options\":[\n                    { value: 'index', text: 'Index' }, { value: 'forfait', text: 'Forfait' } ]},model:{value:(_vm.occupation.eau),callback:function ($$v) {_vm.$set(_vm.occupation, \"eau\", $$v)},expression:\"occupation.eau\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Prix unitaire de l'eau\",\"description\":\"L'exemple suggéré suppose une facturation par index du compteur\"}},[_c('b-form-input',{attrs:{\"min\":\"0\",\"placeholder\":\"Ex: 150\",\"trim\":\"\",\"type\":\"number\"},model:{value:(_vm.occupation.puEau),callback:function ($$v) {_vm.$set(_vm.occupation, \"puEau\", $$v)},expression:\"occupation.puEau\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Index initial\",\"description\":\"Index du compteur d'eau à l'entrée du locataire\"}},[_c('b-form-input',{attrs:{\"min\":\"0\",\"placeholder\":\"Ex: 095\",\"trim\":\"\",\"type\":\"number\"},model:{value:(_vm.indexEau),callback:function ($$v) {_vm.indexEau=$$v},expression:\"indexEau\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Facturation d'électricité\",\"description\":\"Comment s'effectuera la facturation en électricité de ce résident\"}},[_c('b-form-select',{staticClass:\"mb-1\",attrs:{\"options\":[\n                    { value: 'index', text: 'Index' }, { value: 'forfait', text: 'Forfait' } ]},model:{value:(_vm.occupation.energie),callback:function ($$v) {_vm.$set(_vm.occupation, \"energie\", $$v)},expression:\"occupation.energie\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Prix unitaire de l'energie\",\"description\":\"L'exemple suggéré suppose une consommation par forfait\"}},[_c('b-form-input',{attrs:{\"min\":\"0\",\"placeholder\":\"Ex: 2500\",\"trim\":\"\",\"type\":\"number\"},model:{value:(_vm.occupation.puEnergie),callback:function ($$v) {_vm.$set(_vm.occupation, \"puEnergie\", $$v)},expression:\"occupation.puEnergie\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Index initial\",\"description\":\"Index du compteur d'energie à l'entrée du locataire\"}},[_c('b-form-input',{attrs:{\"min\":\"0\",\"placeholder\":\"Ex: 095\",\"trim\":\"\",\"type\":\"number\"},model:{value:(_vm.indexEnergie),callback:function ($$v) {_vm.indexEnergie=$$v},expression:\"indexEnergie\"}})],1)],1)],1),_c('b-row',{staticClass:\"mb-4\"},[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Quel est le logement concerné par l'occupation\"}},[_c('div',{staticStyle:{\"height\":\"10.5em\"}},[_c('v-select',{attrs:{\"options\":_vm.logements,\"reduce\":function (logement) { return logement.idLogement; },\"label\":\"refLogement\"},on:{\"input\":_vm.setSlide_logement},model:{value:(_vm.occupation.idLogement),callback:function ($$v) {_vm.$set(_vm.occupation, \"idLogement\", $$v)},expression:\"occupation.idLogement\"}}),_c('b-carousel',{ref:\"logementCarousel\",attrs:{\"interval\":0,\"controls\":\"\"},model:{value:(_vm.selected_index_logement),callback:function ($$v) {_vm.selected_index_logement=$$v},expression:\"selected_index_logement\"}},_vm._l((_vm.logements),function(logement,i){return _c('b-carousel-slide',{key:i,staticClass:\"fluid w-100 responsive border-0\",staticStyle:{\"height\":\"10.5em\"},attrs:{\"img-src\":_vm.empty(logement.photos) ? '/img/bgHousing.jpg' : logement.photos[0].image}})}),1)],1)])],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Qui est le résident pour lequel l'occupation est défini\"}},[_c('div',{staticStyle:{\"height\":\"10.5em\"}},[_c('v-select',{class:{ disabled: _vm.disabled == true },attrs:{\"options\":_vm.locataires,\"label\":\"nomLocataire\"},on:{\"input\":_vm.setSlide_locataire},model:{value:(_vm.stateLocataire),callback:function ($$v) {_vm.stateLocataire=$$v},expression:\"stateLocataire\"}}),(_vm.provenance =='1')?_c('b-carousel',{ref:\"locataireCarousel\",attrs:{\"interval\":0,\"controls\":\"\"},model:{value:(_vm.selected_index_locataire),callback:function ($$v) {_vm.selected_index_locataire=$$v},expression:\"selected_index_locataire\"}},_vm._l((_vm.locataires),function(locataire,i){return _c('b-carousel-slide',{key:i,staticClass:\"fluid w-100 responsive border-0\",staticStyle:{\"height\":\"10.5em\"},attrs:{\"img-src\":locataire.avatar}})}),1):_vm._e(),(_vm.provenance =='2')?_c('b-carousel',{ref:\"locataireCarousel\",attrs:{\"interval\":0,\"controls\":\"\"},model:{value:(_vm.selected_index_locataire),callback:function ($$v) {_vm.selected_index_locataire=$$v},expression:\"selected_index_locataire\"}},[_c('b-carousel-slide',{staticClass:\"fluid w-100 responsive border-0\",staticStyle:{\"height\":\"10.5em\"},attrs:{\"img-src\":_vm.locataire.avatar}})],1):_vm._e()],1)])],1)],1),_c('b-row',{staticClass:\"mt-4\"},[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Date de debut du bail\"}},[_c('date-picker',{staticClass:\"w-100\",attrs:{\"placeholder\":\"Selectionnez une date\",\"format\":\"dddd, DD MMMM YYYY\",\"valueType\":\"YYYY-MM-DD\",\"clearable\":false},model:{value:(_vm.occupation.debut),callback:function ($$v) {_vm.$set(_vm.occupation, \"debut\", $$v)},expression:\"occupation.debut\"}})],1)],1),_c('b-col',{staticClass:\"mt-4\"},[_c('b-form-checkbox',{attrs:{\"switch\":\"\"},model:{value:(_vm.occupation.endLastBail),callback:function ($$v) {_vm.$set(_vm.occupation, \"endLastBail\", $$v)},expression:\"occupation.endLastBail\"}},[_c('span',{staticClass:\"fa-lg\"},[_vm._v(\"Mettre fin au bail précédent\")])])],1)],1),_c('hr'),_c('div',{staticClass:\"float-right\"},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitModal.apply(null, arguments)}}},[_vm._v(\"Valider\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n        <b-overlay :show=\"showOverlay\" rounded=\"sm\">\r\n            <b-row>\r\n                <b-col>\r\n                    <b-form-group label=\"Loyer\" description=\"Combien devra payer le résident\" >\r\n                        <b-form-input v-model=\"loyer\" placeholder=\"Ex: 45000\" trim></b-form-input>\r\n                </b-form-group>\r\n                </b-col>\r\n                <b-col>\r\n                    <b-form-group label=\"Mode de paiement\" description=\"Le résident devra t-il payer son loyer courant avant ou après l'avoir consommé\">\r\n                        <b-form-radio-group v-model=\"occupation.mode\" name=\"radio-options-slots\" :options=\"[\r\n                            { text: 'Prépayé', value: 'prepayer' }, { text: 'Postpayé', value: 'postpayer' }\r\n                        ]\"/>\r\n                    </b-form-group>\r\n                </b-col>\r\n            </b-row>\r\n            <b-row>\r\n                <b-col>\r\n                    <b-form-group label=\"Facturation d'eau\" description=\"Comment s'effectuera la facturation en eau de ce résident\">\r\n                        <b-form-select v-model=\"occupation.eau\" class=\"mb-1\" :options=\"[\r\n                            { value: 'index', text: 'Index' }, { value: 'forfait', text: 'Forfait' },\r\n                        ]\" />\r\n                    </b-form-group>\r\n                </b-col>\r\n                <b-col>\r\n                    <b-form-group label=\"Prix unitaire de l'eau\" description=\"L'exemple suggéré suppose une facturation par index du compteur\">\r\n                        <b-form-input min=\"0\" v-model=\"occupation.puEau\" placeholder=\"Ex: 150\" trim type=\"number\" />\r\n                    </b-form-group>\r\n                </b-col>\r\n                <b-col>\r\n                    <b-form-group label=\"Index initial\" description=\"Index du compteur d'eau à l'entrée du locataire\">\r\n                        <b-form-input min=\"0\" v-model=\"indexEau\" placeholder=\"Ex: 095\" trim type=\"number\" />\r\n                    </b-form-group>\r\n                </b-col>\r\n            </b-row>\r\n            <b-row>\r\n                <b-col>\r\n                    <b-form-group label=\"Facturation d'électricité\" description=\"Comment s'effectuera la facturation en électricité de ce résident\">\r\n                    <b-form-select class=\"mb-1\" v-model=\"occupation.energie\" :options=\"[\r\n                            { value: 'index', text: 'Index' }, { value: 'forfait', text: 'Forfait' },\r\n                        ]\" />\r\n                    </b-form-group>\r\n                </b-col>\r\n                <b-col>\r\n                    <b-form-group label=\"Prix unitaire de l'energie\" description=\"L'exemple suggéré suppose une consommation par forfait\">\r\n                        <b-form-input min=\"0\" v-model=\"occupation.puEnergie\" placeholder=\"Ex: 2500\" trim type=\"number\" />\r\n                    </b-form-group>\r\n                </b-col>\r\n                <b-col>\r\n                    <b-form-group label=\"Index initial\" description=\"Index du compteur d'energie à l'entrée du locataire\">\r\n                        <b-form-input min=\"0\" v-model=\"indexEnergie\" placeholder=\"Ex: 095\" trim type=\"number\" />\r\n                    </b-form-group>\r\n                </b-col>\r\n            </b-row>\r\n            <b-row class=\"mb-4\">\r\n                <b-col>\r\n                    <b-form-group label=\"Quel est le logement concerné par l'occupation\">\r\n                        <div style=\"height: 10.5em\">\r\n                            <v-select :options=\"logements\" v-model=\"occupation.idLogement\" :reduce=\"logement => logement.idLogement\" label=\"refLogement\"  @input=\"setSlide_logement\" />\r\n                            <b-carousel :interval=\"0\" controls v-model=\"selected_index_logement\" ref=\"logementCarousel\">\r\n                                <b-carousel-slide style=\"height: 10.5em\" class=\"fluid w-100 responsive border-0\" \r\n                                    v-for=\"(logement, i) in logements\" :key=\"i\" :img-src=\"empty(logement.photos) ? '/img/bgHousing.jpg' : logement.photos[0].image\"\r\n                                />\r\n                            </b-carousel>\r\n                        </div>\r\n                    </b-form-group>\r\n                </b-col>\r\n                <b-col>\r\n                    <b-form-group label=\"Qui est le résident pour lequel l'occupation est défini\">\r\n                        <div style=\"height: 10.5em\">\r\n                            <!--<v-select :options=\"locataires\" v-model=\"occupation.idLocataire\" :reduce=\"locataire => locataire.idLocataire\" label=\"nomLocataire\"  @input=\"setSlide_locataire\"  :class=\"{ disabled: disabled == true }\" />-->\r\n                            <v-select :options=\"locataires\" v-model=\"stateLocataire\" label=\"nomLocataire\"  @input=\"setSlide_locataire\"  :class=\"{ disabled: disabled == true }\" />\r\n                            <b-carousel :interval=\"0\" controls v-model=\"selected_index_locataire\" ref=\"locataireCarousel\" v-if=\"provenance =='1'\">\r\n                                <b-carousel-slide style=\"height: 10.5em\" class=\"fluid w-100 responsive border-0\"\r\n                                    v-for=\"(locataire, i) in locataires\" :key=\"i\" :img-src=\"locataire.avatar\"\r\n                                />\r\n                            </b-carousel>\r\n                            <b-carousel :interval=\"0\" controls v-model=\"selected_index_locataire\" ref=\"locataireCarousel\" v-if=\"provenance =='2'\">\r\n                                <b-carousel-slide style=\"height: 10.5em\" class=\"fluid w-100 responsive border-0\"\r\n                                  :img-src=\"locataire.avatar\"\r\n                                />\r\n                            </b-carousel>\r\n                        </div>\r\n                    </b-form-group>\r\n                </b-col>\r\n            </b-row>\r\n            <b-row class=\"mt-4\">\r\n                <b-col>\r\n                    <b-form-group label=\"Date de debut du bail\">\r\n                        <date-picker v-model=\"occupation.debut\" placeholder=\"Selectionnez une date\" format=\"dddd, DD MMMM YYYY\" valueType=\"YYYY-MM-DD\" class=\"w-100\" :clearable=\"false\" />\r\n                    </b-form-group>\r\n                </b-col>\r\n                <b-col class=\"mt-4\">\r\n                     <b-form-checkbox v-model=\"occupation.endLastBail\" switch>\r\n                        <span class=\"fa-lg\">Mettre fin au bail précédent</span>\r\n                    </b-form-checkbox>\r\n                </b-col>\r\n            </b-row>\r\n            <hr>\r\n             <div class=\"float-right\"><b-button @click.prevent=\"submitModal\" variant=\"primary\">Valider</b-button></div>\r\n        </b-overlay>\r\n\r\n</template>\r\n\r\n<script>\r\nimport DatePicker from 'vue2-datepicker';\r\nimport 'vue2-datepicker/index.css';\r\nimport 'vue2-datepicker/locale/fr';\r\n\r\nimport notif from \"@/plugins/notif.js\";\r\nconst php = require(\"phpjs\");\r\n\r\nexport default {\r\n  name: \"occupation-form\",\r\n    components: {\r\n        DatePicker\r\n    },\r\n    props: {\r\n        locataire: { type: Object},\r\n        provenance: {type: Number, required: true, default: \"1\"},\r\n        action: {type: String, required: true, default: \"add\"}\r\n    },\r\n  data: () => ({\r\n    duree: [null, null],\r\n    selected_index_logement: -1,\r\n    selected_index_locataire: -1,\r\n    selected_value: \"\",\r\n    occupation: {\r\n      loyer: \"\",\r\n      mode: \"\",\r\n      energie: \"\",\r\n      eau: \"\",\r\n      puEnergie: \"\",\r\n      puEau: \"\",\r\n      idLogement: \"\",\r\n      idLocataire: \"\",\r\n      debut:\"\",\r\n      indexEnergie: 0,\r\n      indexEau: 0,\r\n      endLastBail: false\r\n    },\r\n    showOverlay: false,\r\n    sendForm: false,\r\n    logements: [],\r\n    locataires: [],\r\n    /*données manipulées du fait de l'appel du fait\r\n    *de l'appel du formulaire de création d'un occupation \r\n    *à différents endroits\r\n    */\r\n   disabled:false,\r\n   stateLocataire:null\r\n  }),\r\n  watch: {\r\n    selected_index_logement(value) {\r\n        const logement = this.logements[value]\r\n\r\n        this.occupation.idLogement = logement.idLogement;\r\n        this.indexEnergie = (logement.lastIndexEnergie) ? logement.lastIndexEnergie.nouveau : 0\r\n        this.indexEau = (logement.lastIndexEau) ? logement.lastIndexEau.nouveau : 0\r\n    },\r\n     selected_index_locataire(value) {\r\n      this.occupation.idLocataire = this.locataires[value].idLocataire;\r\n    }\r\n  },\r\n    computed: {\r\n        logementSelected() {\r\n            return this.logements.find(elt => elt.idLogement == this.occupation.idLogement)\r\n        },\r\n        loyer: {\r\n            get() {\r\n                const logement = this.logementSelected\r\n                if (!logement) {\r\n                    return 0;\r\n                }\r\n                return (logement.prixMin + logement.prixMax) / 2\r\n            },\r\n            set(value) {\r\n                this.occupation.loyer = value\r\n            }      \r\n        },\r\n        indexEnergie: {\r\n            get() {\r\n                const logement = this.logementSelected\r\n                if (logement && logement.lastIndexEnergie) {\r\n                    return logement.lastIndexEnergie.nouveau\r\n                }\r\n                return 0\r\n            },\r\n            set(value) {\r\n               this.occupation.indexEnergie = value\r\n            }\r\n        },\r\n        indexEau: {\r\n            get() {\r\n                const logement = this.logementSelected\r\n                if (logement && logement.lastIndexEau) {\r\n                    return logement.lastIndexEau.nouveau\r\n                }\r\n                return 0\r\n            },\r\n            set(value) {\r\n              this.occupation.indexEau = value\r\n            }\r\n        }\r\n    },\r\n  methods: {\r\n    empty(val) {\r\n        return php.empty(val)\r\n    },\r\n\r\n    /**\r\n     * Set l'image du carousel lorsqu'on change le logement\r\n     */\r\n    setSlide_logement(value) {\r\n        for (let index = 0; index < this.logements.length; index++) {\r\n            const logement = this.logements[index]\r\n            if (logement.idLogement == value) {\r\n                this.$refs.logementCarousel.setSlide(index);\r\n                this.indexEnergie = (logement.lastIndexEnergie) ? logement.lastIndexEnergie.nouveau : 0\r\n                this.indexEau = (logement.lastIndexEau) ? logement.lastIndexEau.nouveau : 0\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    setSlide_locataire(value) {\r\n      for (let index = 0; index < this.locataires.length; index++) {\r\n        if (this.locataires[index].idLocataire == value) {\r\n          this.$refs.locataireCarousel.setSlide(index);\r\n          break;\r\n        }\r\n      }\r\n    },\r\n\r\n    resetModal() {\r\n      this.occupation = {\r\n        loyer: \"\",\r\n        mode: \"\",\r\n        energie: \"\",\r\n        eau: \"\",\r\n        puEnergie: \"\",\r\n        puEau: \"\",\r\n        idLogement: \"\",\r\n        debut:\"\",\r\n        indexEnergie: 0,\r\n        indexEau: 0,\r\n        endLastBail: false\r\n      };\r\n      if(this.provenance !=2){\r\n        this.occupation.idLocataire=''\r\n        this.occupation.idLogement=''\r\n      }\r\n    },\r\n\r\n    //validation formulaire d'ajout/modification d'una annonce\r\n    submitModal(bvModalEvt) {\r\n        bvModalEvt.preventDefault();\r\n        \r\n        if (this.action == \"add\") {\r\n            this.occupation.idLocataire=this.stateLocataire.idLocataire\r\n            console.log('occupation',this.occupation)\r\n            this.showOverlay = true;\r\n\r\n            axios.post('occupations', this.occupation).then(response => {\r\n                this.$emit('occupationAdded')\r\n                this.resetModal();\r\n                this.showOverlay = false;\r\n                return App.notifySuccess(response.message)\r\n            }).catch(error => {\r\n                this.showOverlay = false;\r\n                return  App.alertError(error.message)\r\n            })\r\n        }\r\n    },\r\n\r\n   async getInitialiseData(){\r\n     //this.showOverlay = true\r\n        try {\r\n            this.logements = await axios.get(\"logements\").then(response => response.result || []);\r\n            if (this.logements[0]) {\r\n                const logement = this.logements[0]\r\n                this.occupation.idLogement = logement.idLogement;\r\n\r\n                if (logement.lastIndexEnergie) {\r\n                    this.indexEnergie = logement.lastIndexEnergie.nouveau\r\n                }\r\n                if (logement.lastIndexEau) {\r\n                    this.indexEau = logement.lastIndexEau.nouveau\r\n                }\r\n                this.loyer = (logement.prixMin + logement.prixMax) / 2\r\n            }\r\n        } catch (error) {\r\n           notif.error(error.message);\r\n        }\r\n        if(this.provenance!=2){\r\n            try {\r\n            this.locataires = await axios.get(\"locataires\").then(response => response.result || []);\r\n            if (this.locataires[0]) {\r\n                this.occupation.idLocataire = this.locataires[0].idLocataire;\r\n            }\r\n            } catch (error) {\r\n            notif.error(error.message);\r\n            }\r\n        }\r\n        \r\n        //this.showOverlay = false\r\n    },\r\n  \r\n  },\r\n  async mounted() {\r\n    await this.getInitialiseData();\r\n    if(this.locataire !=null){\r\n        this.provenance=2\r\n        this.disabled=true;\r\n      this.stateLocataire=this.locataire;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n@font-face {\r\n  font-family: \"font-1\";\r\n  src: url(/fonts/rampart-one-Font/RampartOne-Regular.ttf);\r\n}\r\n.text-form-annone {\r\n  font-family: \"font-1\", sans-serif;\r\n  font-size: 2.1em;\r\n  color: #0a0701fa;\r\n  \r\n}\r\n .disabled {\r\n    pointer-events:none;\r\n    color: #bfcbd9;\r\n    cursor: not-allowed;\r\n    background-image: none;\r\n    background-color: #eef1f6;\r\n    border-color: #d1dbe5;   \r\n }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OccupationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OccupationForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OccupationForm.vue?vue&type=template&id=08627a7c&scoped=true&\"\nimport script from \"./OccupationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./OccupationForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OccupationForm.vue?vue&type=style&index=0&id=08627a7c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08627a7c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsHabitant.vue?vue&type=style&index=0&id=390aa9e5&scoped=true&lang=css&\""],"sourceRoot":""}